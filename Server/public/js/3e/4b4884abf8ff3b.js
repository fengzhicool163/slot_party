var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},game;!function(t){var e=function(){function e(){this._musicIndex=0,this._effectIndex=0,model.FeatureSupport.isSupport(model.FeatureSupport.MUSIC)?e.isOpenMusic=!0:e.isOpenMusic=!1}return Object.defineProperty(e,"Ins",{get:function(){return null==this.ins&&(this.ins=new e),this.ins},enumerable:!0,configurable:!0}),e.prototype.play=function(t,i){if(e.isOpenMusic&&1!=this._effectIndex){var n=RES.getRes(t);if(n){var o=n.play(0,i?0:1);return o}RES.getResAsync(t,function(){},this)}},Object.defineProperty(e.prototype,"musicIndex",{get:function(){return this._musicIndex},set:function(t){this._musicIndex=t,1==this._musicIndex?this.pauseMusic():this.replayMusic()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effectIndex",{get:function(){return this._effectIndex},set:function(t){this._effectIndex=t},enumerable:!0,configurable:!0}),e.prototype.playMusic=function(t){e.isOpenMusic&&(this.backgroundMusicName=t,this.backgroundMusicChannel&&(this.backgroundMusicChannel.stop(),this.backgroundMusicChannel=null),1!=this._musicIndex&&this.loadResAsync(t))},e.prototype.loadResAsync=function(t){RES.getResAsync(t,function(t,e){e==this.backgroundMusicName&&(this.backgroundMusicChannel&&this.backgroundMusicChannel.stop(),this.backgroundMusic=t,this.backgroundMusicChannel=this.backgroundMusic.play())},this)},e.prototype.pauseMusic=function(){this.backgroundMusicChannel&&this.backgroundMusicChannel.stop()},e.prototype.replayMusic=function(){this.backgroundMusic?(this.pauseMusic(),this.backgroundMusicChannel=this.backgroundMusic.play()):this.backgroundMusicName?this.loadResAsync(this.backgroundMusicName):(this.backgroundMusicName=e.HOME_MUSIC,this.loadResAsync(this.backgroundMusicName))},e.prototype.isMusicOn=function(){if(model.FeatureSupport.isSupport(model.FeatureSupport.MUSIC)){var t=egret.localStorage.getItem(model.FeatureSupport.MUSIC);return"1"!=t}return!1},e.prototype.initGameSettings=function(){this.setMusicOn(this.isMusicOn())},e.prototype.setMusicOn=function(e){egret.localStorage.setItem(model.FeatureSupport.MUSIC,e?"0":"1"),t.MusicManager.Ins.musicIndex=e?0:1,t.MusicManager.Ins.effectIndex=e?0:1,t.GameEvent.UPDATE_HUD_MUSIC.dispatch()},e.prototype.isSoundOn=function(){return this.isMusicOn()},e.prototype.setSoundOn=function(t){this.setMusicOn(t)},e}();e.HOME_MUSIC="bjyinyue_mp3",e.isOpenMusic=!0,t.MusicManager=e,__reflect(e.prototype,"game.MusicManager")}(game||(game={}));var game;!function(t){var e=function(){function e(){this._bindings=[],this._prevParams=null,this.memorize=!1,this._shouldPropagate=!0,this.active=!0}return e.prototype.validateListener=function(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))},e.prototype._registerListener=function(e,i,n,o){var s,r=this._indexOfListener(e,n);if(-1!==r){if(s=this._bindings[r],s.isOnce()!==i)throw new Error("You cannot add"+(i?"":"Once")+"() then add"+(i?"Once":"")+"() the same listener without removing the relationship first.")}else s=new t.SignalBinding(this,e,i,n,o),this._addBinding(s);return this.memorize&&this._prevParams&&s.execute(this._prevParams),s},e.prototype._addBinding=function(t){var e=this._bindings.length;do--e;while(this._bindings[e]&&t.priority<=this._bindings[e].priority);this._bindings.splice(e+1,0,t)},e.prototype._indexOfListener=function(t,e){for(var i,n=this._bindings.length;n--;)if(i=this._bindings[n],i.getListener()===t&&i.context===e)return n;return-1},e.prototype.has=function(t,e){return void 0===e&&(e=null),-1!==this._indexOfListener(t,e)},e.prototype.add=function(t,e,i){return void 0===e&&(e=null),void 0===i&&(i=0),this.validateListener(t,"add"),this._registerListener(t,!1,e,i)},e.prototype.addOnce=function(t,e,i){return void 0===e&&(e=null),void 0===i&&(i=0),this.validateListener(t,"addOnce"),this._registerListener(t,!0,e,i)},e.prototype.remove=function(t,e){void 0===e&&(e=null),this.validateListener(t,"remove");var i=this._indexOfListener(t,e);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),t},e.prototype.removeAll=function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},e.prototype.getNumListeners=function(){return this._bindings.length},e.prototype.halt=function(){this._shouldPropagate=!1},e.prototype.dispatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.active){var i,n=this._bindings.length;if(this.memorize&&(this._prevParams=t),n){i=this._bindings.slice(0),this._shouldPropagate=!0;do n--;while(i[n]&&this._shouldPropagate&&i[n].execute(t)!==!1)}}},e.prototype.forget=function(){this._prevParams=null},e.prototype.dispose=function(){this.removeAll(),delete this._bindings,delete this._prevParams},e.prototype.toString=function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"},e}();e.VERSION="1.0.0",t.Signal=e,__reflect(e.prototype,"game.Signal")}(game||(game={}));var ui;!function(t){var e=function(e){function i(i,n,o,s){void 0===o&&(o=!1),void 0===s&&(s=null);var r=e.call(this)||this;return r.__loaded=!1,r.__added=!1,r._requestFull=!1,r._updateCalledBeforeLoaded=!1,r._needFocusWhenShow=!1,r._backgroundAlpha=.7,r._resGroup=i,r._fguiItemName=n,r._requestFull=o,r._fguiPackage=s||r._resGroup,t.UIUtils.lifeTime(r,r.__onAdded,r.__onRemoved,r,!0),r.initPopup(),r}return __extends(i,e),i.prototype.initPopup=function(){game.GameEvent.UI_LOADING_LOCK.dispatch(!0),this.load()},i.prototype.load=function(){if(this.resourceLoaded())this.create();else{var t=this.createLoader();t?t.load():this.create()}},i.prototype.resourceLoaded=function(){var t=this._resGroup||this._fguiItemName?null:fairygui.UIPackage.getItemURL(this._resGroup,this._name);return!!t&&t.length>0},i.prototype.createLoader=function(){if(this._resGroup){var e=t.LoadingView.create().queue(this._resGroup).setCallback(this.create,this);return e}return null},i.prototype.create=function(){this._fguiPackage&&this._fguiItemName&&(this.contentPane=fairygui.UIPackage.createObject(this._fguiPackage,this._fguiItemName).asCom),game.GameEvent.UI_LOADING_LOCK.dispatch(!1),this.__loaded=!0,this.tryUpdate()},i.prototype.__onAdded=function(){this.__added=!0,this.tryUpdate()},i.prototype.hasLoaded=function(){return this.__loaded},i.prototype.setNeedFocusWhenShow=function(t){this._needFocusWhenShow=t},i.prototype.closeWhenClickOutside=function(){return!0},i.prototype.tryUpdate=function(){this._updateCalledBeforeLoaded&&this.__loaded&&this.__added&&(this._beforeOnUpdate(),this.onUpdate.apply(this,this._updateArgs),this._afterOnUpdate(),this._updateArgs=null,this._updateCalledBeforeLoaded=!1)},Object.defineProperty(i.prototype,"view",{get:function(){return this.contentPane},enumerable:!0,configurable:!0}),i.prototype.update=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._updateCalledBeforeLoaded=!0,this._updateArgs=t,this.tryUpdate()},i.prototype._beforeOnUpdate=function(){this._requestFull&&this.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),this.center(),this.view&&(this._requestFull&&this.view.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),this.view.center(),t.UIUtils.iterGLoader(this.view,this.onLoaderNeedToDealWith,this)),this.showBackground()},i.prototype._afterOnUpdate=function(){this.view&&(this._closeText=this.view.getChild("kongbai")),this._closeText&&(console.log("[BasePopup] 有点击空白处关闭"),this._closeText.addClickListener(this.hide,this))},i.prototype.onUpdate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},i.prototype.onLoaderNeedToDealWith=function(t){return!0},i.prototype.onCloseDefault=function(t,e){this._defaultCloseCallback=t,this._defaultCloseCallbackObj=e},i.prototype.onClose=function(t,e){this._closeCallbacks||(this._closeCallbacks=[]);var i={cb:t,cbObj:e},n=_.findWhere(this._closeCallbacks,i);n||this._closeCallbacks.push(i)},i.prototype.__onRemoved=function(){this._popupChain&&this._popupChain.length?this.onChainClose():(this.releaseCloseCallbacks(),this._closeText&&this._closeText.removeClickListener(this.hide,this))},i.prototype.onChainClose=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(this._popupChain&&this._popupChain.length){var e=this._popupChain.shift(),n=t.UILayer.Ins.popup.apply(t.UILayer.Ins,e);n&&n.onClose(this.onChainClose,this)}else this.releaseCloseCallbacks()},i.prototype.releaseCloseCallbacks=function(){if(this._defaultCloseCallback&&(this._defaultCloseCallback.length?this._defaultCloseCallback.call(this._defaultCloseCallbackObj,this):this._defaultCloseCallback.call(this._defaultCloseCallbackObj)),this._closeCallbacks&&this._closeCallbacks.length)for(;this._closeCallbacks.length;){var t=this._closeCallbacks.shift();t.cb.apply(t.cbObj)}},i.prototype.chain=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return this._popupChain||(this._popupChain=[]),e.unshift(t),this._popupChain.push(e),this},i.prototype.hasChain=function(){return this._popupChain&&this._popupChain.length>0},i.prototype.requestFocus=function(){this._needFocusWhenShow&&e.prototype.requestFocus.call(this)},i.prototype.forceBackground=function(t){void 0===t&&(t=!0)},i.prototype.setBackgrooundAlpha=function(t){this.__graph&&(this.__graph.clearGraphics(),this.__graph.drawRect(1,0,0,0,t))},i.prototype.showBackground=function(){this.__graph||(this.__graph=new fairygui.GGraph,this.__graph.drawRect(1,0,0,0,.7)),this.__graphComp||(this.__graphComp=new fairygui.GComponent,this.__graphComp.addChild(this.__graph),this.__graph.addRelation(this.__graphComp,fairygui.RelationType.Size)),this.__graphComp.setSize(t.UILayer.ACTUAL_WIDTH,t.UILayer.ACTUAL_HEIGHT),this.addChildAt(this.__graphComp,0),this.__graphComp.center(!0),t.UIUtils.lifeTime(this.__graphComp,this.onShowingBackground,this.onHideBackground,this,!0)},i.prototype.hideBackground=function(){this.onHideBackground()},i.prototype.onShowingBackground=function(){this.__graphComp.addClickListener(this.onBackgroudClose,this)},i.prototype.onHideBackground=function(){this.__graphComp.removeFromParent(),this.__graphComp.removeClickListener(this.onBackgroudClose,this)},i.prototype.onBackgroudClose=function(){this.hide()},i}(fairygui.Window);t.BasePopup=e,__reflect(e.prototype,"ui.BasePopup",["ui.IPopup"])}(ui||(ui={}));var game;!function(t){var e=function(){function e(){this.assetsManager=null,this.boneFactory=null,this.dicSwfData=new Object}return Object.defineProperty(e,"Ins",{get:function(){return null==this.ins&&(this.ins=new e),this.ins},enumerable:!0,configurable:!0}),e.prototype.getSwfAssetManager=function(){return null==this.assetsManager&&(this.assetsManager=new starlingswf.SwfAssetManager),this.assetsManager},e.prototype.GetSwfList=function(){return this.dicSwfData},e.prototype.getSwf=function(t,e){if(e=e||24,this.dicSwfData[t])return this.addUpdateEventByName(t),this.dicSwfData[t];var i=RES.getRes(t+"_swf_json");if(!i)return null;var n=RES.getRes(t+"_json");if(n&&this.getSwfAssetManager().addSpriteSheet(t,n),RES.hasRes("img_"+t+"_png")){var o=RES.getRes("img_"+t+"_png");this.getSwfAssetManager().addTexture("img_"+t,o)}return this.dicSwfData[t]=new starlingswf.Swf(i,this.getSwfAssetManager(),e),this.dicSwfData[t]},e.prototype.deleteSwf=function(t){delete this.dicSwfData[t],RES.destroyRes(t+"_swf_json"),RES.destroyRes(t+"_json")},e.prototype.deleteAllSwf=function(){for(var t in this.dicSwfData)delete this.dicSwfData[t]},e.prototype.removeAllSwfUpdateEventListener=function(){for(var t in this.dicSwfData)this.removeUpdateEventByName(t),this.dicSwfData[t].clearUpdateQueue()},e.prototype.removeUpdateEventByName=function(t){this.dicSwfData[t]&&this.dicSwfData[t].removeUpdateEventListener()},e.prototype.addUpdateEventByName=function(t){this.dicSwfData[t]&&(this.dicSwfData[t].removeUpdateEventListener(),this.dicSwfData[t].addUpdateEventListener())},e.prototype.getAsset=function(t,e,i){function n(n){e.call(i,n,t)}if(RES.hasRes(t)){var o=RES.getRes(t);o?n(o):RES.getResAsync(t,n,this)}else RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_IMAGE)},e.prototype.loadAssets=function(t,e,i){function n(n){o+=1,o>=t.length&&e.apply(i,[n])}for(var o=0,s=0;s<t.length;s++){var r=t[s],a=RES.getRes(r);a?n(a):RES.getResAsync(r,n,this)}},e.prototype.getMonsterIcon=function(e,i,n){function o(o){if(s+=1,s>=r.length){var a=t.AssetManager.Ins.getSwf(e);if(!a)return;var o=a.createImage("img_"+e);i.apply(n,[o])}}var s=0,r=[e+"_swf_json"];RES.hasRes(e+"_json")?r.push(e+"_json"):RES.hasRes("img_"+e+"_png")&&r.push("img_"+e+"_png");for(var a=0;a<r.length;a++){var l=r[a],h=RES.getRes(l);h?o(h):RES.getResAsync(l,o,this)}},e}();t.AssetManager=e,__reflect(e.prototype,"game.AssetManager")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return t.createFromPool=function(){var e;return e=0==this._pool.length?new t:this._pool.shift()},t.prototype.returnToPool=function(){t._pool&&t._pool.push(this)},t.prototype.update=function(t){this._date||(this._date=new Date),this._date.setTime(t)},t.prototype.create=function(t){this._date=new Date(t)},t.prototype.offset=function(t){this._date&&this._date.setTime(this._date.getTime()+t)},t.prototype.getOriginalDate=function(){return this._date},t.prototype.getMiliSec=function(){return this.getOriginalDate().getTime()},t.prototype.getDayOfWeek=function(){var t=this.getOriginalDate().getDay();return 0==t?7:t},t.prototype.getYear=function(){return this.getOriginalDate().getFullYear()},t.prototype.getMonthOfYear=function(){var t=this.getOriginalDate().getMonth();return t+1},t.prototype.getDayOfMonth=function(){var t=this.getOriginalDate().getDate();return t},t.prototype.getHour=function(){var t=this.getOriginalDate().getHours();return t},t.prototype.getMinute=function(){var t=this.getOriginalDate().getMinutes();return t},t.prototype.getSecond=function(){var t=this.getOriginalDate().getSeconds();return t},t}();e._pool=[],t.DateStruct=e,__reflect(e.prototype,"game.DateStruct")}(game||(game={}));var init;!function(t){var e=function(){function t(t){void 0===t&&(t=null),this._supportedPlatforms=t}return Object.defineProperty(t,"sequence",{get:function(){return new i},enumerable:!0,configurable:!0}),t.prototype.handle=function(t,e){this._cb=t,this._ctx=e;var i=!0;i?this.handler_do():this.handler_ingore()},t.prototype.isSupported=function(t){return this._supportedPlatforms?-1!=this._supportedPlatforms.indexOf(t):!0},t.prototype.handler_do=function(){var t=!1;t?this.handler_native():this.handler_web(),this.done()},t.prototype.handler_web=function(){},t.prototype.handler_native=function(){},t.prototype.handler_ingore=function(){this.done()},t.prototype.done=function(){this.constructor;this._cb&&this._cb.apply(this._ctx?this._ctx:this,[this])},t.prototype.dispose=function(){this._supportedPlatforms=null,this._cb=null,this._ctx=null},t}();t.BaseInit=e,__reflect(e.prototype,"init.BaseInit");var i=function(){function t(){this._queue=[]}return t.prototype.add=function(t){return this._queue.push(t),this},t.prototype.remove=function(t){var e=this._queue.indexOf(t);return-1!=e&&this._queue.splice(e,1),this},t.prototype.done=function(t,e){return this._onComplete=t,this._onCompleteCtx=e,this},t.prototype["do"]=function(){console.log("[Init]","初始化队列 -- 开始!"),this.doNext()},t.prototype.dispose=function(){if(this._queue&&0!=this._queue.length){for(var t=0;t<this._queue.length;t++)this._queue[t].dispose();this._queue=[]}},t.prototype.doNext=function(t){var e=this.getNext(t);e?(this._current=e,e.handle(this.doNext,this)):(console.log("[Init]","初始化队列 -- 完成!"),this._current=null,this._onComplete&&this._onComplete.apply(this._onCompleteCtx))},t.prototype.getNext=function(t){if(this._queue&&this._queue.length>0){if(t||(t=this._current),!t)return this._queue[0];var e=t?this._queue.indexOf(t):-1;if(e>=0&&this._queue.length>e+1)return this._queue[e+1]}return null},t}();t.SequenceInit=i,__reflect(i.prototype,"init.SequenceInit")}(init||(init={}));var starlingswf;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getTextField=function(t){return this.getChildByName(t)},e.prototype.getMovie=function(t){return this.getChildByName(t)},e.prototype.getSprite=function(t){return this.getChildByName(t)},e.prototype.getImage=function(t){return this.getChildByName(t)},e}(egret.DisplayObjectContainer);t.SwfSprite=e,__reflect(e.prototype,"starlingswf.SwfSprite")}(starlingswf||(starlingswf={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component64")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n190=this.getChild("n190"),this.m_n191=this.getChild("n191"),this.m_n192=this.getChild("n192"),this.m_n193=this.getChild("n193"),this.m_n194=this.getChild("n194"),this.m_n195=this.getChild("n195")},e}(fairygui.GComponent);e.URL="ui://3ly9g3lasph8kbt",t.UI_Component64=e,__reflect(e.prototype,"ui.slots.UI_Component64")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var model;!function(t){var e=function(){function e(){this._upSDK=window&&window.UpSDK,this._upProtoParser=window&&window.UpliveProto}return Object.defineProperty(e,"Ins",{get:function(){return this._ins||(this._ins=new t.UpSDKModel),this._ins},enumerable:!0,configurable:!0}),e.prototype.getProtoParser=function(){return this._upProtoParser},e.prototype.reqGetUserInfo=function(e,i){var n=this;this._uid=PPGame.urlParams.userId||"1004186",PPGame.isLocalhost&&(n._uid="5010499",n._userToken="61d1EJf42382abL1SV","prodstage"==PPGame.urlParams.env&&(n._uid="5238543",n._userToken="61ciFQd3d489e9Lymd"));var o={};this._profile={},o.uid=this._uid,o.userToken=this._userToken,o.username=this._profile.username,o.upliveCode=this._profile.upliveCode||"",o.avatar=this._profile.avatar||"",o.gender=this._profile.gender||0,o.grade=this._profile.grade||0,t.UserModel.Ins.userProfile=o,e&&e.apply(i)},e.prototype.goPay=function(){PPGame.Ins.trackEvent(PPTrackEvent.PAY,PPPayStep.REQUEST_PAY),this._upSDK.gopay({complete:function(e){e&&1==e.success&&t.UserModel.Ins.deliveryDiamond()}})},e.prototype.reqGetUserProfile=function(e,i){var n={service:"service",api:"/profile/get",header:{userToken:this._userToken}},o={vuid:this._uid},s=new this._upProtoParser.Profile.Get.Request(o),r=PPGame.ENV.UPLIVE_PROTO_URL,a="?"+window.$.param(n),l=!1,h=!0,u=this;t.GeneralServerRequest.req(a,s,{context:u,onSuccess:function(n){var o=u._upProtoParser.Profile.Get.Response.decode(n);console.log("profile",o),u._profile=o&&o.profile;var s={};s.uid=this._uid,s.userToken=this._userToken,s.username=this._profile.username,s.upliveCode=this._profile.upliveCode||"",s.avatar=this._profile.avatar||"",s.gender=this._profile.gender||0,s.grade=this._profile.grade||0;var r=0;this._profile&&this._profile.balance&&this._profile.balance.diamond&&(r=window.longToString&&window.longToString(this._profile.balance.diamond)),s.diamond=parseInt(r+"")||0,t.UserModel.Ins.userProfile=s,e&&e.apply(i)},onFail:function(t,e){ui.UILayer.Ins.popup(ui.PopUpIds.NOTIFICATION,{content:game.Tools.lang("用戶信息獲取失敗")})}},r,l,h)},e}();t.UpSDKModel=e,__reflect(e.prototype,"model.UpSDKModel")}(model||(model={}));var model;!function(t){var e=function(){function e(){this.point001=0,this.point002=0,this.freeTimes=0,this.lastTaskCount=0,this.lastTaskStatus=!1,this.taskCount=0,this.taskStatus=!1,this.records=[],this.autoFill=!1,this.jackPotDiamond=0,this.activityEndTime=0,this.oldJackPotDiamond=0,this.isClosed=!1,this.taskRate=0,this.taskTimes=0}return Object.defineProperty(e,"Ins",{get:function(){return this._ins||(this._ins=new t.UserModel),this._ins},enumerable:!0,configurable:!0}),e.prototype.getIsClosed=function(){var e=t.UserModel.Ins.activityEndTime-t.GeneralServerRequest.getServerTime();return this.isClosed=0>=e?!0:!1,this.isClosed},e.prototype.reqLogin=function(e,i){PPGame.isLocalhost&&(PPGame.urlParams.userId="5010499");var n={uid:PPGame.urlParams.userId},o=this;t.GeneralServerRequest.req("login",n,{context:this,onSuccess:function(t){o.userProfile=t.user,o.userId=o.userProfile.uid,o.point001=t.user.point001?t.user.point001:0,o.point002=t.user.point002?t.user.point002:0,o.freeTimes=t.user.freeTimes||0,o.lastTaskCount=o.taskCount,o.lastTaskStatus=o.taskStatus,o.taskCount=t.user.taskCount||0,o.taskStatus=t.user.taskStatus||!1,o.records=t.records||[],o.activityEndTime=t.activityEndTime||0,o.taskTimes=t.user.timesOfRewardRate,o.taskRate=t.user.rewardRate,o.numOfBeautys=t.user.numOfBeautys||0,o.numOfEachBeauty=t.user.numOfEachBeauty||{},o.oldNumOfEachBeauty=o.numOfEachBeauty,o.roundOfS=t.user.roundOfS||0,o.haveParty=t.user.haveParty||0,o.numOfGetReward=t.user.numOfGetReward||0,o.getIsClosed(),game.UIEvent.UPDATE_JACKPOT_LIST.dispatch(0),game.GameEvent.UPDATE_HUD_DIAMOND.dispatch(),game.GameEvent.UPDATE_QUEST_REDDOT.dispatch(),e&&e.apply(i)},onFail:function(e,i){var n=function(){t.ErrorAction.retry()};ui.UILayer.Ins.popup(ui.PopUpIds.NOTIFICATION,{content:game.Tools.lang("登錄失敗，點擊確定按鈕重試"),confirmCallback:n,confirmCallbackObj:o,cancelCallback:n,cancelCallbackObj:o})}})},e.prototype.getSlotElement=function(e,i,n,o,s){var r=this;t.GeneralServerRequest.req("getSlotElement",{line:e,diamond:i},{context:this,onSuccess:function(t){r.lastTaskCount=r.taskCount,r.lastTaskStatus=r.taskStatus,r.taskStatus=t.taskStatus,r.taskCount=t.taskCount,game.GameEvent.UPDATE_QUEST_REDDOT.dispatch(),n&&n.apply(s,[t])},onFail:function(t,e){o&&o.apply(s,[t])}})},e.prototype.isEnough=function(t,e,i,n,o){void 0===i&&(i=null),void 0===n&&(n=null),void 0===o&&(o=!0);var s={diamond:game.Tools.lang("您的U鑽不足\n是否去購買？")},r=this.userProfile[e]||0;if(!(t>r))return!0;var a=ui.UILayer.Ins.popup(ui.PopUpIds.NOTIFICATION,{content:s[e],showCancel:!0,confirmCallback:function(){o&&ui.UILayer.Ins.clearAllPopUp(),"diamond"==e&&WindowMsg.Ins.posMessage({key:"pay"})}});return a.forceBackground(!0),!1},e.prototype.deliveryDiamond=function(e,i){var n=this;t.GeneralServerRequest.req("deliveryDiamond",{},{context:this,onSuccess:function(t){var o=parseInt(t&&t.diamond)||0;PPGame.Ins.trackEvent(PPTrackEvent.PAY,PPPayStep.SUCESS_PAY,{price:o-n.userProfile.diamond}),n.userProfile.diamond=o,game.GameEvent.UPDATE_HUD_DIAMOND.dispatch(),e&&e.apply(i)},onFail:function(t,e){}})},e.prototype.convertFreeTimes=function(e,i){t.GeneralServerRequest.req("convertFreeTimes",null,{context:this,onSuccess:function(t){console.log("----->convertFreeTimes  fail"),e&&e.apply(i,[t])},onFail:function(t,e){console.log("----->convertFreeTimes  fail")}})},e.prototype.getFreshUpCostDiamond=function(e,i){t.GeneralServerRequest.req("getFreshUpCostDiamond",null,{context:this,onSuccess:function(t){e&&e.apply(i,[t])},onFail:function(t,e){}})},e.prototype.getRanking=function(e,i,n){var o={};o.type=e,t.GeneralServerRequest.req("getRanking",o,{context:this,onSuccess:function(t){i&&i.apply(n,[t])},onFail:function(t,e){}})},e.prototype.getNotice=function(e,i){t.GeneralServerRequest.req("getNotice",{},{context:this,onSuccess:function(t){e&&e.apply(i,[t])},onFail:function(t,e){}},PPGame.ENV.LOBBY_URL)},e.prototype.getPoint001=function(){return this.point001||0},e.prototype.getPoint002=function(){return this.point002||0},e.prototype.getRecords=function(){return this.records||[]},e.prototype.getAwardByType=function(e,i,n,o){var s={};s.type=e;var r=this;t.GeneralServerRequest.req("getAwardByType",s,{context:this,onSuccess:function(t){r.point001=t.point001,r.point002=t.point002,r.freeTimes=t.freeTimes,r.userProfile.diamond=t&&t.diamond||0,game.GameEvent.UPDATE_HUD_DIAMOND.dispatch(),i&&i.apply(o,[t])},onFail:function(t,e){n&&n.apply(o,[t])}})},e.prototype.getTaskCount=function(){return this.taskCount},e.prototype.getQueryJackPot=function(e,i,n){var o=!0;t.GeneralServerRequest.req("queryJackPot",null,{context:this,onSuccess:function(t){e&&e.apply(n,[t])},onFail:function(t,e){i&&i.apply(n,[t])}},null,o)},e.prototype.getRewardOfParty=function(e,i,n,o){var s={};s.unitId=e,t.GeneralServerRequest.req("getRewardOfParty",s,{context:this,onSuccess:function(t){i&&i.apply(o,[t])},onFail:function(t,e){n&&n.apply(o,[t])}})},e}();t.UserModel=e,__reflect(e.prototype,"model.UserModel")}(model||(model={}));var game;!function(t){var e=function(){function t(t,e,i,n,o,s,r){this.url=e,this.type=t,this.callback=i,this.context=n,this.msg=o,this.isHideLoading=s||!1,this.isProtobuf=r||!1}return t}();t.RequestData=e,__reflect(e.prototype,"game.RequestData");var i=function(){function t(){}return t.Get=function(e,i,n,o){t.addQueue(egret.HttpMethod.GET,e,i,n,null,o)},t.Post=function(e,i,n,o,s,r){t.addQueue(egret.HttpMethod.POST,e,i,n,o,s,r)},t.addQueue=function(i,n,o,s,r,a,l){var h=new e(i,n,o,s,r,a,l);t.queue.push(h),t.next()},t.clearQueue=function(){t.queue=[],t.current=null},t.retry=function(){t.lastReq&&t.loader&&!t.loader.isSending()&&(t.queue.unshift(t.lastReq),t.next())},t.next=function(){t.loader&&t.loader.isSending()||t.current||(t.loader||(t.loader=new n(t.onComplete,t)),t.queue&&t.queue.length&&(t.current=t.queue.shift()),t.current&&t.loader.setData(t.current))},t.onComplete=function(e){var i=t.current;t.current=null,t.lastReq=i,e&&i&&i.callback&&i.callback.apply(i.context,[e])},t}();i.queue=[],t.Request=i,__reflect(i.prototype,"game.Request");var n=function(){function e(t,e){this._timeoutId=-1,this._retry=0,this._onComplete=t,this._context=e}return e.prototype.setData=function(t){this._data=t,this._retry=0,this.send()},e.prototype.getData=function(){return this._data},e.prototype.isSending=function(){return null!=this._req},e.prototype.send=function(){if(!this.isSending()){this.lockScreen(),this.genRequest();var t;t=this._data.isProtobuf?this._data.msg.toArrayBuffer():"object"==typeof this._data.msg?JSON.stringify(this._data.msg):this._data.msg,egret.log(" <-- url :",this._data.url),egret.log(" <-- req :",t),this._req.send(t),this.waitForTimeout()}},e.prototype.genRequest=function(){var t=new egret.HttpRequest;this._data.isProtobuf?t.responseType=egret.HttpResponseType.ARRAY_BUFFER:(t.responseType=egret.HttpResponseType.TEXT,t.setRequestHeader("Content-Type","text/json;charset=UTF-8")),t.open(this._data.url,this._data.type),t.addEventListener(egret.Event.COMPLETE,this.onComplete,this),t.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onError,this),this._req=t},e.prototype.onComplete=function(t){var e=this._req.response;if(egret.log(" --> res :",this._req.response),!this._data.isProtobuf)try{e=JSON.parse(e)}catch(t){e={error:model.ErrorCode.JSON_PARSE_ERROR}}this.releaseTimeout(),this.releaseRequest(),this.releaseLockScreen(),this._onComplete&&this._onComplete.apply(this._context,[e])},e.prototype.onError=function(t){egret.log(" <-- err :","IOError"),this.releaseLockScreen(),this.retry()},e.prototype.waitForTimeout=function(){var t=this;this._timeoutId=setTimeout(function(){t.retry()},15e3)},e.prototype.retry=function(){this._retry++,this.releaseTimeout(),this._req&&(this._req.abort(),this.releaseRequest()),this._retry>e.MAX_RETRY?(this._retry=0,this.onRefresh()):this.send()},e.prototype.onRefresh=function(){this.releaseLockScreen(),this._onComplete&&this._onComplete.apply(this._context,[{error:model.ErrorCode.IO_ERROR}])},e.prototype.releaseTimeout=function(){-1!=this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=-1)},e.prototype.releaseRequest=function(){this._req&&(this._req.removeEventListener(egret.Event.COMPLETE,this.onComplete,this),this._req.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onError,this),this._req=null)},e.prototype.lockScreen=function(){this._data.isHideLoading||t.GameEvent.LOCK_SCREEN.dispatch(!0)},e.prototype.releaseLockScreen=function(){this._data.isHideLoading||t.GameEvent.LOCK_SCREEN.dispatch(!1)},e}();n.MAX_RETRY=0,t.EgretRequestWrapper=n,__reflect(n.prototype,"game.EgretRequestWrapper")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return t}();e.SERVER_TIME_UPDATE=new t.Signal,e.LOCK_SCREEN=new t.Signal,e.UI_SWITCH=new t.Signal,e.UI_SWITCHED=new t.Signal,e.UI_SWITCH_INSIDE_MAIN=new t.Signal,e.UI_LOADING_LOCK=new t.Signal,e.PRELOADING_PROGRESS=new t.Signal,e.PRELOADING_COMPLETE=new t.Signal,e.SHOW_PROGRESS_LOADING=new t.Signal,e.UPDATE_HUD_DIAMOND=new t.Signal,e.UPDATE_HUD_MUSIC=new t.Signal,e.UPDATE_QUEST_REDDOT=new t.Signal,e.DISPLAY_HORSERACELAMP=new t.Signal,e.COLLECT_COMPLETE_ANIMATION=new t.Signal,e.COLLECT_FAIL_ANIMATION=new t.Signal,e.COLLECT_COMMON_ANIMATION=new t.Signal,e.UPDATE_COLLECT=new t.Signal,e.UPDATE_PARTY=new t.Signal,e.COLLECT_EFFECT=new t.Signal,e.SHOW_COLLECT_EFFECT_END=new t.Signal,e.MULTI_RATE_START=new t.Signal,e.MULTI_RATE_STOP=new t.Signal,e.CHANG_BACK_GROUND=new t.Signal,e.UPDATE_UNIT=new t.Signal,e.UPDATE_ALL_UNIT=new t.Signal,e.SHOW_CHANGE_SCROLLER_END=new t.Signal,e.SET_SCROLLER=new t.Signal,t.GameEvent=e,__reflect(e.prototype,"game.GameEvent")}(game||(game={}));var model;!function(t){var e=function(){function t(){}return t.isSupport=function(t){return!0},t}();e.MUSIC="music",e.SOUND="music",t.FeatureSupport=e,__reflect(e.prototype,"model.FeatureSupport")}(model||(model={}));var game;!function(t){var e=function(){function t(t,e,i,n,o){void 0===o&&(o=0),this.active=!0,this.params=null,this._listener=e,this._isOnce=i,this.context=n,this._signal=t,this.priority=o||0}return t.prototype.execute=function(t){var e,i;return this.active&&this._listener&&(i=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,i),this._isOnce&&this.detach()),e},t.prototype.detach=function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},t.prototype.isBound=function(){return!!this._signal&&!!this._listener},t.prototype.isOnce=function(){return this._isOnce},t.prototype.getListener=function(){return this._listener},t.prototype.getSignal=function(){return this._signal},t.prototype._destroy=function(){delete this._signal,delete this._listener,delete this.context},t.prototype.toString=function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"},t}();t.SignalBinding=e,__reflect(e.prototype,"game.SignalBinding")}(game||(game={}));var game;!function(t){var e=function(){function t(){}return t}();e.SLOT=new t.Signal,e.SLOT_RESULT=new t.Signal,e.SLOT_CHANGE_SCROLLER=new t.Signal,e.SLOT_RESULT_POPUP_END=new t.Signal,e.SLOT_WHEEL_END=new t.Signal,e.SLOT_LINE_REWARD_END=new t.Signal,e.SLOT_COMPLETE=new t.Signal,e.LINE=new t.Signal,e.BET=new t.Signal,e.SLOT_HUD=new t.Signal,e.SLOT_SHOW_RESULT=new t.Signal,e.SLOT_FREE_TIMES=new t.Signal,e.UPDATE_CHEST=new t.Signal,e.SHOW_KEY_ANI=new t.Signal,e.SHOW_KEY_ANI_END=new t.Signal,e.SHOW_FIRE_ANI_END=new t.Signal,e.UPDATE_FIRE=new t.Signal,e.ACHIEVE_FIRE=new t.Signal,e.SLOT_COST=new t.Signal,e.UPDATE_JACKPOT_LIST=new t.Signal,e.SHOW_JACKPOT_ANI=new t.Signal,e.SHOW_JACKPOT_ANI_END=new t.Signal,e.SHOW_SUPPLEMENT_ANI=new t.Signal,e.SHOW_SUPPLEMENT_ANI_END=new t.Signal,e.SHOW_STOP_JACKPOT_NUM=new t.Signal,e.MULTI_RATE_START=new t.Signal,e.MULTI_RATE_STOP=new t.Signal,e.SHOW_FREE_TIMES=new t.Signal,e.UPDATA_RATE=new t.Signal,e.SLOT_STOP_AUTO=new t.Signal,t.UIEvent=e,__reflect(e.prototype,"game.UIEvent")}(game||(game={}));var ui;!function(t){var e=function(){function t(t,e){void 0===t&&(t=!0),void 0===e&&(e=!1),this._showLoading=!0,this._lock=!0,this._totalWeight=0,this._showLoading=t,this._lock=e,this._totalWeight=0,this._queue=[],this._fguiDefsToUpdate=[]}return t.create=function(e,i){return void 0===e&&(e=!0),void 0===i&&(i=!0),new t(e,i)},t.prototype.queue=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=100);var n=_.findWhere(this._queue,{group:t});return n||this._queue.push({group:t,weight:i,isUIAsset:e}),this
},t.prototype.setUpdateCallback=function(t,e){return this._onUpdateCallback=t,this._onUpdateCallbackObj=e,this},t.prototype.setCallback=function(t,e){return this._callback=t,this._context=e,this},t.prototype.load=function(){return this._showLoadingUI(),this.loadNext(),this},t.prototype.loadNext=function(){this._queue.length>0?(this._currentToLoad=this._queue.shift(),this._currentToLoad&&i.Inst.load(this._currentToLoad.group,this.onGroupProgress,this.onGroupComplete,this)):this.onAllComplete()},t.prototype.onGroupProgress=function(t){var e=this._currentToLoad.weight,i=Math.ceil(t.itemsLoaded/t.itemsTotal*e+this._totalWeight);this._showLoading&&game.GameEvent.SHOW_PROGRESS_LOADING.dispatch(!0,i),"bin"===t.resItem.type&&this._currentToLoad.isUIAsset&&this._fguiDefsToUpdate.push(t.resItem.name),this._onUpdateCallback&&this._onUpdateCallback.apply(this._onUpdateCallbackObj,[i])},t.prototype.onGroupComplete=function(t){this._totalWeight+=this._currentToLoad.weight,this.loadNext()},t.prototype.onAllComplete=function(){for(;this._fguiDefsToUpdate.length;){var t=this._fguiDefsToUpdate.shift();fairygui.UIPackage.addPackage(t)}this._callback&&this._callback.apply(this._context),this._callback=null,this._context=null,this._onUpdateCallback=null,this._onUpdateCallbackObj=null,this._hideLoadingUI()},t.prototype._showLoadingUI=function(){this._showLoading&&(game.GameEvent.LOCK_SCREEN.dispatch(!0),game.GameEvent.SHOW_PROGRESS_LOADING.dispatch(!0,0))},t.prototype._hideLoadingUI=function(){game.GameEvent.LOCK_SCREEN.dispatch(!1),game.GameEvent.SHOW_PROGRESS_LOADING.dispatch(!1)},t}();t.LoadingView=e,__reflect(e.prototype,"ui.LoadingView");var i=function(){function e(){this._queueArr=[],this._queueDict={}}return Object.defineProperty(e,"Inst",{get:function(){return e._ins||(e._ins=new e),e._ins},enumerable:!0,configurable:!0}),e.prototype.load=function(t,e,i,n){var o=!0;t=this.groupMapping(t),this._queueDict.hasOwnProperty(t)||(this._queueDict[t]=[],o=!1);var s={group:t,progress:e,complete:i,context:n};this._queueDict[t].push(s),o||(s={group:t,retry:0},this._queueArr.push(s)),this.loadNext()},e.prototype.groupMapping=function(t){var e=t;if(model.LocaleModel.Ins.locale!=model.LocaleModel.DEFAULT_LOCALE){var i=model.LocaleModel.Ins.locale,n=t,o=!0,s=t+"_"+i;if(-1!=n.indexOf(i)&&(o=!1),o){var r=RES.getGroupByName(s);r&&r.length>0&&(o=!1)}if(o){var a=RES.getGroupByName(t);if(a&&a.length>0){for(var l,h,u,c=[],_=0;_<a.length;_++)if(l=a[_]){if(h=l.name,-1!=h.indexOf("@")){var p=h.split("@");p[0]=p[0]+"_"+i,u=p.join("@")}else u=h+"_"+i;RES.hasRes(u)?c.push(u):c.push(h)}RES.createGroup(s,c,!0),e=s}}}return e},e.prototype.loadNext=function(){this._current||(this._queueArr.length>0?(this._current=this._queueArr.shift(),this._current.retry=0,RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this._onGroupLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this._onGroupProgress,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this._onGroupLoadError,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this._onItemLoadError,this),RES.loadGroup(this._current.group)):(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this._onGroupLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this._onGroupProgress,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this._onGroupLoadError,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this._onItemLoadError,this)))},e.prototype._onGroupLoadComplete=function(t){var e,i=t.groupName,n=this._queueDict[i];if(n&&n.length>0){delete this._queueDict[i],this._current=null;for(var o=0,s=n.length;s>o;o++)e=n[o],e&&e.complete&&e.complete.apply(e.context,[t])}this.loadNext()},e.prototype._onGroupProgress=function(t){for(var e,i=t.groupName,n=this._queueDict[i],o=0,s=n.length;s>o;o++)e=n[o],e&&e.progress&&e.progress.apply(e.context,[t])},e.prototype._onGroupLoadError=function(t){console.log("retry load group "+t.groupName);var i=t.groupName,n=this._queueDict[i];n&&(n.retry++,n.retry<e.MAX_TRY?RES.loadGroup(i):this.retry(i))},e.prototype._onItemLoadError=function(t){console.log("item load error ",t)},e.prototype.retry=function(e){var i=this._queueDict[e];if(i){var n={showClose:!1,content:game.Tools.lang("資源加載失敗,點擊確定重試!!"),confirmCallback:function(){i.retry=0,RES.loadGroup(e)},confirmCallbackObj:this};t.UILayer.Ins.popup(t.PopUpIds.NOTIFICATION,n)}},e}();i.MAX_TRY=3,t.GroupLoader=i,__reflect(i.prototype,"ui.GroupLoader")}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.loadExternal=function(){-1!=this.url.indexOf("ui://")?t.prototype.loadExternal.call(this):(this.url=model.LocaleModel.Ins.getLocaleLoaderResource(this.url),this.__resType?RES.getResByUrl(this.url,this.__myGetResCompleted,this,this.__resType):RES.getResByUrl(this.url,this.__myGetResCompleted,this))},e.prototype.__myGetResCompleted=function(t,e){t instanceof egret.Texture?this.onExternalLoadSuccess(t):this.onExternalLoadFailed()},e.prototype.setResType=function(t){this.__resType=t},e}(fairygui.GLoader);t.MyGLoader=e,__reflect(e.prototype,"ui.MyGLoader")}(ui||(ui={}));var game;!function(t){var e=function(){function e(){this.line=1,this.bet=10,this.singleBet=0,this._keyPlayEnd=!1,this._firePlayEnd=!1,this._collectEffectPlayEnd=!1,this._changeScrollerEnd=!1}return Object.defineProperty(e,"Ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.init=function(){t.UIEvent.LINE.add(this.onLineChanged,this),t.UIEvent.BET.add(this.onBetChanged,this),t.UIEvent.SLOT.add(this.onSlot,this),t.UIEvent.SLOT_LINE_REWARD_END.add(this.onSlotComplete,this),t.UIEvent.SHOW_KEY_ANI_END.add(this.onKeyPlayEnd,this),t.UIEvent.SHOW_FIRE_ANI_END.add(this.onFirePlayEnd,this),t.GameEvent.SHOW_COLLECT_EFFECT_END.add(this.onCollectEffectEnd,this),t.GameEvent.SHOW_CHANGE_SCROLLER_END.add(this.onChangeScrollerEnd,this)},e.prototype.onLineChanged=function(t){this.line=t,this.singleBet=this.bet*this.line},e.prototype.onBetChanged=function(t){this.bet=t,this.singleBet=this.bet*this.line},e.prototype.onSlot=function(){var e=this;model.UserModel.Ins.getSlotElement(e.line,e.bet,function(i){if(model.UserModel.Ins.freeTimes>0&&model.UserModel.Ins.freeTimes--,i.slotResult.point&&(i.slotResult.point.point001>0&&(model.UserModel.Ins.point001+=i.slotResult.point.point001),i.slotResult.point.point002>0&&(model.UserModel.Ins.point002+=i.slotResult.point.point002)),model.UserModel.Ins.taskRate>0)for(var n in i.slotResult.rewardDetails)i.slotResult.rewardDetails[n]*=model.UserModel.Ins.taskRate;model.UserModel.Ins.oldNumOfEachBeauty=model.UserModel.Ins.numOfEachBeauty,e.response=i,model.UserModel.Ins.userProfile.diamond=i.diamond,model.UserModel.Ins.collectBeautys=i.slotResult.collectBeautys,model.UserModel.Ins.numOfBeautys=i.numOfBeautys,model.UserModel.Ins.numOfEachBeauty=i.numOfEachBeauty,model.UserModel.Ins.haveParty=i.haveParty||0,model.UserModel.Ins.numOfGetReward=i.numOfGetReward||0,model.UserModel.Ins.taskTimes=i.timesOfRewardRate,model.UserModel.Ins.taskRate=i.rewardRate,t.UIEvent.SLOT_FREE_TIMES.dispatch(),t.UIEvent.SLOT_RESULT.dispatch(null,i),model.UserModel.Ins.roundOfS=i.roundOfS},function(e){t.GameEvent.UPDATE_PARTY.dispatch(model.UserModel.Ins.roundOfS),t.UIEvent.SLOT_RESULT.dispatch(e,null)},this)},e.prototype.onSlotComplete=function(){this._collectEffectPlayEnd=this._changeScrollerEnd=!1,t.GameEvent.COLLECT_EFFECT.dispatch(),t.GameEvent.UPDATE_COLLECT.dispatch(),this.response.timesOfRewardRate||t.GameEvent.MULTI_RATE_STOP.dispatch()},e.prototype.onKeyPlayEnd=function(){this._keyPlayEnd=!0,this.checkComplete()},e.prototype.onFirePlayEnd=function(){this._firePlayEnd=!0,this.checkComplete()},e.prototype.onCollectEffectEnd=function(){this._collectEffectPlayEnd=!0,this.checkComplete();if(model.UserModel.Ins.numOfGetReward<4){var e=view.SlotWheel.Ins.getMode();0!=e?t.GameEvent.SET_SCROLLER.dispatch(0,1):this.onChangeScrollerEnd()}else this.onChangeScrollerEnd();0==model.UserModel.Ins.taskTimes&&t.UIEvent.MULTI_RATE_STOP.dispatch()},e.prototype.onChangeScrollerEnd=function(){this._changeScrollerEnd=!0,this.checkComplete()},e.prototype.checkComplete=function(){this._collectEffectPlayEnd&&this._changeScrollerEnd&&t.UIEvent.SLOT_COMPLETE.dispatch()},e}();t.SlotLogic=e,__reflect(e.prototype,"game.SlotLogic")}(game||(game={}));var ui;!function(t){var e=function(){function e(){}return e.init=function(){fairygui.UIObjectFactory.setLoaderExtension(t.MyGLoader),this.hackAS(),this.hackResize(),this.initComponentExtensions(),this.addLocalizationFunctionality(),this.addSoundForButton()},e.hackAS=function(){var t=fairygui.GObject.prototype;t.asCom=function(){return this},t.asButton=function(){return this},t.asLabel=function(){return this},t.asProgress=function(){return this},t.asTextField=function(){return this},t.asRichTextField=function(){return this},t.asTextInput=function(){return this},t.asLoader=function(){return this},t.asList=function(){return this},t.asGraph=function(){return this},t.asGroup=function(){return this},t.asSlider=function(){return this},t.asComboBox=function(){return this},t.asImage=function(){return this},t.asMovieClip=function(){return this}},e.hackResize=function(){var e=fairygui.GRoot.prototype;e.__winResize=function(e){t.UILayer.Ins.resizeWin(),this.setSize(t.UILayer.ACTUAL_WIDTH,t.UILayer.ACTUAL_HEIGHT),console.log("GRoot __winResize",this.width,this.height)},e=fairygui.GObject.prototype,e.handleGrayedChanged=function(){},__define(e,"filters",function(){return[]},function(t){})},e.addLocalizationFunctionality=function(){var t=fairygui.UIPackage.getByName;fairygui.UIPackage.getByName=function(i){var n=e.getLocaleName(i);return n!=i&&console.log("[FGUI]","mapping",i,n),t(n)};var i=fairygui.UIPackage.createObject;fairygui.UIPackage.createObject=function(t,n,o){return t=e.getLocaleName(t),i(t,n,o)};var n=fairygui.GTextField.prototype,o=n.updateTextFieldText;n.updateTextFieldText=function(){this._text;this._text=game.Tools.lang(this._text),o.call(this)},n=fairygui.GRichTextField.prototype;var s=Object.getOwnPropertyDescriptor(n,"text").set;__define(n,"text",function(){return this._text},function(t){t=game.Tools.lang(t),s.call(this,t)}),n=fairygui.GTextInput.prototype;var r=n.updateTextFieldText;n.updateTextFieldText=function(){this._promptText&&this._promptText.length>0&&(this._promptText=game.Tools.lang(this._promptText)),this._text&&this._text.length>0&&(this._text=this._text.trim(),this._text=game.Tools.lang(this._text)),r.call(this)}},e.getLocaleName=function(t){var e=model.LocaleModel.Ins.locale;if(e!=model.LocaleModel.DEFAULT_LOCALE){var i=t+"_"+e;RES.hasRes(i)&&(t=i)}return t},e.initComponentExtensions=function(){fairygui.UIObjectFactory.setLoaderExtension(t.MyGLoader);var e=fairygui.UIPackage.addPackage;fairygui.UIPackage.addPackage=function(t){var i=e(t);return i}},e.addSoundForButton=function(){var t=fairygui.GButton.prototype.__click;fairygui.GButton.prototype.__click=function(){game.MusicManager.Ins.play("dianjianniu_mp3"),t.call(this)}},e}();t.FGUIExtension=e,__reflect(e.prototype,"ui.FGUIExtension")}(ui||(ui={}));var game;!function(t){var e=function(){function e(){this._clearOnStop=!0}return e.get=function(t,i){var n=t+"|"+i,o=this._animationCache[n];o||(o=[],this._animationCache[n]=o);var s;return s=o.length>0?o.shift():new e,s.init(t,i,n),s},e.prototype.init=function(t,e,i){this._key=i,this._anim||(this._anim=this.create(t,e)),this._anim&&(this._anim.scaleX=this._anim.scaleY=1,this._anim.x=this._anim.y=0,this.stop())},e.prototype.create=function(i,n){e._swfCache[i]||(e._swfCache[i]=t.AssetManager.Ins.getSwf(i));var o=e._swfCache[i];return o.createMovie(n)},e.prototype.attach=function(t,e){return void 0===e&&(e=!1),this._graph=t,this._anim&&this._graph&&(this._graph.setNativeObject(this._anim),this._graph.touchable=e),this},e.prototype.play=function(t,e){return void 0===t&&(t=!1),void 0===e&&(e=0),this._anim&&(this._anim.loop=t,this._anim.gotoAndPlay(e),t||this._anim.hasEventListener(egret.Event.COMPLETE)||this._anim.addEventListener(egret.Event.COMPLETE,this.onStopHandler,this)),this},e.prototype.stop=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=!0),this._clearOnStop=e,this._anim&&(this._anim.gotoAndStop(t),this.onStopHandler()),this},e.prototype.fitScale=function(t,e,i){return void 0===t&&(t=!0),e=e>0?e:fairygui.GRoot.inst.width,i=i>0?i:fairygui.GRoot.inst.height,this._anim.scaleX=t?fairygui.GRoot.inst.width/640:this._anim.width/e,this._anim.scaleY=t?fairygui.GRoot.inst.height/960:this._anim.height/i,this},e.prototype.fitScreen=function(){return ui.UIUtils.fitScale(this._anim,fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),this},e.prototype.onStop=function(t,e,i){return this._cb=e,this._ctx=i,this._clearOnStop=t,this},e.prototype.onStopHandler=function(){this._clearOnStop&&this.clear(),this._cb&&this._cb.apply(this._ctx)},e.prototype.clear=function(){if(this._graph&&this._graph.clearGraphics(),this._anim&&(this._anim.scaleX=this._anim.scaleY=1),this._anim&&this._anim.parent&&this._anim.parent.removeChild(this._anim),this._key&&e._animationCache[this._key]){var t=e._animationCache[this._key];t&&t.length>0&&-1==t.indexOf(this)&&t.push(this)}return this},Object.defineProperty(e.prototype,"anim",{get:function(){return this._anim},enumerable:!0,configurable:!0}),e}();e._animationCache={},e._swfCache={},e._animationsCache={},t.Animation=e,__reflect(e.prototype,"game.Animation")}(game||(game={}));var ui;!function(t){var e=function(){function e(){this._content="",this._text=new fairygui.GTextField,this._text.ubbEnabled=!0,this._text.fontSize=22}return e.init=function(t,i){void 0===i&&(i=0),e._timeTick=e.updateHandler,this._time=egret.getTimer(),egret.startTick(e._timeTick,e),e._container=t,e._side=i,e.getNotice()},e.isDiff=function(t){for(var i=!1,n=0;n<e.totalPools.length;n++)if(e.totalPools[n].createTime==t.createTime){i=!0;break}return i},e.getNotice=function(){model.UserModel.Ins.getNotice(function(t){var i=t.notices;if(i&&i.length>0)for(var n=0;n<i.length;n++)e.isDiff(i[n])||(e.totalPools.unshift(i[n]),e.itemPools.unshift(i[n]));e.totalPools.length>100&&e.totalPools.splice(100),e.itemPools.length>100&&e.itemPools.splice(100),e.isPlay||e.startHorseRace()},this)},e.updateHandler=function(t,i){var n=t-this._time;n>3e5&&(this._time=egret.getTimer(),e.getNotice())},e.startHorseRace=function(){if(e.itemPools&&e.itemPools.length>0){this.isPlay=!0;var t=e.itemPools.shift();e.create(t),game.GameEvent.DISPLAY_HORSERACELAMP.dispatch(!0)}else this.isPlay=!1,game.GameEvent.DISPLAY_HORSERACELAMP.dispatch(!1)},e.create=function(t,i){void 0===i&&(i=e.WHITE);var n=this.get(),o="";return o=3==t.quality?game.Tools.lang("[color=#ffff00]%c[/color]在%c在%c中,鴻運當頭，賺到[color=#ffff00]%c[/color]U鑽!",game.Tools.getFormatText(t.username,30),t.gameName,t.diamond):game.Tools.lang("[color=#ffff00]%c[/color]在%c中,好運連連，賺到[color=#ffff00]%c[/color]U鑽!",game.Tools.getFormatText(t.username,30),t.gameName,t.diamond),n.content=o,n.color=i,e.current=n,e._container.displayListContainer.addChild(n.text.displayObject),n},e.get=function(){var e=null;return e=this.TOASTERS_POOL.length>0?this.TOASTERS_POOL.shift():new t.HorseRaceLamp,this.TOASTERS_SHOWING.push(e),e},Object.defineProperty(e.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(e){this._content=e,this._text.text=this._content,this._text.y=0,this._text.x=t.UILayer.ACTUAL_WIDTH,this._text.alpha=1,this.animationSeq()},enumerable:!0,configurable:!0}),e.prototype.animationSeq=function(){var t=0;egret.Tween.get(this._text).to({x:t},e.RACE_TIME).wait(4e3).call(this.hide,this)},Object.defineProperty(e.prototype,"color",{set:function(t){this._text.color=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeColor",{set:function(t){this._text.stroke=2,this._text.strokeColor=t},enumerable:!0,configurable:!0}),e.prototype.hide=function(){egret.Tween.removeTweens(this._text),this.onHide(),e.startHorseRace()},e.dispose=function(){e._container=null,egret.stopTick(e._timeTick,e)},e.prototype.onHide=function(){this._content="",this._text.text="",this._text.alpha=1,t.HorseRaceLamp.TOASTERS_SHOWING.splice(t.HorseRaceLamp.TOASTERS_SHOWING.indexOf(this),1),t.HorseRaceLamp.TOASTERS_POOL.push(this)},e}();e.WHITE=16777215,e.WHITE_STROKE=0,e.YELLOW=16636513,e.YELLOW_STROKE=5640978,e.RACE_TIME=1e3,e.OPT_IN_TIME=3e3,e.TOASTERS_POOL=[],e.TOASTERS_SHOWING=[],e.itemPools=[],e.totalPools=[],e._time=0,e.isPlay=!1,e._side=0,e._t=e.RACE_TIME/4,t.HorseRaceLamp=e,__reflect(e.prototype,"ui.HorseRaceLamp")}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(i){var n=t.call(this)||this;return n.trigger=e.TRIGGER,n.interval=e.INTERVAL,n.holdRangeRadius=50,n._started=!1,n._host=i,n.trigger=e.TRIGGER,n.interval=e.INTERVAL,n.holdRangeRadius=50,n}return __extends(e,t),e.prototype.enable=function(t){t?(this._host.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this._host.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)):(this._host.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this._host.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),egret.stopTick(this.onTime,this))},e.prototype.onTouchBegin=function(t){},e.prototype.onTouchEnd=function(t){},e.prototype.onTime=function(t){this._host.globalToLocal(fairygui.GRoot.mouseX,fairygui.GRoot.mouseY);return!1},e}(egret.EventDispatcher);e.BEGIN="onLongPressBegin",e.END="onLongPressEnd",e.ACTION="onLongPressAction",e.TRIGGER=1.5,e.INTERVAL=1,t.LongPress=e,__reflect(e.prototype,"ui.LongPress")}(ui||(ui={}));var ui;!function(t){var e=function(e){function i(i,n,o){void 0===n&&(n=.6),void 0===o&&(o=1);var s=e.call(this)||this;s._supportLocale=!1,s._scalable=!0,s._stayTime=0,s._stayFrame=0,s._stayFramePassed=0,s._updateFramePassed=0,s._slicePart=0,s._target=0,s._updateTime=n,s._stayTime=o,s._tf=new egret.BitmapText,s._tf.letterSpacing=-40,s._tf.font=RES.getRes(i),s._tf.text="0",s.addChild(s._tf);var r=0;return s._supportLocale=!!r.toLocaleString&&r.toLocaleString("zh-CN")!=r+"",t.UIUtils.lifeTime(s,s.onAdded,s.onRemoved),s}return __extends(i,e),i.prototype.onAdded=function(){this._updateFrame=Math.round(this._updateTime*this.stage.frameRate),this._stayFrame=Math.round(this._stayTime*this.stage.frameRate),console.log("[SlotNumberScroller]","this._updateFrame:",this._updateFrame),this.current=0,this._target>0&&!this.hasEventListener(egret.Event.ENTER_FRAME)&&this.addEventListener(egret.Event.ENTER_FRAME,this.onUpdate,this)},i.prototype.getWith=function(){return this._tf.width},i.prototype.onRemoved=function(){this.stop()},i.prototype.stop=function(){this.removeEventListener(egret.Event.ENTER_FRAME,this.onUpdate,this),this._updateFramePassed=0,this._stayFramePassed=0,this._target=0,this._slicePart=0},Object.defineProperty(i.prototype,"target",{set:function(t){this._target=t,this.hasEventListener(egret.Event.ENTER_FRAME)||this.addEventListener(egret.Event.ENTER_FRAME,this.onUpdate,this)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"current",{set:function(t){0>=t?this.showStr("0"):this._supportLocale?this.showStr(t.toLocaleString("zh-CN")):this.setNum(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scalable",{set:function(t){this._scalable=t},enumerable:!0,configurable:!0}),i.prototype.onStop=function(t,e){this._stopCallback=t,this._stopCallbackObj=e},i.prototype.setNum=function(t){var e=""+t;if((""+t).length>3){for(var i=e.split(""),n=3;n<i.length;n+=4)i.splice(i.length-n,0,",");this.showStr(i.join(""))}else this.showStr(e)},i.prototype.showStr=function(t){""==t.replace("0","")?this._tf.visible=!1:(this._tf.visible=!0,this._tf.text=t,this._tf.x=-this._tf.width/2)},i.prototype.onUpdate=function(){if(this._updateFramePassed==this._updateFrame)this.current=this._target,this.scaleX=this.scaleY=1,this._stayFramePassed==this._stayFrame&&(this.stop(),this._stopCallback&&this._stopCallback.apply(this._stopCallbackObj)),this._stayFramePassed++;else{if(0==this._updateFramePassed)this.current=0,this.scaleX=this.scaleY=1;else if(this.current=Math.round(this._target*this._updateFramePassed/this._updateFrame),this._scalable){0==this._slicePart&&(this._slicePart=this._updateFrame/2);var t=this._updateFramePassed>this._slicePart?.4:.2,e=this._updateFramePassed%this._slicePart/this._slicePart;this.scaleX=this.scaleY=1+Math.sin(Math.PI*e)*t}this._updateFramePassed++}},i}(egret.Sprite);t.SlotNumberScroller=e,__reflect(e.prototype,"ui.SlotNumberScroller")}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._frames=[],e}return __extends(e,t),e.prototype.clear=function(){for(;this._frames.length>0;){var t=this._frames.shift();t.stop()}this.removeChildren(),this.graphics.clear()},e.prototype.draw=function(t,e,i){if(e&&e.length>0){this._globalPoint||(this._globalPoint=new egret.Point,this.localToGlobal(0,0,this._globalPoint));for(var n=0;n<e.length;n++)e[n].x-=this._globalPoint.x,e[n].y-=this._globalPoint.y;if(this.drawRect(e,t),t==view.SlotWheel.MAX_SCROLLER)return;switch(this.graphics.lineStyle(4,16346623),i){case view.SlotWheel.LINE1:case view.SlotWheel.LINE2:case view.SlotWheel.LINE3:this.drawLine123(t,e);break;case view.SlotWheel.LINE4:case view.SlotWheel.LINE5:this.drawLine45(t,e,i);break;case view.SlotWheel.LINE6:case view.SlotWheel.LINE7:this.drawLine67(t,e,i);break;case view.SlotWheel.LINE8:case view.SlotWheel.LINE9:this.drawLine89(t,e,i)}this.graphics.endFill()}},e.prototype.drawLine123=function(t,e){var i=e[t-1].right,n=e[t-1].top+e[t-1].height/2,o=e[e.length-1].right,s=e[e.length-1].top+e[e.length-1].height/2;this._drawLine([[i,n],[o,s]])},e.prototype.drawLine45=function(t,e,i){function n(){var n=i[t]-i[t-1];return n>0?[e[t-1].right,e[t-1].bottom]:[e[t-1].right,e[t-1].top]}function o(){var i=l.toCenter(e[t]);return[i.x,i.y]}function s(){var n=i[t]-i[t-1];return n>0?[e[t-1].right,e[t-1].bottom]:[e[t-1].right,e[t-1].top]}function r(){var t=i[i.length-1]-i[i.length-2];return t>0?[e[e.length-1].right,e[e.length-1].bottom]:[e[e.length-1].right,e[e.length-1].top]}var a=[],l=this;switch(t){case 2:a.push(n()),a.push(o()),a.push(r());break;case 3:a.push(s()),a.push(r());break;case 4:a.push(s()),a.push(r())}this._drawLine(a)},e.prototype.drawLine67=function(t,e,i){for(var n,o,s,r,a=[],l=0;t>l;l++)s=0==l?null:e[l-1],n=e[l],r=l==e.length-1?null:e[l+1],a=[],r.y>n.y?(a.push([n.right-n.width/4,n.bottom]),a.push([r.left+r.width/4,r.top])):(a.push([n.right-n.width/4,n.top]),a.push([r.left+r.width/4,r.bottom])),this._drawLine(a);for(a=[],a.push(r.y>n.y?[n.right-n.width/4,n.bottom]:[n.right-n.width/4,n.top]),l=t;l<e.length-1;l++)n=e[l],o=this.toCenter(e[l]),a.push([o.x,o.y]);s=n,n=e[e.length-1],a.push(n.y>s.y?[n.right,n.bottom]:[n.right,n.top]),this._drawLine(a)},e.prototype.drawLine89=function(t,e,i){var n,o,s=[];n=e[e.length-1],s.unshift([n.right,n.top+n.height/2]),o=this.toCenter(n),s.unshift([o.x,o.y]);var r=n;n=e[e.length-2],4==t?s.unshift(r.y>n.y?[n.right,n.bottom]:[n.right,n.top]):(o=this.toCenter(n),s.unshift([o.x,o.y])),r=n,n=e[e.length-3],3==t&&s.unshift(r.y>n.y?[n.right,n.bottom]:[n.right,n.top]),r=n,n=e[e.length-4],2==t&&s.unshift(r.y>n.y?[n.right,n.bottom]:[n.right,n.top]),this._drawLine(s)},e.prototype._drawLine=function(t){var e=t.shift();this.graphics.moveTo(e[0],e[1]);for(var i=0;i<t.length;i++)this.graphics.lineTo(t[i][0],t[i][1])},e.prototype.drawRect=function(t,e){for(var i,n=0;e>n;n++)i=this.getAnim(),i.anim.x=t[n].x,i.anim.y=t[n].y+(t[n].height-i.anim.height)/2,this.addChild(i.anim),this._frames.push(i)},e.prototype.toCenter=function(t){return this._center||(this._center=new egret.Point),this._center.x=t.left+t.width/2,this._center.y=t.top+t.height/2,this._center},e.prototype.getAnim=function(){return game.Animation.get("laohujinew004","mc_laohujinew001yc_kuang").play(!0)},e}(egret.Sprite);t.SlotRewardLine=e,__reflect(e.prototype,"ui.SlotRewardLine")}(ui||(ui={}));var ui;!function(t){var e=function(e){function i(i,n,o,s){var r=e.call(this)||this;return r._running=!1,r._unitGap=-1,r._slotRect=new egret.Rectangle,r._slotP=new egret.Point,r._scrollStatus=-1,r._endIndex=0,r.MAX_SPEED=50,r.INIT_SPEED=2,r.SPEED_STEP=4,r.MAX_SPEED_TIME=.8,r.OUT_OF_TIME=6,r._speed=r.INIT_SPEED,r._firstStepSpeedStep=0,r._maxSpeed=r.MAX_SPEED,r._maxSpeedTime=r.MAX_SPEED_TIME,r._finalStepDetermined=!1,r._finalStepTime=0,r._finalStepTimePassed=0,r._finalStepLength=0,r._finalStepLastLength=0,r._fixL1=!1,r._modaled=!1,r.pi2=2*Math.PI,r._config=i,r._visibleItemNum=s,r._visibleHeight=o,r._visibleWidth=n,r._container=new egret.Sprite,r.addChild(r._container),t.UIUtils.lifeTime(r,r.onAdded,null,null,!0),r}return __extends(i,e),i.prototype.onAdded=function(t){this._container.graphics.beginFill(13421772,0),this._container.graphics.drawRect(0,0,this._visibleWidth,this._visibleHeight),this._container.graphics.endFill();var e=new egret.Rectangle(0,0,this._visibleWidth,this._visibleHeight);this._container.scrollRect=e,this._l1=new egret.Sprite;for(var i,n,o,s=this._visibleHeight/this._visibleItemNum,r=0;r<this._config.length;r++)i=new egret.Sprite,i.name=this._config[r].name,n=new egret.Bitmap(this._config[r].bitmap),-1==this._unitGap&&(this._unitGap=Math.round((s-n.height)/2)),n.y=this._unitGap,i.addChild(n),o=new egret.Bitmap(this._config[r].bitmap_blur),o.y=this._unitGap,o.visible=!1,i.addChild(o),i.y=this._l1.numChildren?this.l1Height:0,this._l1.addChild(i);this._l2=new egret.Sprite;for(var r=0;r<this._config.length;r++)i=new egret.Sprite,i.name=this._config[r].name,n=new egret.Bitmap(this._config[r].bitmap),n.y=this._unitGap,i.addChild(n),o=new egret.Bitmap(this._config[r].bitmap_blur),o.y=this._unitGap,o.visible=!1,i.addChild(o),i.y=this._l2.numChildren?this.l2Height:0,this._l2.addChild(i);this._l1.y=0,this._container.addChild(this._l1),this._l2.y=-this.l2Height,this._container.addChild(this._l2),this._unitWidth=Math.round(this._visibleWidth),this._unitHeight=Math.round(s)+2*this._unitGap},i.prototype.start=function(t,e){this.setOnCompleteCallback(t,e),this.onSlot()},i.prototype.setOnCompleteCallback=function(t,e){this._onComplete=t,this._onCompleteContext=e},i.prototype.setResult=function(t){this._endIndex=0==t?this._config.length-1:t-1,this.whatsTheResult()},i.prototype.stop=function(t){void 0===t&&(t=0);var e=this;e._running&&(-1!=e._endIndex?(console.log("[SlotScroller]","停到当前结果",e._endIndex),e._scrollStatus=3):(e._endIndex=t,e._scrollStatus=3))},i.prototype.splash=function(t,e,i){var n=this._endIndex+t;n>=this._config.length&&(n-=this._config.length);var o=this._fixL1?this._l1.getChildAt(n):this._l2.getChildAt(n);if(o){var s=o.x,r=o.y,a=s+this._unitWidth*-.2,l=r+this._unitHeight*-.2,h=s+this._unitWidth*-.05,u=r+this._unitHeight*-.05;this._splashGraph||(this._splashGraph=new fairygui.GGraph),this._splashGraph.y=this._unitHeight*t,game.Animation.get("laohujinew002","mc_laohujinew001yc_tubiaoguang").attach(this._splashGraph).play(!1),this.contains(this._splashGraph.displayObject)||this.addChild(this._splashGraph.displayObject),egret.Tween.get(o).to({scaleX:1.4,scaleY:1.4,x:a,y:l},50).wait(100).to({scaleX:1,scaleY:1,x:s,y:r},200).to({scaleX:1.1,scaleY:1.1,x:h,y:u},200).to({scaleX:1,scaleY:1,x:s,y:r},150).to({scaleX:1.1,scaleY:1.1,x:h,y:u},200).to({scaleX:1,scaleY:1,x:s,y:r},150).wait(100).call(function(){o.x=s,o.y=r,e&&e.apply(i)})}else e&&e.apply(i)},i.prototype.getSlotGlobalRect=function(t){var e=this._endIndex+t;e>=this._config.length&&(e-=this._config.length);var i=this._l1.getChildAt(e),n=i.y+this._l1.y+this._unitGap;return(0>n||n>=this._visibleHeight)&&(i=this._l2.getChildAt(e)),i?(this._slotRect.setEmpty(),i.localToGlobal(0,i.getChildAt(0).y,this._slotP),this._slotP.x=Math.floor(this._slotP.x),this._slotP.y=Math.floor(this._slotP.y),this._slotRect.x=this._slotP.x,this._slotRect.y=this._slotP.y,this._slotRect.width=this._unitWidth,this._slotRect.height=this._unitHeight,this._slotRect):null},i.prototype.getVisibleUnits=function(){var t=this,e=t._endIndex==t._config.length-1?0:t._endIndex+1,i=e==t._config.length-1?0:e+1,n=t._config[e].id,o=t._config[t._endIndex].id,s=t._config[i].id;return[o,n,s]},i.prototype.whatsTheResult=function(){var t=this,e=t.getVisibleUnits();console.log("[SlotScroller]","index_"+t.parent.parent.getChildIndex(t.parent),"结果为: "+e.join(","))},i.prototype.onSlot=function(){var t=this;if(-1==t._scrollStatus){t._running=!0,t._scrollStatus=1,t._speed=t.INIT_SPEED,t._finalStepTimePassed=0,t._finalStepLastLength=0,t._finalStepDetermined=!1,t._endIndex=-1,t._maxSpeed=Math.ceil(20*Math.random())+this.MAX_SPEED;var e=t.SPEED_STEP;t._firstStepSpeedStep=2*e,t._maxSpeedTime=t.MAX_SPEED_TIME,t._maxSpeedTime=Math.ceil(t._maxSpeedTime*t.stage.frameRate),t.stage.addEventListener(egret.Event.ENTER_FRAME,t.scroll,t)}},i.prototype.scroll=function(){if(this._l1.y>this._visibleHeight?this._l1.y=this._l2.y-this.l1Height:this._l1.y+this.l1Height<this._visibleHeight&&(this._l2.y=this._l1.y+this.l1Height),this._l2.y>this._visibleHeight?this._l2.y=this._l1.y-this.l2Height:this._l2.y+this.l2Height<this._visibleHeight&&(this._l1.y=this._l2.y+this.l2Height),this._l1.y+=this._speed,this._l2.y+=this._speed,1==this._scrollStatus)this._speed<this.MAX_SPEED&&(this._speed+=this._firstStepSpeedStep,this._speed>15&&this.toModal(!0),this._speed>=this.MAX_SPEED&&(this._speed=this.MAX_SPEED,this._scrollStatus=2));else if(2==this._scrollStatus)this.toModal(!0),this._speed=this.MAX_SPEED,this._maxSpeedTime--,this.OUT_OF_TIME*this.stage.frameRate<this._maxSpeedTime?this.stop():this._maxSpeedTime<=0&&-1!=this._endIndex&&(this._scrollStatus=3);else if(3==this._scrollStatus){if(!this._finalStepDetermined){this._finalStepDetermined=!0;var t=this._l1.getChildAt(this._endIndex).y,e=this._l1.y,i=this._l2.getChildAt(this._endIndex).y,n=this._l2.y,o=e+t,s=n+i;return e>-this.l1Height&&t<this._visibleHeight?(this._speed=-1500-o,this._fixL1=!0):(this._speed=-1500-s,this._fixL1=!1),this._finalStepLength=1500,void(this._finalStepTime=40)}this._finalStepTimePassed++;var r=this._finalStepTime-this._finalStepTimePassed>20?this._finalStepTimePassed/this._finalStepTime:this.tween(this._finalStepTimePassed/this._finalStepTime),a=this._finalStepTimePassed==this._finalStepTime?this._finalStepLength:this._finalStepLength*r;if(this._speed=a-this._finalStepLastLength,this._finalStepTimePassed<=this._finalStepTime,this._finalStepLastLength=a,this._finalStepTime-this._finalStepTimePassed<30&&this.toModal(!1),this._finalStepTimePassed>=this._finalStepTime){var t=this._l1.getChildAt(this._endIndex).y,e=this._l1.y,i=this._l2.getChildAt(this._endIndex).y,n=this._l2.y;Math.ceil(Math.abs(t+e)),Math.ceil(Math.abs(i+n));this._fixL1?this._l1.y=-this._l1.getChildAt(this._endIndex).y:this._l2.y=-this._l2.getChildAt(this._endIndex).y,this._l1.y>this._visibleHeight?this._l1.y=this._l2.y-this.l1Height:this._l1.y+this.l1Height<this._visibleHeight&&(this._l2.y=this._l1.y+this.l1Height),this._l2.y>this._visibleHeight?this._l2.y=this._l1.y-this.l2Height:this._l2.y+this.l2Height<this._visibleHeight&&(this._l1.y=this._l2.y+this.l2Height),this.toModal(!1),this._finalStepLastLength=0,this._finalStepTimePassed=0,this._finalStepDetermined=!1,this.jumpOut()}}},Object.defineProperty(i.prototype,"l1Height",{get:function(){return this._l1.height+this._unitGap},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"l2Height",{get:function(){return this._l2.height+this._unitGap},enumerable:!0,configurable:!0}),i.prototype.toModal=function(t){if(this._modaled!=t)if(this._modaled=t,this._modaled)for(var e=0;e<this._l1.numChildren;e++){var i=this._l1.getChildAt(e);i.getChildAt(0).visible=!1,i.getChildAt(1).visible=!0,i=this._l2.getChildAt(e),i.getChildAt(0).visible=!1,i.getChildAt(1).visible=!0}else for(var e=0;e<this._l1.numChildren;e++){var i=this._l1.getChildAt(e);
i.getChildAt(0).visible=!0,i.getChildAt(1).visible=!1,i=this._l2.getChildAt(e),i.getChildAt(0).visible=!0,i.getChildAt(1).visible=!1}},i.prototype.tween=function(t){return this._ease||(this._ease=this.elasticOut(1,.3)),this._ease(t)},i.prototype.cubicOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},i.prototype.elasticOut=function(t,e){var i=2*Math.PI,n=e/i*Math.asin(1/t);return function(o){return 0==o||1==o?o:t*Math.pow(2,-10*o)*Math.sin((o-n)*i/e)+1}},i.prototype.backOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},i.prototype.jumpOut=function(){this._scrollStatus=-1,this._running=!1,this.stage.removeEventListener(egret.Event.ENTER_FRAME,this.scroll,this),this._onComplete&&this._onComplete.apply(this._onCompleteContext,[this])},i.prototype.setPostion=function(t){this._endIndex=t;var e=this._l1.getChildAt(this._endIndex).y,i=this._l1.y,n=this._l2.getChildAt(this._endIndex).y,o=this._l2.y;Math.ceil(Math.abs(e+i)),Math.ceil(Math.abs(n+o));this._fixL1?this._l1.y=-this._l1.getChildAt(this._endIndex).y:this._l2.y=-this._l2.getChildAt(this._endIndex).y,this._l1.y>this._visibleHeight?this._l1.y=this._l2.y-this.l1Height:this._l1.y+this.l1Height<this._visibleHeight&&(this._l2.y=this._l1.y+this.l1Height),this._l2.y>this._visibleHeight?this._l2.y=this._l1.y-this.l2Height:this._l2.y+this.l2Height<this._visibleHeight&&(this._l1.y=this._l2.y+this.l2Height)},i.prototype.getEndIndex=function(){return this._endIndex},i}(egret.Sprite);t.SlotScroller=e,__reflect(e.prototype,"ui.SlotScroller")}(ui||(ui={}));var ui;!function(t){var e=function(){function t(t,e,i){this._initTime=0,this._currentTime=0,this._interval=0,this._repeat=0,this._plugins=[],this._cleanAfterComplete=!0,this._cleanAfterComplete=void 0===i?!0:i,this._timer=new egret.Timer(t,e)}return t.create=function(e,i,n){return new t(e,i,n)},t.prototype.use=function(t){if(t){var e=new t;e&&(this._plugins||(this._plugins=[]),this._plugins.push(e))}return this},t.prototype.setUpdateCallback=function(t,e){return this._updateCallback=t,this._updateCallbackObj=e,this._updateCallback&&(this._timer.hasEventListener(egret.TimerEvent.TIMER)||this._timer.addEventListener(egret.TimerEvent.TIMER,this.onUpdate,this)),this},t.prototype.setCompleteCallback=function(t,e){return this._completeCallback=t,this._completeCallbackObj=e,this._completeCallback&&(this._timer.hasEventListener(egret.TimerEvent.TIMER_COMPLETE)||this._timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onComplete,this)),this},t.prototype.start=function(){return this._timer.running?void 0:(this._timer.start(),this._initTime||(this._initTime=egret.getTimer()),this._currentTime||(this._currentTime=egret.getTimer()),this)},t.prototype.pause=function(){return this._timer.stop(),this._currentTime=egret.getTimer(),this},t.prototype.stop=function(){return this._timer.stop(),this._timer.removeEventListener(egret.TimerEvent.TIMER,this.onUpdate,this),this._timer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onComplete,this),this._initTime=this._currentTime=0,this._interval=this._repeat=0,this},t.prototype.onUpdate=function(t){var e=egret.getTimer(),i=e-this._currentTime;if(this._currentTime=e,this._plugins.length)for(var n=0;n<this._plugins.length;n++)this._plugins[n].onUpdate(i);this._updateCallback&&this._updateCallback.apply(this._updateCallbackObj,[i])},t.prototype.onComplete=function(t){if(this._plugins.length)for(var e=0;e<this._plugins.length;e++)this._plugins[e].onComplete();this._completeCallback&&this._completeCallback.apply(this._completeCallbackObj),this._cleanAfterComplete&&(this.stop(),this._updateCallback=null,this._updateCallbackObj=null,this._completeCallback=null,this._completeCallbackObj=null)},t}();t.TimeCounter=e,__reflect(e.prototype,"ui.TimeCounter");var i=function(){function t(){}return t.prototype.onUpdate=function(t){},t.prototype.onComplete=function(){},t}();t.TimeCounterPluginEnergy=i,__reflect(i.prototype,"ui.TimeCounterPluginEnergy",["ui.ITimeCounterPlugin"])}(ui||(ui={}));var ui;!function(t){var e=function(){function e(){this._content="",this._text=new fairygui.GTextField,this._text.fontSize=44,this._text.align=fairygui.AlignType.Center,this._text.width=t.UILayer.ACTUAL_WIDTH,this._text.autoSize=fairygui.AutoSizeType.Height}return e.create=function(t,i){void 0===i&&(i=e.BLUE),e.current&&e.current.hide();var n=this.get();return n.content=t,n.color=i,n.strokeColor=i===e.BLUE?e.BLUE_STROKE:e.YELLOW_STROKE,e.current=n,fairygui.GRoot.inst.addChild(n.text),n},e.get=function(){var e=null;return e=this.TOASTERS_POOL.length>0?this.TOASTERS_POOL.shift():new t.Toaster,this.TOASTERS_SHOWING.push(e),e},Object.defineProperty(e.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(t){this._content=t,this._text.text=this._content,this._text.y=fairygui.GRoot.inst.height/2,egret.Tween.get(this._text).wait(800).to({alpha:0,y:this._text.y-400},800).call(this.onHide,this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{set:function(t){this._text.color=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeColor",{set:function(t){this._text.stroke=2,this._text.strokeColor=t},enumerable:!0,configurable:!0}),e.prototype.hide=function(){egret.Tween.removeTweens(this._text),this.onHide()},e.prototype.onHide=function(){this._text.removeFromParent(),this._content="",this._text.text="",this._text.alpha=1,t.Toaster.TOASTERS_SHOWING.splice(t.Toaster.TOASTERS_SHOWING.indexOf(this),1),t.Toaster.TOASTERS_POOL.push(this)},e}();e.BLUE=8776959,e.BLUE_STROKE=865913,e.YELLOW=16636513,e.YELLOW_STROKE=5640978,e.TOASTERS_POOL=[],e.TOASTERS_SHOWING=[],t.Toaster=e,__reflect(e.prototype,"ui.Toaster")}(ui||(ui={}));var ui;!function(t){var e=function(){function e(){}return e.getMonsterHalfIcon=function(t){return e.MONSTER_HALF_BASE_URL+t+".png"},e.getMissionUnits=function(t,e,i){var n="resource/config/refreshUnit/"+t+".json";RES.getResByUrl(n,function(t,n){t&&e&&e.apply(i,[t])},this)},e.iterGLoader=function(t,i,n){if(t)for(var o,s=t.numChildren,r=0;s>r;r++)o=t.getChildAt(r).asLoader,o&&o instanceof fairygui.GLoader&&(i?i.apply(n,[o])&&(e.fitMonsterLoader(o)||(o.url=e.UI_BASE_URL+o.name)):e.fitMonsterLoader(o)||(o.url=e.UI_BASE_URL+o.name))},e.fitMonsterLoader=function(e,i){if(void 0===i&&(i=null),e){var n="";if(i&&i.length>0)n+=i+".png";else{if(0!=e.name.indexOf("monster"))return!1;n+=e.name}return n&&n.length>0?(e.url=t.UIUtils.MONSTER_HALF_BASE_URL+n,!0):!1}},e.getMonsterIconFGui=function(t,i,n,o,s){var r=new fairygui.GGraph,a=e.getMonsterIcon(t);return r.touchable=!1,a.x=a.width/2,a.y=a.height/2,r.setNativeObject(a),r.width=void 0==i?a.width:i,r.height=void 0==n?a.height:n,void 0!=o&&(r.x=o),void 0!=s&&(r.y=s),r},e.loadURLAsImage=function(t,e){var i=e.setResType;i&&i.apply(e,[RES.ResourceItem.TYPE_IMAGE]),e.url=t},e.fitMonsterIconToGraph=function(t,i){function n(t,e){t&&e&&e.parent&&(t.x=t.width/2,t.y=t.height/2,t.width=e.width,t.height=e.height,e.setNativeObject(t))}if((RES.hasRes(t+"_json")||RES.hasRes("img_"+t+"_png"))&&RES.hasRes(t+"_swf_json"))game.AssetManager.Ins.getMonsterIcon(t,function(t){return function(e){n(e,t)}}(i),this);else{var o=e.getMonsterIcon(t);n(o,i)}},e.getMonsterIcon=function(t){var e=game.AssetManager.Ins.getSwf("assetHero");return e.createImage("img_"+t)},e.fitPlayerHead=function(e,i,n){if(void 0===n&&(n=""),e){var o=e.getChild("n34").asLoader;t.UIUtils.loadURLAsImage(i,o)}},e.fitScale=function(t,e,n,o,s,r){void 0===o&&(o=640),void 0===s&&(s=960),void 0===r&&(r=!0);var a=new i,l=e,h=n,u=o,c=s,_=l/u,p=h/c;return _>p?(a.scale=_,a.x=t.x,a.y=t.y+c*(1-_)/2,r&&(t.scaleX=t.scaleY=_,t.x=a.x,t.y=a.y)):(a.scale=p,a.x=t.x+u*(1-p)/2,a.y=t.y,r&&(t.scaleX=t.scaleY=p,t.x=a.x,t.y=a.y)),a},e.fitAlign=function(t,e,n){var o=new i;return o.scale=1,o.x=-1==e?t.x:(e-t.width)/2,o.y=-1==n?t.y:(n-t.height)/2,o},e.bindEffect=function(i,n,o,s,r,a){if(i){var l=function(){i.removeEventListener(egret.Event.ADDED_TO_STAGE,l,this);var h={};if(i&&i.numChildren){for(var u,c=0,_=i.numChildren;_>c;c++){u=i.getChildAt(c);var p=u.name.indexOf(e.EFFECT_NAME_PREFIX);if(0===p){if(n===!0){u.asCom.removeChildren();continue}var d=u.name.substr(e.EFFECT_NAME_PREFIX.length),g=d.lastIndexOf(e.EFFECT_NAME_SEPERATOR),m=d.substr(0,g),f=d.substr(g+1);m&&m.length>0&&f&&f.length>0&&(h.hasOwnProperty(m)||(h[m]=[]),h[m].push({child:u,name:f,pack:m}))}}for(var y in h)t.LoadingView.create(!1,!1).setCallback(function(t){return function(){for(var e=0,i=t.length;i>e;e++){var n=t[e],l=n.child,h=n.name,u=n.pack,c=l.asCom;if(c){c.removeChildren();var _=fairygui.UIPackage.createObject(u,h);_&&(c.addChild(_),r?_.scaleX=r/_.width:_.width=c.width,a?_.scaleY=a/_.height:_.height=c.height,o&&o.apply(s,[c]))}}}}(h[y]),this).queue(y).load()}};i.parent?l():i.addEventListener(egret.Event.ADDED_TO_STAGE,l,this)}},e.bindStarlingAnimation=function(e,i,n,o,s){var r=e+"_json",a=e+"_swf_json";if(RES.hasRes(r)&&RES.hasRes(a)){var l=[],h=function(t){return function(){if(t&&t.length>0)for(;t.length;){var e=t.pop();e&&(e.stop(),e.parent?e.parent.removeChild(e):null)}}}(l),u=function(o,s,r){return function(){var a,l,h;for(var u in n)i.getChild(u)&&(a=i.getChild(u).asGraph,a.touchable=!1,l=game.AssetManager.Ins.getSwf(e),l&&(h=l.createMovie(n[u])),a&&h&&(h.loop=!0,h.gotoAndPlay(0),a.setNativeObject(h),s?s.apply(r,[h,u,n[u]]):t.UIUtils.fitScale(h,fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),o.push(h)))}}(l,o,s);return game.AssetManager.Ins.loadAssets([r,a],function(){t.UIUtils.lifeTime(i,u,h,this,!0)},this),h}},e.isEgretViewInScreen=function(t){if(t){var i=e.localToGlobalRect(t);if(e._screenRect?(e._screenRect.width=fairygui.GRoot.inst.width,e._screenRect.height=fairygui.GRoot.inst.height):e._screenRect=new egret.Rectangle(0,0,fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),i.intersects(e._screenRect)||e._screenRect.containsRect(i))return!0}return!1},e.localToGlobalRect=function(t){return e._localToGlobalRect?(e._localToGlobalRect.setEmpty(),e._localToGlobalPoint.setTo(0,0)):(e._localToGlobalRect=new egret.Rectangle,e._localToGlobalPoint=new egret.Point),t.localToGlobal&&t.width&&t.height&&(t.localToGlobal(0,0,e._localToGlobalPoint),e._localToGlobalRect.x=e._localToGlobalPoint.x,e._localToGlobalRect.y=e._localToGlobalPoint.y,e._localToGlobalRect.width=t.width,e._localToGlobalRect.height=t.height),e._localToGlobalRect},e.lifeTime=function(t,e,i,n,o){void 0===o&&(o=!1),function(t,e,i,n,o){if(void 0===o&&(o=!1),t&&e){var s=function(){e&&e.apply(n||t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,r,t)},r=function(){o&&(t.removeEventListener(egret.Event.ADDED_TO_STAGE,s,t),t.removeEventListener(egret.Event.REMOVED_FROM_STAGE,r,t)),i&&i.apply(n||t)};t.addEventListener(egret.Event.ADDED_TO_STAGE,s,t),t.parent&&s()}}(t,e,i,n,o)},e.initStarswfAni=function(t,e,i,n,o,s){void 0===n&&(n=!0),void 0===o&&(o=!0);var s=s?s:e,r=this.slotAnim[s]||this.createStarlingSwf(t,e,n,o);return this.slotAnim[s]||(this.slotAnim[s]=r),r.loop=n,r.gotoAndPlay(0),i&&(i.setNativeObject(r),i.touchable=!1),r},e.createStarlingSwf=function(e,i,n,o){var s,r=game.AssetManager.Ins.getSwf(e);return r&&(s=r.createMovie(i),s.loop=n,s.gotoAndPlay(0),s&&o&&t.UIUtils.fitScale(s,fairygui.GRoot.inst.width,fairygui.GRoot.inst.height)),s},e.showOnce=function(t,e,i,n,o){var s=this,r=s.initStarswfAni(t,e,i,!1);if(r){var a=function(t,e,i){return function(){t.parent&&t.parent.removeChild(t),t.removeEventListener(egret.Event.COMPLETE,a,s),e&&e.apply(i)}}(r,n,o);r.addEventListener(egret.Event.COMPLETE,a,s)}},e}();e.NATIVE_FONT_DEFAULT="font_system",e.NATIVE_FONT_EN_US="font_en_US",e.UI_BASE_URL="resource/assets/dynamic/",e.MONSTER_HALF_BASE_URL="resource/assets/icons/monster/",e.MONSTER_HALF_BASE_URL_ZH_CN_1="resource/assets/icons_zh_CN_1/monster/",e.MONSTER_HALF_BASE_URL_ZH_CN_MT="resource/assets/icons_zh_CN_MT/monster/",e.EFFECT_NAME_PREFIX="dyEffect_",e.EFFECT_NAME_SEPERATOR="_",e.slotAnim=[],t.UIUtils=e,__reflect(e.prototype,"ui.UIUtils");var i=function(){function t(){}return t}();t.FitInfo=i,__reflect(i.prototype,"ui.FitInfo")}(ui||(ui={}));var game;!function(t){var e=function(){function t(){}return t.createPvpTeamUnitData=function(t,e){return{monsterId:t.id,level:t.level,awakenLevel:t.awakenLevel||0,trainingId:t.trainingId||0,HPTrainingId:t.HPTrainingId||0,evolutionId:t.evolutionId||0,HPEvolutionId:t.HPEvolutionId||0,side:e,x:t.x,y:t.y}},t}();t.UnitUtils=e,__reflect(e.prototype,"game.UnitUtils")}(game||(game={}));var WindowMsg=function(){function t(){}return Object.defineProperty(t,"Ins",{get:function(){return null==t._ins&&(t._ins=new t),t._ins},enumerable:!0,configurable:!0}),t.prototype.startListen=function(){var t=this;window.addEventListener("message",function(e){t.receiveMessage(e)},!1)},t.prototype.receiveMessage=function(e){"enter"==e.data.key?(model.UserModel.Ins.reqLogin(function(){model.UserModel.Ins.getIsClosed()&&model.UserModel.Ins.getRanking(1,function(t){ui.UILayer.Ins.popup(ui.PopUpIds.RANKING,t)},this)},this),t.Ins.posMessage({key:"getMusic"}),egret.Ticker.getInstance().resume()):"stop"==e.data.key?(game.MusicManager.Ins.isMusicOn()&&game.MusicManager.Ins.pauseMusic(),egret.Ticker.getInstance().pause()):"music"==e.data.key&&game.MusicManager.Ins.setMusicOn(e.data.status)},t.prototype.posMessage=function(t,e){e=e?e:window.parent,e.postMessage(t,"*")},t}();__reflect(WindowMsg.prototype,"WindowMsg");var ui;!function(t){var e=function(t){function e(){return t.call(this,"slots","popup_tongyong")||this}return __extends(e,t),e.prototype.closeWhenClickOutside=function(){return!1},e.prototype.onUpdate=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];e.CONF.confirmLabel=game.Tools.lang("確認"),e.CONF.cancelLabel=game.Tools.lang("取消"),this._conf=JSON.parse(JSON.stringify(e.CONF)),this.view.opaque=!1;var n=t[0];if("string"==typeof n)this._conf.content=n+"";else{var o=this;for(var s in n)n[s]&&(o._conf[s]=n[s])}var r=this.view.getChild("n3").asTextField;r.align=fairygui.AlignType.Center,r.text=this._conf.content,r.color=16777215,this._confirmBtn=this.view.getChild("n8").asButton,this._confirmBtn.visible=this._conf.showConfirm,this._conf.confirmLabel&&(this._confirmBtn.text=this._conf.confirmLabel),this._confirmBtn.visible&&this._confirmBtn.addClickListener(this.onConfirm,this),this._cancelBtn=this.view.getChild("n7").asButton,this._cancelBtn.visible=this._conf.showCancel,this._conf.cancelLabel&&(this._cancelBtn.text=this._conf.cancelLabel),this._cancelBtn.visible&&this._cancelBtn.addClickListener(this.onCancel,this),this._conf.showConfirm&&this._conf.showCancel||(this._conf.showConfirm?this._confirmBtn.x=(this.view.width-this._confirmBtn.width)/2:this._cancelBtn.x=(this.view.width-this._cancelBtn.width)/2),this.view.getController("c1").selectedIndex=this._conf.selectIndex,this._conf.selectIndex},e.prototype.onConfirm=function(){this._conf.confirmCallback&&this._conf.confirmCallback.apply(this._conf.confirmCallbackObj),this.hide()},e.prototype.onCancel=function(){this._conf.cancelCallback&&this._conf.cancelCallback.apply(this._conf.cancelCallbackObj),this.hide()},e.prototype.closeEventHandler=function(e){this._conf.cancelCallback&&this._conf.cancelCallback.apply(this._conf.cancelCallbackObj),t.prototype.closeEventHandler.call(this,e)},e.prototype.onHide=function(){t.prototype.onHide.call(this),this._confirmBtn&&this._confirmBtn.removeClickListener(this.onConfirm,this),this._cancelBtn&&this._cancelBtn.removeClickListener(this.onCancel,this)},e.prototype.onBackgroudClose=function(){t.prototype.onBackgroudClose.call(this),this._conf.cancelCallback&&this._conf.cancelCallback.apply(this._conf.cancelCallbackObj)},e}(t.BasePopup);e.CONF={content:"",showClose:!0,showConfirm:!0,showCancel:!1,confirmLabel:"確認",cancelLabel:"取消",confirmCallback:null,confirmCallbackObj:null,cancelCallback:null,cancelCallbackObj:null,selectIndex:0},t.NotificationPopup=e,__reflect(e.prototype,"ui.NotificationPopup")}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(){return t.call(this,"slots","popup_fanli")||this}return __extends(e,t),e.prototype.onUpdate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._data=t[0],this.initUi(t[0])},e.prototype.onLoaderNeedToDealWith=function(t){return console.log("---->onLoaderNeedToDealWith"),!0},e.prototype.initUi=function(t){var e=this.view.getChild("n49");e.addClickListener(this.onClick,this);var i=this._data.totalCostDiamond?this._data.totalCostDiamond:0,n=this.view.getChild("n55").asTextField;n.text=game.Tools.lang(i);var o=this.view.getChild("n56").asTextField,s=Math.floor(i/1e3);o.text=game.Tools.lang(s);var r=this._data.leftDiamond?this._data.leftDiamond:0,a=this.view.getChild("n57").asTextField;a.text=game.Tools.lang(r);var l=this._data.leftConvertTimes?this._data.leftConvertTimes:0,h=this.view.getChild("n59").asTextField;h.text=game.Tools.lang(l),e.enabled=l>0?!0:!1,e.asCom.getController("c1").selectedIndex=l>0?0:1},e.prototype.onHide=function(){t.prototype.onHide.call(this),this._Timer&&(console.log("=====>_onLineAwardTimer.stop"),this._Timer.stop(),this._Timer.removeEventListener(egret.TimerEvent.TIMER,this.onTimerFunc,this),this._Timer=null)},e.prototype.onTimerFunc=function(){var t=game.TimeUtil.getServerDate(),e=(t.getDayOfMonth(),t.getDayOfWeek(),t.getHour()),i=(t.getMiliSec(),t.getMinute()),n=(t.getMonthOfYear(),t.getOriginalDate(),t.getSecond()),o=(t.getYear(),864e5-60*e*60*1e3-60*i*1e3-1e3*n),s=(game.TimeUtil.timeLeftToTimeFormat(o),this.view.getChild("n58").asTextField);s.text=game.TimeUtil.timeLeftToTimeFormat(o)},e.prototype.onClick=function(){model.UserModel.Ins.convertFreeTimes(function(t){this._data.totalCostDiamond=t.totalCostDiamond?t.totalCostDiamond:0,this._data.leftConvertTimes=t.leftConvertTimes?t.leftConvertTimes:0,this._data.convertTimes=t.convertTimes?t.convertTimes:0,this._data.leftDiamond=t.leftDiamond?t.leftDiamond:0,model.UserModel.Ins.freeTimes=t.freeTimes?t.freeTimes:0,game.UIEvent.SLOT_COST.dispatch(),this.initUi(null)},this)},e}(t.BasePopup);t.PopFanli=e,__reflect(e.prototype,"ui.PopFanli")}(ui||(ui={}));var ui;!function(t){var e=function(e){function i(){return e.call(this,"slots","popup")||this}return __extends(i,e),i.prototype.onUpdate=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this._slot=e[0],this.slotResult=e[1],this.callBack=e[2],this.callObj=e[3];var n=t.UILayer.Ins.stage();n.addEventListener(egret.TouchEvent.TOUCH_END,this.touchHandler,this),this.setBackgrooundAlpha(0),this.playAni()},i.prototype.onBackgroudClose=function(){this.hide()},i.prototype.touchHandler=function(t){this.onBackgroudClose()},i.prototype.playAni=function(){var e=new fairygui.GGraph,i=this;i.view.addChild(e),this._animation=game.Animation.get("laohujinew003","mc_laohujinew001xxg_tonggao").attach(e).onStop(!1).play(!1);var n=this._animation.anim,o=n.getSprite("zhanwei");if(o){o.removeChildren();var s=fairygui.UIPackage.createObject("slots","player_info").asCom,r=s.width,a=s.height;s.x=-r/2,s.y=-a/2,s.getChild("n66").asTextField.text=game.Tools.lang(this.slotResult.username),s.getChild("n69").asTextField.text=""+this.slotResult.diamond;var l=s.getChild("n65").asCom.getChild("n34").asCom;t.UIUtils.fitPlayerHead(l,this.slotResult.avatar),o.addChild(s.displayObject)}},i.prototype.removeTarget=function(t){t&&t.parent&&(t.stop(),t.parent.removeChild(t))},i.prototype.onHide=function(){e.prototype.onHide.call(this);var i=t.UILayer.Ins.stage();i.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchHandler,this),this.callBack&&this.callBack.apply(this.callObj)},i}(t.BasePopup);t.PopJackpotResult=e,__reflect(e.prototype,"ui.PopJackpotResult")}(ui||(ui={}));var ui;!function(t){var e=(game.MusicManager,function(e){function i(){return e.call(this,"slots","popup")||this}return __extends(i,e),i.prototype.onUpdate=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.slotResult=e[0],this.callBack=e[1],this.callObj=e[2],this.playResultAni(),this._numberScroller||(this._numberScroller=new t.SlotNumberScroller("font1")),this._numberScroller.x=this.view.width/2,this._numberScroller.y=this.view.height/2,this.view.displayListContainer.addChild(this._numberScroller),this._numberScroller.target=this.slotResult},i.prototype.onBackgroudClose=function(){this.hide()},i.prototype.playResultAni=function(){this.playAni()},i.prototype.win2Complete=function(t){var e=this;setTimeout(function(){e.hide(),e._numberScroller.current=0},600)},i.prototype.playAni=function(){this.view.getChild("win1").asGraph,this.view.getChild("win2").asGraph,this.view.getChild("win3").asGraph,this.view.getChild("win4").asGraph,this.view.getChild("win5").asGraph,this.view.getChild("win6").asGraph,this.view.getChild("win7").asGraph},i.prototype.removeTarget=function(t){t&&t.parent&&(t.stop(),t.parent.removeChild(t))},i.prototype.onHide=function(){this.m_win1&&this.removeTarget(this.m_win1),this.m_win2&&(this.m_win2.removeEventListener(egret.Event.COMPLETE,this.win2Complete,this),this.removeTarget(this.m_win2)),this.m_win3&&this.removeTarget(this.m_win3),e.prototype.onHide.call(this),this.callBack&&this.callBack.apply(this.callObj)},i}(t.BasePopup));t.PopResult=e,__reflect(e.prototype,"ui.PopResult")}(ui||(ui={}));var ui;!function(t){var e=(game.MusicManager,function(e){function i(){return e.call(this,"slots","popup")||this}return __extends(i,e),i.prototype.onUpdate=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.slotResult=e[0],this.callBack=e[1],this.callObj=e[2];var n=t.UILayer.Ins.stage();n.addEventListener(egret.TouchEvent.TOUCH_END,this.touchHandler,this),this.playResultAni()},i.prototype.onBackgroudClose=function(){this.play004Ani()},i.prototype.touchHandler=function(t){this.play004Ani()},i.prototype.playResultAni=function(){this.playAni()},i.prototype.win5Complete=function(t){this.playWin7()},i.prototype.playWin7=function(){var e=this.view.getChild("win7").asGraph;this.m_win7=t.UIUtils.initStarswfAni("laohujinew004","mc_laohujinew001xxg_win007",e,!1,!1),this.m_win7.gotoAndPlay(0)},i.prototype.playAni=function(){var e=(this.view.getChild("win1").asGraph,this.view.getChild("win2").asGraph,this.view.getChild("win3").asGraph,this.view.getChild("win4").asGraph),i=this.view.getChild("win5").asGraph,n=this.view.getChild("win6").asGraph;this.view.getChild("win7").asGraph;if(this.m_win4=t.UIUtils.initStarswfAni("laohujinew002","mc_laohujinew001yc_win004",e,!1,!1),this.m_win5=t.UIUtils.initStarswfAni("laohujinew005","mc_laohujinew001xxg_win008",i,!1,!1),this.m_win6=t.UIUtils.initStarswfAni("laohujinew002","mc_laohujinew001yc_win006",n,!1,!1),this.m_win4.gotoAndPlay(0),this.m_win5.gotoAndPlay(0),this.m_win6.gotoAndPlay(0),this.m_win5){var o=this.m_win5.getSprite("wenzi");if(o){var s=o.getChildByName("labelTxt");s||(s=new egret.TextField,s.size=45,s.textColor=16777215,s.width=180,s.textAlign=egret.HorizontalAlign.CENTER,o.addChild(s),s.name="labelTxt"),s.text=this.slotResult}this.m_win5.removeEventListener(egret.Event.COMPLETE,this.win5Complete,this),this.m_win5.addEventListener(egret.Event.COMPLETE,this.win5Complete,this)}},i.prototype.play004Ani=function(){this.hide()},i.prototype.removeTarget=function(t){t&&t.parent&&(t.stop(),t.parent.removeChild(t))},i.prototype.onHide=function(){this.m_win1&&this.removeTarget(this.m_win1),this.m_win2&&this.removeTarget(this.m_win2),this.m_win3&&this.removeTarget(this.m_win3),this.m_win4&&this.removeTarget(this.m_win4),this.m_win5&&this.removeTarget(this.m_win5),this.m_win6&&this.removeTarget(this.m_win6),this.m_win7&&this.removeTarget(this.m_win7),e.prototype.onHide.call(this);var i=t.UILayer.Ins.stage();i.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchHandler,this),this.callBack&&this.callBack.apply(this.callObj)},i}(t.BasePopup));t.PopSuperResult=e,__reflect(e.prototype,"ui.PopSuperResult")}(ui||(ui={}));var ui;!function(t){var e=function(e){function i(){var t=e.call(this,"slots","popup_jiangdan")||this;return t._rankReward=[10888,6666,2888,1888,1888,888,888,888,888,888],t._requestFull=!0,t}return __extends(i,e),i.prototype.onUpdate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._data=[],this._result=t[0],this._control=this.view.getController("c1");var i=!0;i&&(this._control.selectedIndex=1,this._control.addEventListener(fairygui.StateChangeEvent.CHANGED,this.onChange,this)),0==this._control.selectedIndex?(this._list=this.view.getChild("n78").asList,this._list.itemRenderer=this.onItemfunc,this._list.callbackThisObj=this):1==this._control.selectedIndex?this._list=this.view.getChild("n79").asList:2==this._control.selectedIndex&&(this._list=this.view.getChild("n80").asList),this._list.itemRenderer=this.onItemfunc,this._list.callbackThisObj=this,this.initUi(t[0]),this.view.getChild("n103").addClickListener(this.onReturn,this)},i.prototype.onReturn=function(){WindowMsg.Ins.posMessage({key:"close"})},i.prototype.onChange=function(){var t=this;1==this._control.selectedIndex?(this._list=null,this._list=this.view.getChild("n79").asList,this._list.itemRenderer=this.onItemfunc,this._list.callbackThisObj=this,model.UserModel.Ins.getRanking(1,function(e){t.initUi(e)},this)):2==this._control.selectedIndex&&(this._list=null,this._list=this.view.getChild("n80").asList,this._list.itemRenderer=this.onItemfunc,this._list.callbackThisObj=this,model.UserModel.Ins.getRanking(2,function(e){t.initUi(e)},this))},i.prototype.onLoaderNeedToDealWith=function(t){return"jiangdanjpg"==t.name?(t.url="resource/assets/dynamic/jiangdan.jpg",!1):"jiangdan_star_png"==t.name?(t.url="resource/assets/dynamic/jiangdan_star.png",!1):!0},i.prototype.initUi=function(t){this._data=t.ranking,this._data.sort(this.sortByRank),this._list.numItems=this._data.length>10?10:this._data.length},i.prototype.sortByRank=function(t,e){return t.ranking-e.ranking},i.prototype.onBackgroudClose=function(){e.prototype.onBackgroudClose.call(this)},i.prototype.onItemfunc=function(e,i){var n=i,o=this._data[e];if(o){var s=n.getController("c1");if(0==e)s.selectedIndex=0;else if(1==e)s.selectedIndex=1;else if(2==e)s.selectedIndex=2;else{s.selectedIndex=3;var r=n.getChild("n82").asTextField;r.text=o.ranking+""}var a=n.getChild("n75").asTextField;a.text=o.username;var l=n.getChild("n76").asTextField;l.text=game.Tools.lang("UP号:%c",o.upliveCode);var h=n.getChild("n77").asTextField;1==this._control.selectedIndex?h.text=game.Tools.lang("%c U鑚",o.diamond):2==this._control.selectedIndex&&(h.text=game.Tools.lang("已開啟派對 %c次",o.diamond)),t.UIUtils.fitPlayerHead(n.getChild("n70").asCom.getChild("n34").asCom,o.avatar)}},i}(t.BasePopup);t.Ranking=e,__reflect(e.prototype,"ui.Ranking")}(ui||(ui={}));var ui;!function(t){var e=function(e){function i(){return e.call(this,"slots","popup_rank")||this}return __extends(i,e),i.prototype.onUpdate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._data=[],this._result=t[0],this._control=this.view.getController("c1"),this._control.addEventListener(fairygui.StateChangeEvent.CHANGED,this.onControlChange,this),this.initUi(t[0]),this.onControlChange()},i.prototype.onControlChange=function(){var t=this;0==this._control.selectedIndex?model.UserModel.Ins.getRanking(1,function(e){t.initUi(e)},this):model.UserModel.Ins.getRanking(2,function(e){t.initUi(e)},this)},i.prototype.initUi=function(e){this._data=e.ranking,this._data.sort(this.sortByRank);var i=model.UserModel.Ins.activityEndTime-model.GeneralServerRequest.getServerTime();if(0>=i)this.view.getChild("n5").text=game.Tools.lang("已結束");else{var n=Math.floor(i/1e3/3600),o=Math.floor((i/1e3-3600*n)/60);if(n>24){var s=Math.floor(n/24),r=Math.floor(n-24*s);this.view.getChild("n5").asTextField.text=game.Tools.lang("剩餘時間:%c天%c時",s,r)}else this.view.getChild("n5").asTextField.text=game.Tools.lang("剩餘時間:%c時%c分",n,o)}var a=[{icon:"n39",rank:"n26",name:"n49",gem:"n56"},{icon:"n40",rank:"n8",name:"n48",gem:"n55"},{icon:"n41",rank:"n9",name:"n50",gem:"n57"}],l="n73";1==this._control.selectedIndex&&(l="n74");for(var h=0;3>h;h++)if(this._data[h]){var u=this.view.getChild(l).asCom.getChild(a[h].icon).asCom,c=u.getController("c1");c.selectedIndex=0,this.view.getChild(l).asCom.getChild(a[h].name).asTextField.text=game.Tools.getFormatText(this._data[h].username),t.UIUtils.fitPlayerHead(u,this._data[h].avatar);var _=this.view.getChild(l).asCom.getChild(a[h].gem).asCom;_.getController("c1").selectedIndex=this._control.selectedIndex,1==this._control.selectedIndex?this.view.getChild(l).asCom.getChild(a[h].gem).asCom.getChild("n54").asTextField.text=game.Tools.lang("已開啟%c次",this._data[h].diamond):this.view.getChild(l).asCom.getChild(a[h].gem).asCom.getChild("n54").asTextField.text=this._data[h].diamond,this.view.getChild(l).asCom.getChild(a[h].rank).asTextField.text="No."+this._data[h].ranking}else{var p=this.view.getChild(l).asCom.getChild(a[h].icon).asCom,d=p.getController("c1");d.selectedIndex=1,this.view.getChild(l).asCom.getChild(a[h].name).asTextField.text=game.Tools.lang("虛位以待"),this.view.getChild(l).asCom.getChild(a[h].gem).asCom.visible=!1,this.view.getChild(l).asCom.getChild(a[h].rank).asTextField.visible=!1}var g=this._data.length,m=g>=3?20-g:17;if(g=g>=3?3:g,this._data.splice(0,g),this._data.length<20)for(var h=0;m>h;h++)this._data.push({uid:null,username:"虛位以待",ranking:this._data.length+4});this._list=this.view.getChild(l).asCom.getChild("n24").asList,this._list.itemRenderer=this.onItemFunc,this._list.callbackThisObj=this,this._list.numItems=this._data.length},i.prototype.onItemFunc=function(e,i){var n=i,o=this._data[e];if(o.uid){t.UIUtils.fitPlayerHead(n.getChild("n18").asCom,o.avatar);var s=n.getController("c1");1==this._control.selectedIndex?s.selectedIndex=2:s.selectedIndex=0,n.getChild("n19").asTextField.text=game.Tools.getFormatText(o.username),n.getChild("n22").asTextField.text=o.diamond+"",n.getChild("n23").asTextField.text=""+o.ranking,n.getChild("n24").asTextField.text=game.Tools.lang("已開啟%c次",o.diamond)}else{n.getChild("n19").asTextField.text=o.username,n.getChild("n23").asTextField.text=""+o.ranking;var s=n.getController("c1");s.selectedIndex=1;var r=n.getChild("n18").asCom.getController("c1");r.selectedIndex=2}},i.prototype.sortByRank=function(t,e){return t.ranking-e.ranking},i.prototype.onBackgroudClose=function(){e.prototype.onBackgroudClose.call(this)},i}(t.BasePopup);t.RankingPop=e,__reflect(e.prototype,"ui.RankingPop")}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this,"slots","popup_rule")||this;return e.current=0,e.max=4,e}return __extends(e,t),e.prototype.onUpdate=function(){this.init()},Object.defineProperty(e.prototype,"rule",{get:function(){return this.view},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.view.getChild("n38").asCom.addClickListener(this.btnLeft,this),this.view.getChild("n35").asCom.addClickListener(this.btnRight,this),this.rule.getControllerAt(0).addEventListener(fairygui.StateChangeEvent.CHANGED,this.onControllerChanged,this),this.onControllerChanged()},e.prototype.btnLeft=function(){this.current<=0||(this.current--,this.view.getController("c1").selectedIndex=this.current)},e.prototype.btnRight=function(){this.current>=this.max||(this.current++,this.view.getController("c1").selectedIndex=this.current)},e.prototype.onControllerChanged=function(){2==this.view.getControllerAt(0).selectedIndex?(this.rule.m_n40.m_jietu3_jpg.url="resource/assets/dynamic/jietu3.jpg",this.rule.m_n40.m_jietu4_jpg.url="resource/assets/dynamic/jietu4.jpg"):3==this.view.getControllerAt(0).selectedIndex?(this.rule.m_n41.m_xiazhu_jpg.url="resource/assets/dynamic/xiazhu.jpg",this.rule.m_n41.m_shouji_jpg.url="resource/assets/dynamic/shouji.jpg"):0==this.view.getControllerAt(0).selectedIndex?(this.rule.m_n18.m_xianshu1_jpg.url="resource/assets/dynamic/xianshu1.jpg",this.rule.m_n18.m_xianshu2_jpg.url="resource/assets/dynamic/xianshu2.jpg",this.rule.m_n18.m_xianshu3_jpg.url="resource/assets/dynamic/xianshu3.jpg",this.rule.m_n18.m_xianshu4_jpg.url="resource/assets/dynamic/xianshu4.jpg"):4==this.view.getControllerAt(0).selectedIndex||1==this.view.getControllerAt(0).selectedIndex&&(this.rule.m_n39.m_jietu1_jpg.url="resource/assets/dynamic/jietu1.jpg",this.rule.m_n39.m_jietu2_jpg.url="resource/assets/dynamic/jietu2.jpg")
},e}(t.BasePopup);t.Rule=e,__reflect(e.prototype,"ui.Rule")}(ui||(ui={}));var ui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.slotAnim={},t.completeIndex=0,t.canClick=!0,t.isEndLoopAni=!1,t._time=0,t.maxAutoTimes=100,t.curentAutoTimes=0,t.loopSoundChanels=[],t.diamonds=[10,100,500],t.btnDiamonds=[],t.currentDiamond=0,t.diamondIdx=0,t.addChild(new view.SlotViewMain),t}return __extends(i,e),i.prototype.jumpPage=function(t,e){void 0===e&&(e=null)},i.prototype.onAdded=function(){},i.prototype.onRemoved=function(){t.HorseRaceLamp.dispose();for(var e in this.slotAnim)this.slotAnim[e].stop(),this.slotAnim[e].parent&&this.slotAnim[e].parent.removeChild(this.slotAnim[e]);RES.hasRes("laohujitexiao003_json")&&RES.hasRes("laohujitexiao003_swf_json")&&(RES.destroyRes("laohujitexiao003_json"),RES.destroyRes("laohujitexiao003_swf_json")),RES.hasRes("laohujitexiao004_json")&&RES.hasRes("laohujitexiao004_swf_json")&&(RES.destroyRes("laohujitexiao004_json"),RES.destroyRes("laohujitexiao004_swf_json"))},i}(fairygui.GComponent);t.UIGameMain=e,__reflect(e.prototype,"ui.UIGameMain")}(ui||(ui={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._progress=0,game.GameEvent.PRELOADING_PROGRESS.add(e.onProgress,e),game.GameEvent.PRELOADING_COMPLETE.add(e.onComplete,e),e.onStart(),e}return __extends(e,t),e.prototype.onStart=function(){this._view=fairygui.UIPackage.createObject("slots","loading").asCom,this._view.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),this._progressBar=this._view.getChild("n11").asProgress,this.onUpdateProgress(),this.addChild(this._view)},e.prototype.onProgress=function(t){this._progress=t,this.onUpdateProgress()},e.prototype.onComplete=function(){game.GameEvent.PRELOADING_PROGRESS.remove(this.onProgress,this),game.GameEvent.PRELOADING_COMPLETE.remove(this.onComplete,this)},e.prototype.onUpdateProgress=function(){this._progressBar.value=this._progress},e.prototype.dispose=function(){game.GameEvent.PRELOADING_PROGRESS.remove(this.onProgress,this),game.GameEvent.PRELOADING_COMPLETE.remove(this.onComplete,this)},e}(fairygui.GComponent);t.UILoginMain=e,__reflect(e.prototype,"ui.UILoginMain")}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component16.URL,t.UI_Component16),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_100ubtn.URL,t.UI_100ubtn),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_10ubtn.URL,t.UI_10ubtn),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_500ubtn.URL,t.UI_500ubtn),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component45.URL,t.UI_Component45),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component46.URL,t.UI_Component46),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component47.URL,t.UI_Component47),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component48.URL,t.UI_Component48),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component49.URL,t.UI_Component49),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component3.URL,t.UI_Component3),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component56.URL,t.UI_Component56),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_popup_fanli.URL,t.UI_popup_fanli),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_return2.URL,t.UI_return2),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component52.URL,t.UI_Component52),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_popup_rank.URL,t.UI_popup_rank),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_closeButton.URL,t.UI_closeButton),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component12.URL,t.UI_Component12),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_popup_mini.URL,t.UI_popup_mini),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component13.URL,t.UI_Component13),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component60.URL,t.UI_Component60),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component8.URL,t.UI_Component8),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component9.URL,t.UI_Component9),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component11.URL,t.UI_Component11),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component17.URL,t.UI_Component17),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component18.URL,t.UI_Component18),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_slots.URL,t.UI_slots),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component32.URL,t.UI_Component32),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component33.URL,t.UI_Component33),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component34.URL,t.UI_Component34),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component35.URL,t.UI_Component35),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_popup_rule.URL,t.UI_popup_rule),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component43.URL,t.UI_Component43),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component44.URL,t.UI_Component44),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component50.URL,t.UI_Component50),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component51.URL,t.UI_Component51),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_popup_jiangdan.URL,t.UI_popup_jiangdan),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component57.URL,t.UI_Component57),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_popup_tongyong.URL,t.UI_popup_tongyong),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_loading.URL,t.UI_loading),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_progress_bar.URL,t.UI_progress_bar),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component26.URL,t.UI_Component26),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component41.URL,t.UI_Component41),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component78.URL,t.UI_Component78),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component59.URL,t.UI_Component59),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component64.URL,t.UI_Component64),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component65.URL,t.UI_Component65),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component66.URL,t.UI_Component66),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component67.URL,t.UI_Component67),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_popup.URL,t.UI_popup),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component15.URL,t.UI_Component15),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_btn_1.URL,t.UI_btn_1),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component38.URL,t.UI_Component38),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component39.URL,t.UI_Component39),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component54.URL,t.UI_Component54),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component55.URL,t.UI_Component55),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component10.URL,t.UI_Component10)},e}();t.slotsBinder=e,__reflect(e.prototype,"ui.slots.slotsBinder")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","100ubtn")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_button=this.getController("button"),this.m_n76=this.getChild("n76"),this.m_n92=this.getChild("n92")},e}(fairygui.GButton);e.URL="ui://3ly9g3laaxfsk8l",t.UI_100ubtn=e,__reflect(e.prototype,"ui.slots.UI_100ubtn")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","10ubtn")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_button=this.getController("button"),this.m_n75=this.getChild("n75"),this.m_n91=this.getChild("n91")},e}(fairygui.GButton);e.URL="ui://3ly9g3laaxfsk8o",t.UI_10ubtn=e,__reflect(e.prototype,"ui.slots.UI_10ubtn")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","500ubtn")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_button=this.getController("button"),this.m_n77=this.getChild("n77"),this.m_n94=this.getChild("n94")},e}(fairygui.GButton);e.URL="ui://3ly9g3laaxfsk8r",t.UI_500ubtn=e,__reflect(e.prototype,"ui.slots.UI_500ubtn")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","btn_1")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_button=this.getController("button"),this.m_n120=this.getChild("n120"),this.m_n121=this.getChild("n121")},e}(fairygui.GButton);e.URL="ui://3ly9g3lawmnuk5o",t.UI_btn_1=e,__reflect(e.prototype,"ui.slots.UI_btn_1")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","closeButton")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n2=this.getChild("n2")},e}(fairygui.GButton);e.URL="ui://3ly9g3laha1y1q",t.UI_closeButton=e,__reflect(e.prototype,"ui.slots.UI_closeButton")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component10")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n34=this.getChild("n34")},e}(fairygui.GComponent);e.URL="ui://3ly9g3lazvj1k27",t.UI_Component10=e,__reflect(e.prototype,"ui.slots.UI_Component10")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component11")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getController("c1"),this.m_n194=this.getChild("n194"),this.m_n195=this.getChild("n195"),this.m_n196=this.getChild("n196"),this.m_dianjitexiao=this.getChild("dianjitexiao "),this.m_tishi=this.getChild("tishi ")},e}(fairygui.GButton);e.URL="ui://3ly9g3laj3bpka6",t.UI_Component11=e,__reflect(e.prototype,"ui.slots.UI_Component11")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component12")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getController("c1"),this.m_n12=this.getChild("n12"),this.m_n18=this.getChild("n18"),this.m_n19=this.getChild("n19"),this.m_n21=this.getChild("n21"),this.m_n22=this.getChild("n22"),this.m_n23=this.getChild("n23"),this.m_n24=this.getChild("n24")},e}(fairygui.GComponent);e.URL="ui://3ly9g3laha1y1t",t.UI_Component12=e,__reflect(e.prototype,"ui.slots.UI_Component12")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component13")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n5=this.getChild("n5"),this.m_title=this.getChild("title")},e}(fairygui.GButton);e.URL="ui://3ly9g3laha1y1x",t.UI_Component13=e,__reflect(e.prototype,"ui.slots.UI_Component13")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component15")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n103=this.getChild("n103"),this.m_n104=this.getChild("n104")},e}(fairygui.GButton);e.URL="ui://3ly9g3lawmnuk5k",t.UI_Component15=e,__reflect(e.prototype,"ui.slots.UI_Component15")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component16")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_closeButton=this.getChild("closeButton")},e}(fairygui.GComponent);e.URL="ui://3ly9g3la1077k23",t.UI_Component16=e,__reflect(e.prototype,"ui.slots.UI_Component16")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component17")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getController("c1"),this.m_n195=this.getChild("n195"),this.m_n196=this.getChild("n196"),this.m_n197=this.getChild("n197"),this.m_dianjitexiao=this.getChild("dianjitexiao "),this.m_tishi=this.getChild("tishi ")},e}(fairygui.GButton);e.URL="ui://3ly9g3laj3bpka7",t.UI_Component17=e,__reflect(e.prototype,"ui.slots.UI_Component17")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component18")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getController("c1"),this.m_n192=this.getChild("n192"),this.m_n193=this.getChild("n193"),this.m_n194=this.getChild("n194"),this.m_n195=this.getChild("n195"),this.m_n207=this.getChild("n207"),this.m_n201=this.getChild("n201"),this.m_n203=this.getChild("n203"),this.m_jinxingzhong=this.getChild("jinxingzhong")},e}(fairygui.GComponent);e.URL="ui://3ly9g3laj3bpkal",t.UI_Component18=e,__reflect(e.prototype,"ui.slots.UI_Component18")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component26")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getController("c1"),this.m_n51=this.getChild("n51"),this.m_n52=this.getChild("n52"),this.m_n54=this.getChild("n54")},e}(fairygui.GComponent);e.URL="ui://3ly9g3laq6lnk32",t.UI_Component26=e,__reflect(e.prototype,"ui.slots.UI_Component26")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component3")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getController("c1"),this.m_n33=this.getChild("n33"),this.m_n34=this.getChild("n34"),this.m_n39=this.getChild("n39"),this.m_n40=this.getChild("n40"),this.m_n41=this.getChild("n41")},e}(fairygui.GComponent);e.URL="ui://3ly9g3lacvhbl",t.UI_Component3=e,__reflect(e.prototype,"ui.slots.UI_Component3")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component32")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n41=this.getChild("n41"),this.m_n42=this.getChild("n42")},e}(fairygui.GButton);e.URL="ui://3ly9g3lanix7k4a",t.UI_Component32=e,__reflect(e.prototype,"ui.slots.UI_Component32")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component33")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getController("c1"),this.m_n12=this.getChild("n12"),this.m_n13=this.getChild("n13"),this.m_jiantou=this.getChild("jiantou"),this.m_dianji=this.getChild("dianji")},e}(fairygui.GButton);e.URL="ui://3ly9g3laoh4mk4g",t.UI_Component33=e,__reflect(e.prototype,"ui.slots.UI_Component33")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component34")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n78=this.getChild("n78")},e}(fairygui.GButton);e.URL="ui://3ly9g3laoh4mk4h",t.UI_Component34=e,__reflect(e.prototype,"ui.slots.UI_Component34")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component35")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n78=this.getChild("n78")},e}(fairygui.GButton);e.URL="ui://3ly9g3laoh4mk4i",t.UI_Component35=e,__reflect(e.prototype,"ui.slots.UI_Component35")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component38")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_button=this.getController("button"),this.m_n122=this.getChild("n122"),this.m_n123=this.getChild("n123")},e}(fairygui.GButton);e.URL="ui://3ly9g3lawmnuk5p",t.UI_Component38=e,__reflect(e.prototype,"ui.slots.UI_Component38")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component39")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_button=this.getController("button"),this.m_n124=this.getChild("n124"),this.m_n125=this.getChild("n125")},e}(fairygui.GButton);e.URL="ui://3ly9g3lawmnuk5q",t.UI_Component39=e,__reflect(e.prototype,"ui.slots.UI_Component39")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component41")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n129=this.getChild("n129"),this.m_n126=this.getChild("n126"),this.m_n128=this.getChild("n128"),this.m_n130=this.getChild("n130")},e}(fairygui.GButton);e.URL="ui://3ly9g3lar77kk5v",t.UI_Component41=e,__reflect(e.prototype,"ui.slots.UI_Component41")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component43")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n2=this.getChild("n2"),this.m_n17=this.getChild("n17"),this.m_xianshu1_jpg=this.getChild("xianshu1_jpg"),this.m_xianshu2_jpg=this.getChild("xianshu2_jpg"),this.m_xianshu3_jpg=this.getChild("xianshu3_jpg"),this.m_xianshu4_jpg=this.getChild("xianshu4_jpg")},e}(fairygui.GComponent);e.URL="ui://3ly9g3laohmyk68",t.UI_Component43=e,__reflect(e.prototype,"ui.slots.UI_Component43")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component44")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n19=this.getChild("n19"),this.m_n20=this.getChild("n20"),this.m_n29=this.getChild("n29"),this.m_n30=this.getChild("n30"),this.m_n31=this.getChild("n31"),this.m_n32=this.getChild("n32"),this.m_n33=this.getChild("n33"),this.m_n34=this.getChild("n34"),this.m_n36=this.getChild("n36"),this.m_n37=this.getChild("n37"),this.m_n38=this.getChild("n38")},e}(fairygui.GComponent);e.URL="ui://3ly9g3laohmyk69",t.UI_Component44=e,__reflect(e.prototype,"ui.slots.UI_Component44")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component45")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n19=this.getChild("n19"),this.m_n20=this.getChild("n20"),this.m_n29=this.getChild("n29"),this.m_n30=this.getChild("n30"),this.m_n31=this.getChild("n31"),this.m_n32=this.getChild("n32"),this.m_n33=this.getChild("n33"),this.m_n34=this.getChild("n34"),this.m_n36=this.getChild("n36")},e}(fairygui.GComponent);e.URL="ui://3ly9g3laazd7k6v",t.UI_Component45=e,__reflect(e.prototype,"ui.slots.UI_Component45")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component46")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n19=this.getChild("n19"),this.m_n20=this.getChild("n20"),this.m_n29=this.getChild("n29"),this.m_n30=this.getChild("n30"),this.m_n31=this.getChild("n31"),this.m_n32=this.getChild("n32"),this.m_n33=this.getChild("n33"),this.m_n34=this.getChild("n34"),this.m_n36=this.getChild("n36")},e}(fairygui.GComponent);e.URL="ui://3ly9g3laazd7k6w",t.UI_Component46=e,__reflect(e.prototype,"ui.slots.UI_Component46")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component47")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n19=this.getChild("n19"),this.m_n20=this.getChild("n20"),this.m_n39=this.getChild("n39"),this.m_n29=this.getChild("n29"),this.m_n30=this.getChild("n30"),this.m_n31=this.getChild("n31"),this.m_n32=this.getChild("n32"),this.m_n33=this.getChild("n33"),this.m_n34=this.getChild("n34"),this.m_n36=this.getChild("n36"),this.m_n37=this.getChild("n37"),this.m_n38=this.getChild("n38"),this.m_n40=this.getChild("n40")},e}(fairygui.GComponent);e.URL="ui://3ly9g3laazd7k6x",t.UI_Component47=e,__reflect(e.prototype,"ui.slots.UI_Component47")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component48")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n19=this.getChild("n19"),this.m_n20=this.getChild("n20"),this.m_n39=this.getChild("n39"),this.m_n29=this.getChild("n29"),this.m_n30=this.getChild("n30"),this.m_n31=this.getChild("n31"),this.m_n32=this.getChild("n32"),this.m_n33=this.getChild("n33"),this.m_n34=this.getChild("n34"),this.m_n36=this.getChild("n36"),this.m_n37=this.getChild("n37"),this.m_n38=this.getChild("n38"),this.m_n40=this.getChild("n40")},e}(fairygui.GComponent);e.URL="ui://3ly9g3laazd7k6y",t.UI_Component48=e,__reflect(e.prototype,"ui.slots.UI_Component48")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component49")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n19=this.getChild("n19"),this.m_n20=this.getChild("n20"),this.m_n39=this.getChild("n39"),this.m_n29=this.getChild("n29"),this.m_n30=this.getChild("n30"),this.m_n31=this.getChild("n31"),this.m_n32=this.getChild("n32"),this.m_n33=this.getChild("n33"),this.m_n34=this.getChild("n34"),this.m_n36=this.getChild("n36"),this.m_n38=this.getChild("n38"),this.m_n39_2=this.getChild("n39"),this.m_n40=this.getChild("n40")},e}(fairygui.GComponent);e.URL="ui://3ly9g3laazd7k6z",t.UI_Component49=e,__reflect(e.prototype,"ui.slots.UI_Component49")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component50")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_button=this.getController("button"),this.m_n67=this.getChild("n67"),this.m_n68=this.getChild("n68"),this.m_title=this.getChild("title")},e}(fairygui.GButton);e.URL="ui://3ly9g3lapd9ik6h",t.UI_Component50=e,__reflect(e.prototype,"ui.slots.UI_Component50")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component51")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n11=this.getChild("n11"),this.m_n24=this.getChild("n24"),this.m_n39=this.getChild("n39"),this.m_n40=this.getChild("n40"),this.m_n41=this.getChild("n41"),this.m_n42=this.getChild("n42"),this.m_n44=this.getChild("n44"),this.m_n43=this.getChild("n43"),this.m_n45=this.getChild("n45"),this.m_n46=this.getChild("n46"),this.m_n47=this.getChild("n47"),this.m_n8=this.getChild("n8"),this.m_n9=this.getChild("n9"),this.m_n26=this.getChild("n26"),this.m_n48=this.getChild("n48"),this.m_n49=this.getChild("n49"),this.m_n50=this.getChild("n50"),this.m_n55=this.getChild("n55"),this.m_n56=this.getChild("n56"),this.m_n57=this.getChild("n57")},e}(fairygui.GComponent);e.URL="ui://3ly9g3lapd9ik6k",t.UI_Component51=e,__reflect(e.prototype,"ui.slots.UI_Component51")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component52")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n24=this.getChild("n24"),this.m_n25=this.getChild("n25"),this.m_n26=this.getChild("n26"),this.m_n27=this.getChild("n27"),this.m_n28=this.getChild("n28"),this.m_n29=this.getChild("n29"),this.m_n30=this.getChild("n30")},e}(fairygui.GComponent);e.URL="ui://3ly9g3lagmvxk70",t.UI_Component52=e,__reflect(e.prototype,"ui.slots.UI_Component52")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component54")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n34=this.getChild("n34")},e}(fairygui.GButton);e.URL="ui://3ly9g3laynemk73",t.UI_Component54=e,__reflect(e.prototype,"ui.slots.UI_Component54")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component55")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n37=this.getChild("n37")},e}(fairygui.GButton);e.URL="ui://3ly9g3laynemk74",t.UI_Component55=e,__reflect(e.prototype,"ui.slots.UI_Component55")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component56")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n41=this.getChild("n41"),this.m_n42=this.getChild("n42")},e}(fairygui.GButton);e.URL="ui://3ly9g3laf0uhk77",t.UI_Component56=e,__reflect(e.prototype,"ui.slots.UI_Component56")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component57")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getController("c1"),this.m_n83=this.getChild("n83"),this.m_n70=this.getChild("n70"),this.m_n75=this.getChild("n75"),this.m_n76=this.getChild("n76"),this.m_n77=this.getChild("n77"),this.m_n78=this.getChild("n78"),this.m_n79=this.getChild("n79"),this.m_n80=this.getChild("n80"),this.m_n82=this.getChild("n82")},e}(fairygui.GComponent);e.URL="ui://3ly9g3lapnntk7z",t.UI_Component57=e,__reflect(e.prototype,"ui.slots.UI_Component57")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component59")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n7=this.getChild("n7"),this.m_n35=this.getChild("n35")},e}(fairygui.GComponent);e.URL="ui://3ly9g3laspdsk8f",t.UI_Component59=e,__reflect(e.prototype,"ui.slots.UI_Component59")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component60")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getController("c1"),this.m_n5=this.getChild("n5"),this.m_n8=this.getChild("n8"),this.m_title=this.getChild("title")},e}(fairygui.GButton);e.URL="ui://3ly9g3lahicck7w",t.UI_Component60=e,__reflect(e.prototype,"ui.slots.UI_Component60")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var game;!function(t){var e=function(){function t(){this._versionInfo={}}return t.prototype.fetchVersion=function(t){function e(e){n(),t.onFail(1,null)}function i(){n();try{o._versionInfo=JSON.parse(r.response),PPGame.Ins.trackEvent(PPTrackEvent.LOADING,PPLoadingStep.MANIFEST_LOAD),t.onSuccess(null)}catch(e){o._versionInfo={},PPGame.Ins.trackEvent(PPTrackEvent.LOADING,PPLoadingStep.MANIFEST_PARSE_FAIL),t.onFail(1,null)}}function n(){r.removeEventListener(egret.Event.COMPLETE,i,o),r.removeEventListener(egret.IOErrorEvent.IO_ERROR,e,o)}var o=this,s=PPGame.MANIFEST_URL,r=new egret.HttpRequest;r.addEventListener(egret.Event.COMPLETE,i,this),r.addEventListener(egret.IOErrorEvent.IO_ERROR,e,this),r.open(s,egret.HttpMethod.GET),r.send()},t.prototype.getChangeList=function(){return[]},t.prototype.getVirtualUrl=function(t){var e=this._versionInfo?this._versionInfo[t]:null;
if(e){var i=t.substring(t.lastIndexOf(".")+1);return PPGame.ENV.RES_URL+"resource/"+e.v.substring(0,2)+"/"+e.v+"_"+e.s+"."+i}return t},t}();t.WebVersionController=e,__reflect(e.prototype,"game.WebVersionController",["RES.IVersionController"])}(game||(game={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component65")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n2=this.getChild("n2"),this.m_n17=this.getChild("n17"),this.m_jietu1_jpg=this.getChild("jietu1_jpg"),this.m_jietu2_jpg=this.getChild("jietu2_jpg"),this.m_n23=this.getChild("n23")},e}(fairygui.GComponent);e.URL="ui://3ly9g3latm0akcg",t.UI_Component65=e,__reflect(e.prototype,"ui.slots.UI_Component65")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component66")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n2=this.getChild("n2"),this.m_n17=this.getChild("n17"),this.m_jietu3_jpg=this.getChild("jietu3_jpg"),this.m_jietu4_jpg=this.getChild("jietu4_jpg"),this.m_n23=this.getChild("n23")},e}(fairygui.GComponent);e.URL="ui://3ly9g3latm0akch",t.UI_Component66=e,__reflect(e.prototype,"ui.slots.UI_Component66")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component67")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n2=this.getChild("n2"),this.m_n28=this.getChild("n28"),this.m_n31=this.getChild("n31"),this.m_n29=this.getChild("n29"),this.m_n24=this.getChild("n24"),this.m_n25=this.getChild("n25"),this.m_n26=this.getChild("n26"),this.m_n27=this.getChild("n27"),this.m_n30=this.getChild("n30"),this.m_n32=this.getChild("n32"),this.m_n33=this.getChild("n33"),this.m_n34=this.getChild("n34"),this.m_n35=this.getChild("n35"),this.m_xiazhu_jpg=this.getChild("xiazhu_jpg"),this.m_shouji_jpg=this.getChild("shouji_jpg")},e}(fairygui.GComponent);e.URL="ui://3ly9g3latm0akci",t.UI_Component67=e,__reflect(e.prototype,"ui.slots.UI_Component67")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component78")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n19=this.getChild("n19"),this.m_n20=this.getChild("n20"),this.m_n29=this.getChild("n29"),this.m_n30=this.getChild("n30"),this.m_n31=this.getChild("n31"),this.m_n32=this.getChild("n32"),this.m_n33=this.getChild("n33"),this.m_n34=this.getChild("n34"),this.m_n36=this.getChild("n36"),this.m_n38=this.getChild("n38"),this.m_n39=this.getChild("n39")},e}(fairygui.GComponent);e.URL="ui://3ly9g3las8lpkcb",t.UI_Component78=e,__reflect(e.prototype,"ui.slots.UI_Component78")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component8")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getController("c1"),this.m_n193=this.getChild("n193"),this.m_n194=this.getChild("n194"),this.m_n195=this.getChild("n195"),this.m_dianjitexiao=this.getChild("dianjitexiao "),this.m_tishi=this.getChild("tishi ")},e}(fairygui.GButton);e.URL="ui://3ly9g3laj3bpka4",t.UI_Component8=e,__reflect(e.prototype,"ui.slots.UI_Component8")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","Component9")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getController("c1"),this.m_n192=this.getChild("n192"),this.m_n193=this.getChild("n193"),this.m_n194=this.getChild("n194"),this.m_dianjitexiao=this.getChild("dianjitexiao "),this.m_tishi=this.getChild("tishi ")},e}(fairygui.GButton);e.URL="ui://3ly9g3laj3bpka5",t.UI_Component9=e,__reflect(e.prototype,"ui.slots.UI_Component9")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","loading")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n11=this.getChild("n11"),this.m_n12=this.getChild("n12")},e}(fairygui.GComponent);e.URL="ui://3ly9g3laq6lnk2s",t.UI_loading=e,__reflect(e.prototype,"ui.slots.UI_loading")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","popup_fanli")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n0=this.getChild("n0"),this.m_n41=this.getChild("n41"),this.m_frame=this.getChild("frame"),this.m_n42=this.getChild("n42"),this.m_n43=this.getChild("n43"),this.m_n44=this.getChild("n44"),this.m_n45=this.getChild("n45"),this.m_n46=this.getChild("n46"),this.m_n47=this.getChild("n47"),this.m_n49=this.getChild("n49"),this.m_n50=this.getChild("n50"),this.m_n51=this.getChild("n51"),this.m_n52=this.getChild("n52"),this.m_n54=this.getChild("n54"),this.m_n55=this.getChild("n55"),this.m_n56=this.getChild("n56"),this.m_n57=this.getChild("n57"),this.m_n59=this.getChild("n59")},e}(fairygui.GComponent);e.URL="ui://3ly9g3laf0uhk79",t.UI_popup_fanli=e,__reflect(e.prototype,"ui.slots.UI_popup_fanli")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","popup_jiangdan")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getController("c1"),this.m_jiangdanjpg=this.getChild("jiangdanjpg"),this.m_n67=this.getChild("n67"),this.m_n68=this.getChild("n68"),this.m_n69=this.getChild("n69"),this.m_n79=this.getChild("n79"),this.m_n80=this.getChild("n80"),this.m_n78=this.getChild("n78"),this.m_n83=this.getChild("n83"),this.m_jiangdan_star_png=this.getChild("jiangdan_star_png"),this.m_n85=this.getChild("n85"),this.m_n89=this.getChild("n89"),this.m_n90=this.getChild("n90"),this.m_n103=this.getChild("n103")},e}(fairygui.GComponent);e.URL="ui://3ly9g3lapnntk7y",t.UI_popup_jiangdan=e,__reflect(e.prototype,"ui.slots.UI_popup_jiangdan")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","popup_mini")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n0=this.getChild("n0"),this.m_n2=this.getChild("n2"),this.m_n3=this.getChild("n3"),this.m_n4=this.getChild("n4"),this.m_n7=this.getChild("n7")},e}(fairygui.GComponent);e.URL="ui://3ly9g3laha1y1u",t.UI_popup_mini=e,__reflect(e.prototype,"ui.slots.UI_popup_mini")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","popup_rank")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getController("c1"),this.m_n0=this.getChild("n0"),this.m_n60=this.getChild("n60"),this.m_n1=this.getChild("n1"),this.m_n75=this.getChild("n75"),this.m_frame=this.getChild("frame"),this.m_n4=this.getChild("n4"),this.m_n5=this.getChild("n5"),this.m_n58=this.getChild("n58"),this.m_n70=this.getChild("n70"),this.m_n72=this.getChild("n72"),this.m_n73=this.getChild("n73"),this.m_n74=this.getChild("n74"),this.m_n76=this.getChild("n76")},e}(fairygui.GComponent);e.URL="ui://3ly9g3laha1y1f",t.UI_popup_rank=e,__reflect(e.prototype,"ui.slots.UI_popup_rank")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","popup_rule")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getController("c1"),this.m_n0=this.getChild("n0"),this.m_n8=this.getChild("n8"),this.m_frame=this.getChild("frame"),this.m_n3=this.getChild("n3"),this.m_n18=this.getChild("n18"),this.m_n32=this.getChild("n32"),this.m_n36=this.getChild("n36"),this.m_n35=this.getChild("n35"),this.m_n30=this.getChild("n30"),this.m_n38=this.getChild("n38"),this.m_n39=this.getChild("n39"),this.m_n40=this.getChild("n40"),this.m_n41=this.getChild("n41")},e}(fairygui.GComponent);e.URL="ui://3ly9g3laohmyk66",t.UI_popup_rule=e,__reflect(e.prototype,"ui.slots.UI_popup_rule")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","popup_tongyong")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getController("c1"),this.m_n0=this.getChild("n0"),this.m_n2=this.getChild("n2"),this.m_n3=this.getChild("n3"),this.m_n7=this.getChild("n7"),this.m_n8=this.getChild("n8"),this.m_n10=this.getChild("n10"),this.m_n9=this.getChild("n9"),this.m_n14=this.getChild("n14"),this.m_n12=this.getChild("n12"),this.m_n13=this.getChild("n13"),this.m_n15=this.getChild("n15"),this.m_n11=this.getChild("n11")},e}(fairygui.GComponent);e.URL="ui://3ly9g3laq6lnk2m",t.UI_popup_tongyong=e,__reflect(e.prototype,"ui.slots.UI_popup_tongyong")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","popup")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_win1=this.getChild("win1"),this.m_win2=this.getChild("win2"),this.m_win3=this.getChild("win3"),this.m_win6=this.getChild("win6"),this.m_win5=this.getChild("win5"),this.m_win4=this.getChild("win4"),this.m_win7=this.getChild("win7")},e}(fairygui.GComponent);e.URL="ui://3ly9g3lauupkk7r",t.UI_popup=e,__reflect(e.prototype,"ui.slots.UI_popup")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","progress_bar")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n9=this.getChild("n9"),this.m_bar=this.getChild("bar"),this.m_title=this.getChild("title"),this.m_n12=this.getChild("n12")},e}(fairygui.GProgressBar);e.URL="ui://3ly9g3laq6lnk2v",t.UI_progress_bar=e,__reflect(e.prototype,"ui.slots.UI_progress_bar")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","return2")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n16=this.getChild("n16")},e}(fairygui.GButton);e.URL="ui://3ly9g3lafev9kcd",t.UI_return2=e,__reflect(e.prototype,"ui.slots.UI_return2")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("slots","slots")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getController("c1"),this.m_bgwan_jpg=this.getChild("bgwan_jpg"),this.m_bg_jpg=this.getChild("bg_jpg"),this.m_bg01=this.getChild("bg01"),this.m_n185=this.getChild("n185"),this.m_n187=this.getChild("n187"),this.m_n137=this.getChild("n137"),this.m_n203=this.getChild("n203"),this.m_n213=this.getChild("n213"),this.m_n211=this.getChild("n211"),this.m_n186=this.getChild("n186"),this.m_n188=this.getChild("n188"),this.m_girl004=this.getChild("girl004"),this.m_girl004st=this.getChild("girl004st"),this.m_n209=this.getChild("n209"),this.m_n206=this.getChild("n206"),this.m_n224=this.getChild("n224"),this.m_girl003=this.getChild("girl003"),this.m_girl003st=this.getChild("girl003st"),this.m_girl002=this.getChild("girl002"),this.m_girl002st=this.getChild("girl002st"),this.m_girl001=this.getChild("girl001"),this.m_girl001st=this.getChild("girl001st"),this.m_n214=this.getChild("n214"),this.m_n212=this.getChild("n212"),this.m_n210=this.getChild("n210"),this.m_n207=this.getChild("n207"),this.m_dianjitexiao=this.getChild("dianjitexiao"),this.m_paiduideng=this.getChild("paiduideng"),this.m_dengguang=this.getChild("dengguang"),this.m_dengqiu=this.getChild("dengqiu"),this.m_xiangbing02=this.getChild("xiangbing02"),this.m_xiangbing01=this.getChild("xiangbing01"),this.m_n85=this.getChild("n85"),this.m_n190=this.getChild("n190"),this.m_n134=this.getChild("n134"),this.m_guang1=this.getChild("guang1"),this.m_guang2=this.getChild("guang2"),this.m_guang3=this.getChild("guang3"),this.m_guang4=this.getChild("guang4"),this.m_guang5=this.getChild("guang5"),this.m_n41=this.getChild("n41"),this.m_n142=this.getChild("n142"),this.m_n129=this.getChild("n129"),this.m_n223=this.getChild("n223"),this.m_n104=this.getChild("n104"),this.m_n81=this.getChild("n81"),this.m_n80=this.getChild("n80"),this.m_n82=this.getChild("n82"),this.m_paiduikaishi=this.getChild("paiduikaishi"),this.m_hud_hud=this.getChild("hud_hud"),this.m_n121=this.getChild("n121"),this.m_laohujinew001_shuzi=this.getChild("laohujinew001_shuzi"),this.m_n123=this.getChild("n123"),this.m_n125=this.getChild("n125"),this.m_chushuzi01=this.getChild("chushuzi01"),this.m_n135=this.getChild("n135"),this.m_laohujinew001_dianji2=this.getChild("laohujinew001_dianji2"),this.m_n9=this.getChild("n9"),this.m_n156=this.getChild("n156"),this.m_n192=this.getChild("n192"),this.m_n181=this.getChild("n181"),this.m_zuanshi=this.getChild("zuanshi"),this.m_yaoshi=this.getChild("yaoshi"),this.m_yanhua=this.getChild("yanhua"),this.m_chushuzi02=this.getChild("chushuzi02"),this.m_chushuzi03=this.getChild("chushuzi03")},e}(fairygui.GComponent);e.URL="ui://3ly9g3lanix7k3r",t.UI_slots=e,__reflect(e.prototype,"ui.slots.UI_slots")}(e=t.slots||(t.slots={}))}(ui||(ui={}));var ui;!function(t){var e=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.login=null,t.main=null,t}return __extends(i,e),i.prototype.switchStatus=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];switch(e){case t.UIStatusIds.LOGIN:this.login||(this.login=new t.UILoginMain),this._current=this.login;break;case t.UIStatusIds.MAIN:this.main||(this.main=new t.UIGameMain),this.main.jumpPage(i.length>0?i[0]:-1),this._current=this.main}this._current&&(t.UIUtils.lifeTime(this._current,function(){game.GameEvent.UI_SWITCHED.dispatch(),game.GameEvent.LOCK_SCREEN.dispatch(!1)}),this.addChild(this._current))},i.prototype.clear=function(){this._current&&(this.removeChild(this._current),this.login&&(this.login.dispose(),this.login=null))},i}(fairygui.GComponent);t.UIGameLayer=e,__reflect(e.prototype,"ui.UIGameLayer")}(ui||(ui={}));var ui;!function(t){var e=function(){function t(){}return t}();e.NOTIFICATION="notification",e.RANKINGPOP="rankingpop",e.BIG_WIN="big_win",e.SUPER_WIN="super_win",e.GAME_UPDATES="game_updates",e.SLOT="slotrule",e.RANKING="ranking",e.FANLI="fanli",e.JACKPOT="jackpot",t.PopUpIds=e,__reflect(e.prototype,"ui.PopUpIds");var i=function(){function t(){}return t}();i.LOGIN="login",i.MAIN="main",t.UIStatusIds=i,__reflect(i.prototype,"ui.UIStatusIds");var n=function(){function t(){}return t}();n.MAIN=10,t.UIMainIndex=n,__reflect(n.prototype,"ui.UIMainIndex");var o=function(){function t(){}return t}();o.GET_CARD="get_card",t.UIMainReason=o,__reflect(o.prototype,"ui.UIMainReason");var s=function(){function t(){}return t}();s.CASH="cash",s.COIN="coin",s.STAMINA="stamina",s.EXP="exp",t.CostType=s,__reflect(s.prototype,"ui.CostType")}(ui||(ui={}));var ui;!function(t){var e=function(){function e(){this._lockUIQueue=[],this._lockScreenQueue=[]}return Object.defineProperty(e,"Ins",{get:function(){return null==this.ins&&(this.ins=new t.UILayer),this.ins},enumerable:!0,configurable:!0}),e.prototype.switchStatus=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var o=this;if(o.lockScreen(!0),o.lastStatus=o.currentStatus,e==t.UIStatusIds.MAIN&&e==o.currentStatus&&i.length>0){var s=game.GameEvent.UI_SWITCH_INSIDE_MAIN;s.dispatch.apply(s,i)}else o.currentStatus!=e&&(o.currentStatus=e,o.switchLoading(o.currentStatus,function(){o.__gameLayer.clear(),o.__popupLayer.clear(),o.__gameLayer.switchStatus.apply(o.__gameLayer,[o.currentStatus].concat(i))},o))},e.prototype.switchLoading=function(t,e,i){var n;n?n.onClose(e,i):e&&e.apply(i)},e.prototype.popup=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.unshift(t),this.__popupLayer.popup.apply(this.__popupLayer,e)},e.prototype.clearAllPopUp=function(){console.log("[UILayer]","clearAllPopUp"),this.__popupLayer.clear()},e.prototype.lockScreen=function(t){void 0===t&&(t=!0),this.lockUI(t),t?this._lockScreenQueue.push(!0):this._lockScreenQueue.pop(),0==this._lockScreenQueue.length?fairygui.GRoot.inst.closeModalWait():fairygui.GRoot.inst.showModalWait()},e.prototype.lockUI=function(t){void 0===t&&(t=!0),t?this._lockUIQueue.push(!0):this._lockUIQueue.pop(),this._uiLayer.touchable=0==this._lockUIQueue.length},e.prototype.getCurrentStatus=function(){return this.currentStatus},e.prototype.getLastStatus=function(){return this.lastStatus},e.prototype.stage=function(){return this.Stage},e.prototype.init=function(i){var n=this;n.Stage=i,n.rootLayer=new egret.DisplayObjectContainer,n.updatePositionAndSizeOfRootLayer(i.stageWidth,i.stageHeight),n._uiLayer=n.createFairyGUI(),n.__gameLayer=new t.UIGameLayer,n.__popupLayer=new t.UIPopupLayer,n.lockScreen(!1),n._uiLayer.addChildAt(n.__gameLayer,e.SUB_LAYER_INDEX.GAME),n.rootLayer.addChildAt(n._uiLayer.displayObject,e.MAIN_LAYER_INDEX.UI),i.addChild(n.rootLayer),n.registerListeners()},e.prototype.registerListeners=function(){game.GameEvent.UI_SWITCH.add(this.switchStatus,this),game.GameEvent.LOCK_SCREEN.add(this.lockScreen,this)},e.prototype.resizeWin=function(){this.updatePositionAndSizeOfRootLayer(this.Stage.stageWidth,this.Stage.stageHeight)},e.prototype.updatePositionAndSizeOfRootLayer=function(t,i){var n=i/t;n>=e.MIN_SUPPORT_RATIO?(e.ACTUAL_HEIGHT=i,e.ACTUAL_WIDTH=t,this.rootLayer.x=0,this.rootLayer.y=0):(e.ACTUAL_HEIGHT=i,e.ACTUAL_WIDTH=Math.floor(i/e.MIN_SUPPORT_RATIO),this.rootLayer.x=Math.round((t-e.ACTUAL_WIDTH)/2),this.rootLayer.y=0);var o=this.rootLayer.mask;o?o.setTo(0,0,e.ACTUAL_WIDTH,e.ACTUAL_HEIGHT):o=new egret.Rectangle(0,0,e.ACTUAL_WIDTH,e.ACTUAL_HEIGHT),this.rootLayer.mask=o},e.prototype.createFairyGUI=function(){return fairygui.GRoot.inst.setSize(e.ACTUAL_WIDTH,e.ACTUAL_HEIGHT),fairygui.GRoot.inst},e}();e.DESIGN_WIDTH=640,e.DESIGN_HEIGHT=960,e.MIN_SUPPORT_RATIO=1.2,e.MAIN_LAYER_INDEX={BACKGROUND:-1,BATTLE:0,UI:1},e.SUB_LAYER_INDEX={GAME:0,POPUP:1,FTUE:3},t.UILayer=e,__reflect(e.prototype,"ui.UILayer")}(ui||(ui={}));var ui;!function(t){var e=function(){function e(){this.POPUP_MAP=null,this.POPUP_INSTS=null,this.POPUP_CACHES=null,this.lock=!1,this.init(),game.GameEvent.UI_LOADING_LOCK.add(this.onLock,this)}return e.prototype.popup=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];if(this.POPUP_MAP.hasOwnProperty(t)){var o=null;if(this.POPUP_CACHES[t])o=this.POPUP_CACHES[t];else{var s=this.POPUP_MAP[t];o=new s,-1!=e.CACHE_ID.indexOf(t)&&(this.POPUP_CACHES[t]=o),this.POPUP_INSTS.push(o)}return o.update.apply(o,i),o.show(),o.onCloseDefault(this.onPopupClosed,this),o}return null},e.prototype.closeCurrent=function(){if(this.POPUP_INSTS.length){var t=this.POPUP_INSTS[this.POPUP_INSTS.length-1];t.closeWhenClickOutside()&&(this.POPUP_INSTS.pop(),t.hide())}},e.prototype.closeAll=function(){var t=this,e=t.POPUP_INSTS.concat();t.POPUP_INSTS=[];for(var i=0,n=e.length;n>i;i++)e[i].hide()},e.prototype.clear=function(){this.closeAll(),this.clean()},e.prototype.clean=function(){this.POPUP_CACHES={},this.lock=!1},e.prototype.init=function(){var i=this;i.POPUP_MAP={},i.POPUP_INSTS=[],i.POPUP_CACHES={},i.POPUP_MAP[t.PopUpIds.RANKINGPOP]=t.RankingPop,i.POPUP_MAP[t.PopUpIds.BIG_WIN]=t.PopResult,i.POPUP_MAP[t.PopUpIds.SUPER_WIN]=t.PopSuperResult,i.POPUP_MAP[t.PopUpIds.NOTIFICATION]=t.NotificationPopup,i.POPUP_MAP[t.PopUpIds.SLOT]=t.Rule,i.POPUP_MAP[t.PopUpIds.RANKING]=t.Ranking,i.POPUP_MAP[t.PopUpIds.FANLI]=t.PopFanli,i.POPUP_MAP[t.PopUpIds.JACKPOT]=t.PopJackpotResult,e.CACHE_ID=_.keys(i.POPUP_MAP)},e.prototype.onPopupClosed=function(t){t&&-1!=this.POPUP_INSTS.indexOf(t)&&this.POPUP_INSTS.splice(this.POPUP_INSTS.indexOf(t),1),0==this.POPUP_INSTS.length&&this.clean()},e.prototype.onLock=function(t){this.lock=t},e}();t.UIPopupLayer=e,__reflect(e.prototype,"ui.UIPopupLayer")}(ui||(ui={}));var view;!function(t){var e=function(){function e(){this._animNum=0,this._unitIndex=0}return Object.defineProperty(e,"Ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.init=function(t){this._slot=t,this.doLogic()},e.prototype.doLogic=function(){game.GameEvent.COLLECT_EFFECT.add(this.playTo,this)},e.prototype.playTo=function(){function e(t){return"unit009"==t?"a":"unit010"==t?"b":"unit011"==t?"c":"unit012"==t?"d":"a"}function i(e,i,n){var o=game.Animation.get(e,i).attach(n).fitScale().onStop(!0,function(){n.displayObject.removeChildren(),n.removeFromParent(),y.onStopCollectStep()},y).play(!1).anim;if(o){var s=o.getSprite("icon"),r=new egret.Bitmap(t.SlotViewMain.getUnitTexture(p));r.x=-r.width/2,r.y=-r.height/2,s.addChild(r)}}function n(){if(g<d.length){g++;var t=d[g-1],o=10>t?"0"+t:""+t,s="mc_"+m+"_jiangli"+o+f;y._animNum++;var a=new fairygui.GGraph;y._slot.m_n181.addChild(a),i("guiji",s,a);var l=setTimeout(function(){n(),clearTimeout(l)},100)}else{if(y._unitIndex>=r.length)return;var h=r[y._unitIndex];y._unitIndex++,d=h.result,p=h.unit,f=e(p),g=0,n()}}for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var r=[],a=model.UserModel.Ins.collectBeautys,l=model.UserModel.Ins.oldNumOfEachBeauty;for(var h in a){var u=model.LocalConfigModel.Ins.getTaskUnit(h);if(a[h]>0&&l[h]<u.unitPoint){var c=t.SlotWheel.Ins.getUnitIndex(h),_={unit:h,result:c};r.push(_)}}if(0==r.length)return void game.GameEvent.SHOW_COLLECT_EFFECT_END.dispatch();this._unitIndex=0;var p,d=[],g=0,m="beilv",f="a",y=this;n()},e.prototype.onStopCollectStep=function(){this._animNum--,this._animNum<=0&&(this._animNum=0,game.GameEvent.SHOW_COLLECT_EFFECT_END.dispatch())},e}();t.CollectEffect=e,__reflect(e.prototype,"view.CollectEffect")}(view||(view={}));var view;!function(t){var e;!function(t){var e=function(){function t(t){this._ui=t,game.UIEvent.SLOT.add(this.onSlot,this),game.UIEvent.SLOT_COMPLETE.add(this.onSlotComplete,this),game.GameEvent.UPDATE_HUD_DIAMOND.add(this.updataDiamond,this),game.GameEvent.UPDATE_HUD_MUSIC.add(this.initMusic,this),game.GameEvent.UPDATE_QUEST_REDDOT.add(this.updateTask,this),this._ui.chargeBtn.addClickListener(this.gotoPay,this),this._ui.musicBtn.addClickListener(this.onMusic,this),this._ui.taskComp.addClickListener(this.onTask,this),this._ui.returnBtn.addClickListener(this.onReturn,this);var e=model.UserModel.Ins.userProfile;this._ui.nameText.text=e.username,ui.UIUtils.fitPlayerHead(this._ui.headComp,e.avatar),this._ui.diamondGraph.setNativeObject(this._ui.diamondText),this.updataDiamond(),this.initMusic(),this.updateTask(!0)}return t.prototype.updataDiamond=function(){this._ui.diamondText.text=(model.UserModel.Ins.userProfile.diamond||0)+""},t.prototype.gotoPay=function(){WindowMsg.Ins.posMessage({key:"pay"})},t.prototype.onMusic=function(t){var e=game.MusicManager.Ins.isMusicOn();WindowMsg.Ins.posMessage({key:"music",status:!e}),game.MusicManager.Ins.setMusicOn(!e)},t.prototype.initMusic=function(){this._ui.musicBtn.selected=!game.MusicManager.Ins.isMusicOn()},t.prototype.updateTask=function(t){function e(){var t=o._ui.taskComp.parent,e=t.getChildIndex(o._ui.taskComp),i=t.getChildIndex(o._ui.musicBtn);i>e&&t.setChildIndex(o._ui.taskComp,i)}function i(){var t=o._ui.taskComp.parent,e=t.getChildIndex(o._ui.taskComp),i=t.getChildIndex(o._ui.musicBtn);e>i&&t.setChildIndex(o._ui.taskComp,i)}function n(){i(),s?h.selectedIndex=1:h.selectedIndex=0}var o=this,s=model.UserModel.Ins.taskStatus,r=model.UserModel.Ins.lastTaskStatus,a=model.UserModel.Ins.lastTaskCount,l=model.UserModel.Ins.taskCount,h=o._ui.taskComp.getControllerAt(0),u=o._ui.taskComp.getTransitionAt(0);console.log("[SlotHudLogic]",t,a,l,r,s),!t&&l>a?(e(),h.selectedIndex=2,u.play(function(){n()},o)):n()},t.prototype.onTask=function(){WindowMsg.Ins.posMessage({key:"popup",identity:"quest"})},t.prototype.onReturn=function(){WindowMsg.Ins.posMessage({key:"close"})},t.prototype.onSlot=function(){var t=model.UserModel.Ins.freeTimes>0?0:game.SlotLogic.Ins.line*game.SlotLogic.Ins.bet;this._ui.diamondText.text=(model.UserModel.Ins.userProfile.diamond||0)-t+""},t.prototype.onSlotComplete=function(){this._ui.diamondText.text=(model.UserModel.Ins.userProfile.diamond||0)+""},t}();t.SlotHudLogic=e,__reflect(e.prototype,"view.delegate.SlotHudLogic")}(e=t.delegate||(t.delegate={}))}(view||(view={}));var view;!function(t){var e=function(){function t(){this._collectingAni1=null,this._collectingAni2=null,this._collectingAni3=null}return Object.defineProperty(t,"Ins",{get:function(){return null==this._ins&&(this._ins=new t),this._ins},enumerable:!0,configurable:!0}),t.prototype.init=function(t){this._slot=t,this.doLogic()},t.prototype.doLogic=function(){game.UIEvent.MULTI_RATE_START.add(this.update,this),game.UIEvent.MULTI_RATE_STOP.add(this.update,this),game.UIEvent.SLOT_COMPLETE.add(this.update,this),game.UIEvent.UPDATA_RATE.add(this.update,this),game.UIEvent.SHOW_FREE_TIMES.add(this.onFreeTimes,this),this.update()},t.prototype.onFreeTimes=function(t){if(0!=t){var e=this;game.AssetManager.Ins.loadAssets(["laohujinew003_json","laohujinew003_swf_json"],function(i){var n=game.Animation.get("laohujinew003","mc_laohujinew001_chushuzi01").attach(e._slot.m_chushuzi01).fitScale().onStop(!0,function(){var t=setTimeout(function(){clearTimeout(t),n.stop()},1e3)}).play(!1),o=n.anim.getSprite("wenzi"),s=new egret.BitmapText;s.letterSpacing=-40,s.font=RES.getRes("font1"),s.text=t+"",s.y=-20,o.addChild(s)},this)}},t.prototype.update=function(){var t=this._slot.m_n223,e=model.UserModel.Ins.taskTimes>0?!0:!1;t.visible=e,t.m_n191.asTextField.text=""+model.UserModel.Ins.taskRate,t.m_n194.asTextField.text=""+model.UserModel.Ins.taskTimes},t}();t.RateBar=e,__reflect(e.prototype,"view.RateBar")}(view||(view={}));var view;!function(t){var e=function(){function t(){}return Object.defineProperty(t,"Ins",{get:function(){return null==this._ins&&(this._ins=new t),this._ins},enumerable:!0,configurable:!0}),t.prototype.init=function(t){this._slot=t,this.doLogic()},t.prototype.doLogic=function(){game.UIEvent.MULTI_RATE_START.add(this.onStart,this),game.UIEvent.MULTI_RATE_STOP.add(this.onStop,this),model.UserModel.Ins.taskTimes>0&&this.onStart()},t.prototype.onStart=function(){var t=this;game.AssetManager.Ins.loadAssets(["beilv_swf_json","beilv_json"],function(e){0!=model.UserModel.Ins.taskTimes&&(t._animation=game.Animation.get("beilv","mc_beilv_kuang").attach(t._slot.m_chushuzi02).fitScale().onStop(!1).play(!0),t._slot.m_chushuzi02.visible=!0)},this)},t.prototype.onStop=function(){this._animation&&this._animation.stop(),this._slot.m_chushuzi02.visible=!1},t}();t.RateScreenEffect=e,__reflect(e.prototype,"view.RateScreenEffect")}(view||(view={}));var view;!function(t){var e=function(){function t(){this._grilsAni={},this._grilsAniData={},this._mode=-1,this._kaixiangAniData={}}return Object.defineProperty(t,"Ins",{get:function(){return null==this._ins&&(this._ins=new t),this._ins},enumerable:!0,configurable:!0}),t.prototype.init=function(t){this._slot=t,this.doLogic()},t.prototype.doLogic=function(){var t=this;game.GameEvent.CHANG_BACK_GROUND.add(this.changBackground,this),game.GameEvent.CHANG_BACK_GROUND.add(this.playSwimmingPoolToPartyAni,this),game.GameEvent.UPDATE_UNIT.add(this.updateUnit,this),game.GameEvent.UPDATE_ALL_UNIT.add(this.updateAllUnit,this),this._kaixiangAniData.unit009={graph:this._slot.m_girl004st,file:"laohujinew002",mcName:"mc_laohujinew001yc_girl004st"},this._kaixiangAniData.unit010={graph:this._slot.m_girl002st,file:"laohujinew002",mcName:"mc_laohujinew001yc_girl002st"},this._kaixiangAniData.unit011={graph:this._slot.m_girl003st,file:"laohujinew002",mcName:"mc_laohujinew001yc_girl003st"},this._kaixiangAniData.unit012={graph:this._slot.m_girl001st,file:"laohujinew002",mcName:"mc_laohujinew001yc_girl001st"},this._grilsAniData.unit009={graph:this._slot.m_girl004,file:"laohujinew001",mcName:"mc_laohujinew001yc_girl004",shadow:this._slot.m_n213},this._grilsAniData.unit010={graph:this._slot.m_girl002,file:"laohujinew001",mcName:"mc_laohujinew001yc_girl002",shadow:this._slot.m_n209},this._grilsAniData.unit011={graph:this._slot.m_girl003,file:"laohujinew001",mcName:"mc_laohujinew001yc_girl003",shadow:this._slot.m_n211},this._grilsAniData.unit012={graph:this._slot.m_girl001,file:"laohujinew001",mcName:"mc_laohujinew001yc_girl001",shadow:this._slot.m_n206},game.AssetManager.Ins.loadAssets(["laohujinew001_json","laohujinew001_swf_json"],function(e){game.Animation.get("laohujinew001","mc_laohujinew001yc_bj01").attach(t._slot.m_bg01).fitScale().play(!0);console.log("----->")},this),4==model.UserModel.Ins.numOfGetReward?this.changBackground(1):this.changBackground(0),this._slot.m_bg_jpg.url="resource/assets/dynamic/bg.jpg",this._slot.m_bgwan_jpg.url="resource/assets/dynamic/bgwan.jpg"},t.prototype.changBackground=function(t){this._mode!=t&&(0==t?this._slot.getControllerAt(0).selectedIndex=0:1==t&&(this._slot.getControllerAt(0).selectedIndex=1),this.setEnvironmentAniVisible(t),this.updateAllUnit(),this._mode=t)},t.prototype.setUnitVisible=function(t,e){var i=t,n=this._grilsAni[i],o=this._grilsAniData[i],s=this;e?(o.graph.visible=!0,n?n.play(!0):game.AssetManager.Ins.loadAssets(["laohujinew001_json","laohujinew001_swf_json"],function(e){n=game.Animation.get(o.file,o.mcName).attach(o.graph).fitScale().onStop(!1,function(){},s).play(!0),s._grilsAni[i]=n,console.log("setUnitVisible ------ >  ",t),console.log("setUnitVisible ------ >  ",o.file,"        ",o.mcName)},this),o.shadow.visible=!1):(n&&n.stop(0,!1),o.graph.visible=!1,o.shadow.visible=!0),"unit012"==t&&(this._slot.m_n224.visible=0==e)},t.prototype.playUnitShowAni=function(t,e){var i=t,n=this._kaixiangAniData[i],o=this;e&&game.AssetManager.Ins.loadAssets(["laohujinew002_json","laohujinew002_swf_json"],function(t){console.log("playUnitShowAni   ",n.file,"   ---   ",n.mcName);game.Animation.get(n.file,n.mcName).attach(n.graph).fitScale().onStop(!0,function(){},o).play(!1);console.log("playUnitShowAni   ",n.file,"   ---   ",n.mcName)},this)},t.prototype.playSwimmingPoolToPartyAni=function(t){if(0!=t){var e=this;game.AssetManager.Ins.loadAssets(["laohujinew002_json","laohujinew002_swf_json"],function(t){game.Animation.get("laohujinew002","mc_laohujinew001yc_xiangbinjiu").attach(e._slot.m_xiangbing01).fitScale().onStop(!0,function(){},e).play(!1)
},this),game.AssetManager.Ins.loadAssets(["laohujinew004_json","laohujinew004_swf_json"],function(t){game.Animation.get("laohujinew004","mc_laohujinew001yc_xiangbinjiu02").attach(e._slot.m_xiangbing02).fitScale().onStop(!0,function(){},e).play(!1)},this),game.AssetManager.Ins.loadAssets(["laohujinew003_json","laohujinew003_swf_json"],function(t){game.Animation.get("laohujinew003","mc_laohujinew001yc_paidui").attach(e._slot.m_paiduikaishi).fitScale().onStop(!0,function(){},e).play(!1)},this)}},t.prototype.setEnvironmentAniVisible=function(t){var e=this;if(1==t){game.AssetManager.Ins.loadAssets(["laohujinew002_json","laohujinew002_swf_json"],function(t){null==e._dengqiuAni1&&(e._dengqiuAni1=game.Animation.get("laohujinew002","mc_laohujinew001yc_dengqiu01").attach(e._slot.m_dengqiu).fitScale().onStop(!1,function(){},e)),e._dengqiuAni1.play(!0)},this),game.AssetManager.Ins.loadAssets(["laohujinew002_json","laohujinew002_swf_json"],function(t){null==e._dengqiuAni2&&(e._dengqiuAni2=game.Animation.get("laohujinew002","mc_laohujinew001yc_dengqiu02").attach(e._slot.m_paiduideng).fitScale().onStop(!1,function(){},e)),e._dengqiuAni2.play(!0)},this),game.AssetManager.Ins.loadAssets(["laohujinew001_json","laohujinew001_swf_json"],function(t){null==e._dengguangAni&&(e._dengguangAni=game.Animation.get("laohujinew001","mc_laohujinew001yc_dengguang").attach(e._slot.m_dengguang).fitScale().onStop(!1,function(){},e)),e._dengguangAni.play(!0)},this),game.AssetManager.Ins.loadAssets(["laohujinew001_json","laohujinew001_swf_json"],function(t){var i=e._slot.m_n192;null==e._partyingAni&&(e._partyingAni=game.Animation.get("laohujinew001","mc_laohujinew001yc_paiduideng").attach(i.m_jinxingzhong).fitScale().onStop(!1,function(){},e),console.log("----->")),e._partyingAni.play(!0)},this),this._slot.m_dengqiu.visible=!0,this._slot.m_dengguang.visible=!0,this._slot.m_paiduideng.visible=!0;var i=e._slot.m_n192;i.m_jinxingzhong.visible=!0}else{this._dengqiuAni1&&this._dengqiuAni1.stop(0,!1),this._dengqiuAni2&&this._dengqiuAni2.stop(0,!1),this._dengguangAni&&this._dengguangAni.stop(0,!1),this._partyingAni&&this._partyingAni.stop(0,!1),this._slot.m_dengqiu.visible=!1,this._slot.m_dengguang.visible=!1,this._slot.m_paiduideng.visible=!1;var i=e._slot.m_n192;i.m_jinxingzhong.visible=!1}},t.prototype.updateUnit=function(t){var e=model.UserModel.Ins.numOfEachBeauty[t]||0,i=model.LocalConfigModel.Ins.getTaskUnitPoint(t),n=e>i?!0:!1;this.setUnitVisible(t,n),this.playUnitShowAni(t,n)},t.prototype.updateAllUnit=function(){for(var t=model.LocalConfigModel.Ins.getTaskAllUnit(),e=0;e<t.length;e++){var i=t[e],n=model.UserModel.Ins.numOfEachBeauty[i.unit]||0,o=i.unitPoint,s=n>o?!0:!1;this.setUnitVisible(i.unit,s)}},t}();t.SlotBackgroundEffect=e,__reflect(e.prototype,"view.SlotBackgroundEffect")}(view||(view={}));var view;!function(t){var e=function(){function e(){this.betArr=[model.LocalConfigModel.Ins.slotsgamecontent("bet1"),model.LocalConfigModel.Ins.slotsgamecontent("bet2"),model.LocalConfigModel.Ins.slotsgamecontent("bet3")],this.betMuilti=[model.LocalConfigModel.Ins.slotsgamecontent("bet1multi"),model.LocalConfigModel.Ins.slotsgamecontent("bet2multi"),model.LocalConfigModel.Ins.slotsgamecontent("bet3multi")],this._selectedIndex=0}return Object.defineProperty(e,"Ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.init=function(t){this._slot=t,this.doLogic()},e.prototype.doLogic=function(){this.btnArr=[this._slot.m_n80,this._slot.m_n81,this._slot.m_n82],this._selectedIndex=1,this.updateByIndex(this._selectedIndex);for(var t=0;3>t;t++){var e=this.btnArr[t];e.tag=t,e.addClickListener(this.betClick,this)}game.UIEvent.SLOT_FREE_TIMES.add(this.onFreeTimes,this),this.onFreeTimes()},e.prototype.onFreeTimes=function(){model.UserModel.Ins.freeTimes>0&&this.updateByIndex(this.betArr.length-1)},e.prototype.betClick=function(e){if(t.SlotBtn.Ins.running||model.UserModel.Ins.freeTimes>0)this.updateByIndex(this._selectedIndex);else{var i=e.currentTarget,n=i.tag;this.updateByIndex(n)}},e.prototype.updateByIndex=function(t){this._selectedIndex=t,console.log("[SlotBet]","选中"+this._selectedIndex);for(var e=0;e<this.btnArr.length;e++)this.btnArr[e].selected=this._selectedIndex==e;game.UIEvent.BET.dispatch(this.betArr[this._selectedIndex],this.betMuilti[this._selectedIndex])},e}();t.SlotBet=e,__reflect(e.prototype,"view.SlotBet")}(view||(view={}));var view;!function(t){var e=function(){function t(){this._isAuto=!1,this._running=!1,this._timeoutId=-1,this._bet=20,this._line=9,this._singleBet=180,this._lastFreeTimes=0,this._payedAutoLimit=0}return Object.defineProperty(t,"Ins",{get:function(){return null==this._ins&&(this._ins=new t),this._ins},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"running",{get:function(){return this._running},enumerable:!0,configurable:!0}),t.prototype.init=function(t){this._slot=t,this.doLogic()},Object.defineProperty(t.prototype,"auto",{get:function(){return this._isAuto},set:function(t){this._isAuto=t,this._isAuto||(this._payedAutoLimit=0),this._slot.m_n9.getControllerAt(0).selectedIndex=this._isAuto?1:0},enumerable:!0,configurable:!0}),t.prototype.onBet=function(t){this._bet=parseInt(t),this._singleBet=this._bet*this._line},t.prototype.onLine=function(t){this._line=parseInt(t),this._singleBet=this._bet*this._line},t.prototype.doLogic=function(){game.UIEvent.SLOT_COMPLETE.add(this.onSlotComplete,this),game.UIEvent.SLOT_STOP_AUTO.add(this.stopAuto,this),game.UIEvent.BET.add(this.onBet,this),game.UIEvent.LINE.add(this.onLine,this),this._slot.m_n9.addClickListener(this.onClick,this),this._slot.m_n9.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchHandler,this),this._slot.m_n9.addEventListener(egret.TouchEvent.TOUCH_END,this.touchHandler,this),this._slot.m_n9.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.touchHandler,this),this._slot.m_n9.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.touchHandler,this);var t=this._slot.m_n9.m_jiantou;ui.UIUtils.initStarswfAni("laohujinew005","mc_laohujinewxxg_jiantou",t,!0,!1);this.auto=!1},t.prototype.onSlotComplete=function(){this._running=!1,this.displayArrow(!0),this.auto&&(this._lastFreeTimes>model.UserModel.Ins.freeTimes&&0==model.UserModel.Ins.freeTimes&&(this.auto=!1),this._payedAutoLimit>=t.PAYED_AUTO_LIMIT&&(this.auto=!1),this.auto&&this.onRun())},t.prototype.onAutoRun=function(){this.auto=!0,this.onRun()},t.prototype.onRun=function(){if(this._running)return void console.log("[SlotBtn]","running, can not start");if(model.UserModel.Ins.getIsClosed()){if(ui.UILayer.Ins.popup(ui.PopUpIds.NOTIFICATION,{content:game.Tools.lang("活動已結束!")}),-1!=this._timeoutId)return clearTimeout(this._timeoutId),this._timeoutId=-1,void(this.auto&&(this.auto=!1))}else{var t=model.UserModel.Ins.freeTimes;0>=t&&!model.UserModel.Ins.isEnough(this._singleBet,"diamond")||(this._lastFreeTimes=t,this.auto&&this._lastFreeTimes<=0&&this._payedAutoLimit++,console.log("[SlotBtn]","slot","auto: "+this.auto+", timeoutId: "+this._timeoutId),this._running=!0,game.UIEvent.SLOT.dispatch(this.auto,this._lastFreeTimes>0),this.displayTouch(),this.displayArrow(!1))}},t.prototype.stopAuto=function(){-1!=this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=-1,this.auto&&(this.auto=!1))},t.prototype.onClick=function(){return console.log("[SlotBtn]","click","auto: "+this.auto+", timeoutId: "+this._timeoutId),-1!=this._timeoutId?(clearTimeout(this._timeoutId),this._timeoutId=-1,void(this.auto&&(this.auto=!1))):void(this.auto?this.auto=!1:this.onRun())},t.prototype.touchHandler=function(e){if(e.type==egret.TouchEvent.TOUCH_BEGIN){if(model.UserModel.Ins.getIsClosed())return;if(!this.auto){var i=this;i._timeoutId=setTimeout(function(){console.log("[SlotBtn]","long press","auto: "+i.auto+", timeoutId: "+i._timeoutId),i.onAutoRun()},t.LONG_PRESS_TIME_IN_MS)}}else(e.type==egret.TouchEvent.TOUCH_CANCEL||e.type==egret.TouchEvent.TOUCH_END||e.type==egret.TouchEvent.TOUCH_RELEASE_OUTSIDE)&&(console.log("[SlotBtn]",e.type,"auto: "+this.auto+", timeoutId: "+this._timeoutId),this.auto||this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=-1))},t.prototype.displayArrow=function(t){var e=this._slot.m_n9.m_jiantou;e.visible=t},t.prototype.displayTouch=function(){this._slot.m_n9.m_dianji,game.Animation.get("laohujinew004","mc_laohujinew001xxg_dianji").attach(this._slot.m_n9.m_dianji).onStop(!0).play(!1);console.log("======>>")},t}();e.LONG_PRESS_TIME_IN_MS=1e3,e.PAYED_AUTO_LIMIT=100,t.SlotBtn=e,__reflect(e.prototype,"view.SlotBtn")}(view||(view={}));var view;!function(t){var e=function(){function e(){this._playTimes=0}return Object.defineProperty(e,"Ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.init=function(t){this._slot=t,this.doLogic()},e.prototype.doLogic=function(){var t=this._slot.m_n129;t.addClickListener(this.onClick,this),this.updata(),game.UIEvent.SLOT_COMPLETE.add(this.onSlotComplete,this),game.UIEvent.UPDATE_CHEST.add(this.updata,this),game.UIEvent.SHOW_KEY_ANI.add(this.playKey,this)},e.prototype.updata=function(){var t=this._slot.m_n129.m_n128;t.text=game.Tools.lang("%c/%c",model.UserModel.Ins.getPoint001(),model.LocalConfigModel.Ins.getPoint001()),model.UserModel.Ins.getPoint001()>=model.LocalConfigModel.Ins.getPoint001()?this.displayTouch(!0):this.displayTouch(!1)},e.prototype.onSlotComplete=function(){console.log("[SlotBtnAct]   onSlotComplete")},e.prototype.onClick=function(){t.SlotBtn.Ins.running||(console.log("[SlotBtnAct]  ","click"),model.UserModel.Ins.getPoint001()>=model.LocalConfigModel.Ins.getPoint001()?(this._slot.m_n129.enabled=!1,model.UserModel.Ins.getAwardByType(1,this.showPlay,this.playFail,this)):ui.UILayer.Ins.popup(ui.PopUpIds.NOTIFICATION,{selectIndex:2}))},e.prototype.displayTouch=function(t){},e.prototype.Complete=function(){this._ani.visible=!1,this._ani=null,this._slot.removeEventListener(egret.TouchEvent.TOUCH_END,this.Complete,this),this._slot.m_n129.enabled=!0},e.prototype.playFail=function(t){this._slot.m_n129.enabled=!0},e.prototype.showPlay=function(t){game.UIEvent.SLOT_FREE_TIMES.dispatch(t.point001),game.UIEvent.UPDATE_CHEST.dispatch(),this._ani=ui.UIUtils.initStarswfAni("laohujinew003","mc_laohujinew001xxg_chushuzi01",this._slot.m_chushuzi01,!1,!0),this._ani.visible=!0,this._ani.gotoAndPlay(0),this._ani.addEventListener(egret.Event.COMPLETE,this.onAnimComplete,this);var e=this._ani.getSprite("wenzi");if(e){var i=e.getChildByName("labelTxt");i||(e.removeChildren(),i=new fairygui.GTextField,i.font=fairygui.UIPackage.getItemURL("slots","Font1"),i.text=""+t.rewardValue||"1",i.y=-20,e.addChild(i.displayObject))}},e.prototype.onAnimComplete=function(){if(this._ani){var t=this;this._ani.removeEventListener(egret.Event.COMPLETE,this.onAnimComplete,this);var e=this._ani,i=setTimeout(function(){clearTimeout(i),t._slot.m_n129.enabled=!0,e&&e.parent&&e.parent.removeChild(e)},1e3)}},e.prototype.playKey=function(t){this._playTimes=t,this._playTimes>0&&this.playKeyAnim()},e.prototype.playKeyAnim=function(){if(this._playTimes<=0)return void game.UIEvent.SHOW_KEY_ANI_END.dispatch();this._playTimes--,game.UIEvent.UPDATE_CHEST.dispatch();var t=this,e=this._slot.m_yaoshi,i=ui.UIUtils.createStarlingSwf("laohujinew004","mc_laohujinew001_yaoshi",!1,!1);e&&(e.setNativeObject(i),e.touchable=!1);var n=setTimeout(function(){clearTimeout(n),t.playKeyAnim()},1e3)},e}();t.SlotChest=e,__reflect(e.prototype,"view.SlotChest")}(view||(view={}));var view;!function(t){var e=function(){function t(){}return t}();e.COMPLETE=0,e.FAILED=-1,e.COLLECTING=1,t.COLLECTCODE=e,__reflect(e.prototype,"view.COLLECTCODE");var i=function(){function e(){this._mode=-1,this._unitDone=!1,this._btnTishiAni={}}return Object.defineProperty(e,"Ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.init=function(t){this._slot=t,this.doLogic()},e.prototype.doLogic=function(){game.GameEvent.SET_SCROLLER.add(this.setScroller,this),game.GameEvent.CHANG_BACK_GROUND.add(this.changBackground,this),game.GameEvent.UPDATE_COLLECT.add(this.updateCollect,this),game.GameEvent.UPDATE_PARTY.add(this.updateParty,this),game.UIEvent.SLOT.add(this.onSlot,this),this.updateCollect(),this.updateParty(model.UserModel.Ins.roundOfS),4==model.UserModel.Ins.numOfGetReward?this.changBackground(1):this.changBackground(0)},e.prototype.registerClickListener=function(t,e){var i=this._slot.m_n192,n=i.m_n193,o=i.m_n192,s=i.m_n194,r=i.m_n195;"unit009"==t?e?n.addClickListener(this.onClickReward1,this):n.removeClickListener(this.onClickReward1,this):"unit010"==t?e?o.addClickListener(this.onClickReward2,this):o.removeClickListener(this.onClickReward2,this):"unit011"==t?e?s.addClickListener(this.onClickReward3,this):s.removeClickListener(this.onClickReward3,this):"unit012"==t&&(e?r.addClickListener(this.onClickReward4,this):r.removeClickListener(this.onClickReward4,this))},e.prototype.setScroller=function(t,e){if(0==e)return game.UIEvent.SLOT_CHANGE_SCROLLER.dispatch(t),game.GameEvent.CHANG_BACK_GROUND.dispatch(t),void game.GameEvent.SHOW_CHANGE_SCROLLER_END.dispatch();setTimeout(function(){game.UIEvent.SLOT_CHANGE_SCROLLER.dispatch(t),game.GameEvent.CHANG_BACK_GROUND.dispatch(t),game.GameEvent.SHOW_CHANGE_SCROLLER_END.dispatch()},1e3*e)},e.prototype.changBackground=function(t){var e=this._slot.m_n192;this._mode!=t&&(0==t?e.getController("c1").selectedIndex=0:1==t&&(e.getController("c1").selectedIndex=1),this._mode=t)},e.prototype.updateParty=function(t){var e=this._slot.m_n192,t=model.LocalConfigModel.Ins.slotsgamecontent("partyturn")-t;e.m_n203.text=""+t},e.prototype.onSlot=function(){this.updateParty(model.UserModel.Ins.roundOfS+1)},e.prototype.updateCollect=function(){for(var t=this._slot.m_n192,e=model.UserModel.Ins.numOfEachBeauty,i=model.LocalConfigModel.Ins.getTaskAllUnit(),n=0;n<i.length;n++){var o,s,r,a=i[n],l=e[a.unit],h=a.unitPoint;"unit009"==a.unit?(r=t.m_n193,o=t.m_n193.m_n193,s=t.m_n193.asCom.getController("c1")):"unit010"==a.unit?(r=t.m_n192,o=t.m_n192.m_n195,s=t.m_n192.asCom.getController("c1")):"unit011"==a.unit?(r=t.m_n194,o=t.m_n194.m_n196,s=t.m_n194.asCom.getController("c1")):"unit012"==a.unit&&(r=t.m_n195,o=t.m_n195.m_n194,s=t.m_n195.asCom.getController("c1"));var u=this.changeToPercent(l/h,!0);o.text=""+u,h>l?(this._unitDone=!1,s.selectedIndex=0,this.registerClickListener(a.unit,!1),this.setTishiVisible(a.unit,!1)):l==h?(s.selectedIndex=0,this.registerClickListener(a.unit,!0),this.setTishiVisible(a.unit,!0)):l>h&&(s.selectedIndex=1,this.registerClickListener(a.unit,!1),this.setTishiVisible(a.unit,!1))}0==this._unitDone&&(this._unitDone=this.isCollectDone(),this._unitDone&&game.UIEvent.SLOT_STOP_AUTO.dispatch())},e.prototype.isCollectDone=function(){for(var t=model.UserModel.Ins.numOfEachBeauty,e=model.LocalConfigModel.Ins.getTaskAllUnit(),i=0;i<e.length;i++){var n=e[i],o=t[n.unit],s=n.unitPoint;if(s>o)return!1}return!0},e.prototype.changeToPercent=function(t,e){void 0===e&&(e=!1);var i=(100*t).toString(),n=i.indexOf(".");return e?-1==n?i+"%":i.substr(0,n)+"%":-1==n||i.substr(n+1).length<=2?i+"%":i.substr(0,n+3)+"%"},e.prototype.onClickReward1=function(){t.SlotBtn.Ins.running||(this.playTouchAni("unit009"),this.onClickReward("unit009"))},e.prototype.onClickReward2=function(){t.SlotBtn.Ins.running||(this.playTouchAni("unit010"),this.onClickReward("unit010"))},e.prototype.onClickReward3=function(){t.SlotBtn.Ins.running||(this.playTouchAni("unit011"),this.onClickReward("unit011"))},e.prototype.onClickReward4=function(){t.SlotBtn.Ins.running||(this.playTouchAni("unit012"),this.onClickReward("unit012"))},e.prototype.onClickReward=function(t){var t=t;model.UserModel.Ins.getRewardOfParty(t,function(e){e.addFreeTimes&&(model.UserModel.Ins.freeTimes=e.freeTimes?e.freeTimes:0,game.UIEvent.SLOT_COST.dispatch(),game.UIEvent.SLOT_FREE_TIMES.dispatch(),game.UIEvent.SHOW_FREE_TIMES.dispatch(e.addFreeTimes)),e.addTimesOfRewardRate&&(model.UserModel.Ins.taskTimes=e.timesOfRewardRate,model.UserModel.Ins.taskRate=e.rewardRate,game.UIEvent.MULTI_RATE_START.dispatch()),model.UserModel.Ins.numOfEachBeauty[t]=e[t],4==e.numOfGetReward?(game.GameEvent.CHANG_BACK_GROUND.dispatch(1),game.UIEvent.SLOT_CHANGE_SCROLLER.dispatch(1)):game.GameEvent.CHANG_BACK_GROUND.dispatch(0),e.haveParty,game.GameEvent.UPDATE_COLLECT.dispatch(),game.GameEvent.UPDATE_PARTY.dispatch(model.UserModel.Ins.roundOfS),game.GameEvent.UPDATE_UNIT.dispatch(t)},this.callbackFail,this)},e.prototype.playTouchAni=function(t){var e,i=this._slot.m_n192;"unit009"==t?e=i.m_n193.m_dianjitexiao:"unit010"==t?e=i.m_n192.m_dianjitexiao:"unit011"==t?e=i.m_n194.m_dianjitexiao:"unit012"==t&&(e=i.m_n195.m_dianjitexiao),game.AssetManager.Ins.loadAssets(["laohujinew001_json","laohujinew001_swf_json"],function(t){game.Animation.get("laohujinew001","mc_laohujinew001yc_dianjitubiao").attach(e).onStop(!0,function(){}).play(!1)},this)},e.prototype.setTishiVisible=function(t,e){var i,n=this._slot.m_n192;"unit009"==t?i=n.m_n193.m_tishi:"unit010"==t?i=n.m_n192.m_tishi:"unit011"==t?i=n.m_n194.m_tishi:"unit012"==t&&(i=n.m_n195.m_tishi);var o=this,s=this._btnTishiAni[t];s||game.AssetManager.Ins.loadAssets(["laohujinew001_json","laohujinew001_swf_json"],function(e){s=game.Animation.get("laohujinew001","mc_laohujinew001yc_tishi").attach(i).onStop(!1,function(){}).play(!0),o._btnTishiAni[t]=s},this),i.visible=e},e.prototype.callbackSuccess=function(t){},e.prototype.callbackFail=function(t){console.log("------callbackFail-----"),console.log(t)},e.prototype.stopAnimation=function(){this._animation&&this._animation.stop(),this._clickAnimation&&this._clickAnimation.stop()},e.prototype.getCollectState=function(){return this._collectState},e}();t.SlotCollect=i,__reflect(i.prototype,"view.SlotCollect")}(view||(view={}));var view;!function(t){var e=function(){function t(){this._bet=10,this._line=1}return Object.defineProperty(t,"Ins",{get:function(){return null==this._ins&&(this._ins=new t),this._ins},enumerable:!0,configurable:!0}),t.prototype.init=function(t){this._slot=t,this.doLogic()},t.prototype.doLogic=function(){this._slot.m_n135.ubbEnabled=!0,game.UIEvent.BET.add(this.onBet,this),game.UIEvent.LINE.add(this.onLine,this),game.UIEvent.SLOT_FREE_TIMES.add(this.onFreeTime,this),game.UIEvent.SLOT_RESULT.add(this.onSlotResult,this),game.UIEvent.SLOT_COST.add(this.updateCost,this)},t.prototype.onBet=function(t){this._bet=parseInt(t),this.updateCost()},t.prototype.onLine=function(t){this._line=parseInt(t),this.updateCost()},t.prototype.onFreeTime=function(){this.updateCost()},t.prototype.onSlotResult=function(){this.updateCost()},t.prototype.updateCost=function(){model.UserModel.Ins.freeTimes>0?this._slot.m_n135.text=game.Tools.lang("剩餘免費次數 [color=#ffba00]%c[/color] 次!",model.UserModel.Ins.freeTimes):this._slot.m_n135.text=game.Tools.lang("每次消耗 [color=#ffba00]%c[/color] 鑽!",this._bet*this._line)},t}();t.SlotCost=e,__reflect(e.prototype,"view.SlotCost")}(view||(view={}));var view;!function(t){var e=function(){function e(){}return Object.defineProperty(e,"Ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.init=function(t){this._slot=t,this.doLogic()},e.prototype.doLogic=function(){},e.prototype.onSuccessComplete=function(t){},e.prototype.onFailComplete=function(t){},e.prototype.onClick=function(){t.SlotBtn.Ins.running||model.UserModel.Ins.getFreshUpCostDiamond(function(t){ui.UILayer.Ins.popup(ui.PopUpIds.FANLI,t)},this)},e}();t.SlotFanli=e,__reflect(e.prototype,"view.SlotFanli")}(view||(view={}));var view;!function(t){var e=function(){function t(){}return Object.defineProperty(t,"Ins",{get:function(){return null==this._ins&&(this._ins=new t),this._ins},enumerable:!0,configurable:!0}),t.prototype.init=function(t){this._slot=t,this.doLogic()},t.prototype.doLogic=function(){ui.HorseRaceLamp.init(this._slot.m_n156.m_n35),game.GameEvent.DISPLAY_HORSERACELAMP.add(this.showHorseLamp,this)},t.prototype.showHorseLamp=function(t){this._slot.m_n156.visible=t},t}();t.SlotHorseRaceLamp=e,__reflect(e.prototype,"view.SlotHorseRaceLamp")}(view||(view={}));var view;!function(t){var e=function(){function t(){this.test=0,this._isJackpot=!1,this._timer=0}return Object.defineProperty(t,"Ins",{get:function(){return null==this._ins&&(this._ins=new t),this._ins},enumerable:!0,configurable:!0}),t.prototype.init=function(t){this._slot=t,this.doLogic()},t.prototype.doLogic=function(){this.slotJackpotNumber.onStop(this.onnumberScroller,this),game.UIEvent.SHOW_SUPPLEMENT_ANI.add(this.supplementPlay,this),game.UIEvent.SHOW_STOP_JACKPOT_NUM.add(this.stopJackpotNum,this),this.getJackPot()},t.prototype.supplementPlay=function(){this.slotJackpotNumber.startVScroll()},t.prototype.stopJackpotNum=function(){this.stopTimer(),this.slotJackpotNumber.stop2()},t.prototype.onnumberScroller=function(t){var e=this.slotJackpotNumber.getScrollerTime(),i=this;this._timer=setTimeout(function(){i.stopTimer(),i.getJackPot()},1e3*e)},t.prototype.stopTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=0)},t.prototype.getJackPot=function(){model.UserModel.Ins.getQueryJackPot(this.getJackPotSuccess,this.getJackPotFail,this)},t.prototype.getJackPotSuccess=function(t){var e=t.diamond;0==this._isJackpot&&(this.slotJackpotNumber.current=e,this._isJackpot=!0),this.slotJackpotNumber.target=e},t.prototype.getJackPotFail=function(t){var e=this;setTimeout(function(){e.getJackPot()},1e4)},t}();t.SlotJackpot=e,__reflect(e.prototype,"view.SlotJackpot")}(view||(view={}));var view;!function(t){var e=function(){function t(){this._list=[],this._jackpotData=[],this._isPlay=!1,this._data=[]}return Object.defineProperty(t,"Ins",{get:function(){return null==this._ins&&(this._ins=new t),this._ins},enumerable:!0,configurable:!0}),t.prototype.init=function(t){this._slot=t,this.doLogic()},t.prototype.doLogic=function(){game.UIEvent.UPDATE_JACKPOT_LIST.add(this.updata,this),game.UIEvent.SHOW_JACKPOT_ANI.add(this.playJackPot,this),this.updataView()},t.prototype.getDataChange=function(t){var e=t.length,i=this._data.length;if(0==e)return 0;if(0==i)return e;for(var n=0,o=this._data[i-1],s=e-1;s>=0;s--){var r=t[s];if(r.createTime==o.createTime)break;n++}return n},t.prototype.updata=function(t){if(0==t)return void this.updataView();var e=model.UserModel.Ins.getRecords(),i=this.getDataChange(e);if(0==i)return game.UIEvent.SHOW_JACKPOT_ANI_END.dispatch(),void game.UIEvent.SHOW_SUPPLEMENT_ANI_END.dispatch();this.updataView();for(var n=0;i>n;n++)this.playJackPot(e[e.length-n-1])},t.prototype.updataView=function(){var t=model.UserModel.Ins.getRecords();this._data=model.UserModel.Ins.getRecords();for(var e=0;e<this._list.length;e++){var i=this._list[e];if(e<t.length){var n=t[e],o=i.m_n191.asTextField;o.text=game.Tools.lang(game.Tools.getFormatText(n.username));var s=i.m_n192.asTextField;s.text=game.Tools.lang(n.diamond);var r=i.m_n190.m_n34;r.getController("c1").selectedIndex=0,ui.UIUtils.fitPlayerHead(r,n.avatar)}else{var o=i.m_n191.asTextField;o.text=game.Tools.lang("尚无信息");var s=i.m_n192.asTextField;s.text=game.Tools.lang("");var r=i.m_n190.m_n34;r.getController("c1").selectedIndex=2}}},t.prototype.playJackPot=function(t){this._jackpotData.push(t),this._isPlay||this.showPlay()},t.prototype.showPlay=function(){var t=this._jackpotData.shift();if(null==t)return this._isPlay=!1,game.UIEvent.SHOW_JACKPOT_ANI_END.dispatch(),void(model.UserModel.Ins.autoFill?(model.UserModel.Ins.autoFill=!1,game.UIEvent.SHOW_SUPPLEMENT_ANI.dispatch()):game.UIEvent.SHOW_SUPPLEMENT_ANI_END.dispatch());this._isPlay=!0;var e=this;setTimeout(function(){ui.UILayer.Ins.popup(ui.PopUpIds.JACKPOT,e._slot,t,e.showPlay,e)},500)},t}();t.SlotJackpotList=e,__reflect(e.prototype,"view.SlotJackpotList")}(view||(view={}));var ui;!function(t){var e=function(){function t(t,e){void 0===e&&(e=.016),this._timer=0,this._timeout=null,this._updateTime=0,this._currentValue=0,this._scrollerTime=10,this._frameRate=0,this._frameValue=0,this._oldScrollerTime=10,this._oldFrameRate=0,this._downTime=1,this._upTime=1,this._target=0,this._updateTime=e,this._frameRate=Math.ceil(this._scrollerTime/this._updateTime),this._number=t,this._number.text="0"}return t.prototype.onAdded=function(){},t.prototype.getScrollerTime=function(){return this._scrollerTime},t.prototype.timeoutFunc=function(){this._currentValue+=this._frameValue,this._frameValue<0?this._currentValue<this._target&&(this._currentValue=this._target,this.stopScroll()):this._currentValue>this._target&&(this._currentValue=this._target,this.stopScroll()),this.setNum(this._currentValue)},t.prototype.timerComFunc=function(t){this._stopCallback&&this._stopCallback.apply(this._stopCallbackObj,[t])},t.prototype.onRemoved=function(){this.stop(!1)},t.prototype.start=function(){this._timeout||(this._timeout=new egret.Timer(1e3*this._updateTime),this._timeout.addEventListener(egret.TimerEvent.TIMER,this.timeoutFunc,this),this._timeout.start(),this.timeoutFunc(),this.startTimer())},t.prototype.startTimer=function(){var t=this;this._timer=setTimeout(function(){t.stopScroll(),t.stopTimer(!0)},1e3*(this._scrollerTime+1))},t.prototype.stopTimer=function(t){void 0===t&&(t=!0),this._timer&&(clearTimeout(this._timer),this._timer=0,this._currentValue=this._target,this.setNum(this._target),t&&this.timerComFunc(this._scrollerTime))},t.prototype.stop=function(t){void 0===t&&(t=!0),this.stopScroll(),this.stopTimer(t)},t.prototype.stop2=function(){this._timeout&&(this._timeout.stop(),this._timeout.removeEventListener(egret.TimerEvent.TIMER,this.timeoutFunc,this),this._timeout=null),this._timer&&(clearTimeout(this._timer),this._timer=0)},t.prototype.stopScroll=function(){return this._timeout?(this._currentValue=this._target,this.setNum(this._target),this._timeout.stop(),this._timeout.removeEventListener(egret.TimerEvent.TIMER,this.timeoutFunc,this),this._timeout=null,!0):!1},Object.defineProperty(t.prototype,"target",{get:function(){return this._target},set:function(t){if(this._target==t)return void this.timerComFunc(0);this._target=t;var e=t-this._currentValue;this._frameValue=Math.ceil(e/this._frameRate)+1,this.start()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"current",{get:function(){return this._currentValue},set:function(t){this._currentValue=t},enumerable:!0,configurable:!0}),t.prototype.onStop=function(t,e){this._stopCallback=t,this._stopCallbackObj=e},t.prototype.setNum=function(t){var e=""+t;this._number.text=e},t.prototype.startVScroll=function(){this.stop2(),this.startVDScroll(model.UserModel.Ins.oldJackPotDiamond)},t.prototype.startVDScroll=function(t){this._oldScrollerTime=this._scrollerTime,this._oldFrameRate=this._frameRate,this._scrollerTime=this._downTime,this._frameRate=Math.ceil(this._scrollerTime/this._updateTime),this._target=t;var e=t-this._currentValue;this._frameValue=Math.ceil(e/this._frameRate)+1,this._timeout=new egret.Timer(1e3*this._updateTime),this._timeout.addEventListener(egret.TimerEvent.TIMER,this.VFunc,this),this._timeout.start(),this.VFunc();var i=this;setTimeout(function(){i.stopVScroll(),i._currentValue=i._target,i.setNum(i._target),i.stopVDTimer(!1)},1e3*(this._scrollerTime+.5))},t.prototype.VFunc=function(){this._currentValue+=this._frameValue,this._frameValue<0?this._currentValue<this._target&&(this._currentValue=this._target,this._timeout&&(this._currentValue=this._target,this._timeout.stop(),this._timeout.removeEventListener(egret.TimerEvent.TIMER,this.VFunc,this),this._timeout=null)):this._currentValue>this._target&&(this._currentValue=this._target,this._timeout&&(this._currentValue=this._target,this._timeout.stop(),this._timeout.removeEventListener(egret.TimerEvent.TIMER,this.VFunc,this),this._timeout=null)),this.setNum(this._currentValue)},t.prototype.stopVDTimer=function(t){void 0===t&&(t=!0),this.setNum(this._target),this._currentValue=this._target;var e=this;setTimeout(function(){e.startVUScroll(model.UserModel.Ins.jackPotDiamond)},2e3)},t.prototype.startVUScroll=function(t){this._scrollerTime=this._upTime,this._frameRate=Math.ceil(this._scrollerTime/this._updateTime),this._target=t;var e=t-this._currentValue;if(this._frameValue=Math.ceil(e/this._frameRate)+1,!this._timeout){this._timeout=new egret.Timer(1e3*this._updateTime),this._timeout.addEventListener(egret.TimerEvent.TIMER,this.VFunc,this),this._timeout.start(),this.VFunc();var i=this;setTimeout(function(){i.stopVScroll();setTimeout(function(){game.UIEvent.SHOW_SUPPLEMENT_ANI_END.dispatch(),i._scrollerTime=i._oldScrollerTime,i._frameRate=i._oldFrameRate,i.setNum(i._target),i.timerComFunc(i._scrollerTime)},1e3)},1e3*(this._scrollerTime+.5))}},t.prototype.stopVScroll=function(){return this._timeout?(this._currentValue=this._target,this.setNum(this._target),this._timeout.stop(),this._timeout.removeEventListener(egret.TimerEvent.TIMER,this.VFunc,this),this._timeout=null,!0):!1},t}();t.SlotJackpotNumber=e,__reflect(e.prototype,"ui.SlotJackpotNumber")}(ui||(ui={}));var view;!function(t){var e=function(){function e(){this.lineArr=[model.LocalConfigModel.Ins.slotsgamecontent("line1"),model.LocalConfigModel.Ins.slotsgamecontent("line2"),model.LocalConfigModel.Ins.slotsgamecontent("line3")],this._selectedIndex=0}return Object.defineProperty(e,"Ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.init=function(t){this._slot=t,this.doLogic()},e.prototype.doLogic=function(){this._selectedIndex=2,this.btnArr=[this._slot.m_n121,this._slot.m_n123,this._slot.m_n125],this.updateByIndex(this._selectedIndex);for(var t=0;3>t;t++){var e=this.btnArr[t];e.tag=t,e.addClickListener(this.btnLine,this)}game.UIEvent.SLOT_FREE_TIMES.add(this.onFreeTimes,this),this.onFreeTimes()},e.prototype.onFreeTimes=function(){model.UserModel.Ins.freeTimes>0&&this.updateByIndex(this.lineArr.length-1)},e.prototype.btnLine=function(e){if(t.SlotBtn.Ins.running||model.UserModel.Ins.freeTimes>0)this.updateByIndex(this._selectedIndex);else{var i=e.currentTarget,n=i.tag;this.updateByIndex(n)}},e.prototype.updateByIndex=function(t){this._selectedIndex=t,console.log("[SlotLine]","选中"+this._selectedIndex);for(var e=0;e<this.btnArr.length;e++)this.btnArr[e].selected=this._selectedIndex==e;game.UIEvent.LINE.dispatch(this.lineArr[this._selectedIndex])},e}();t.SlotLine=e,__reflect(e.prototype,"view.SlotLine")}(view||(view={}));var view;!function(t){var e=function(){function e(){}return Object.defineProperty(e,"Ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.init=function(t){this._slot=t,this.doLogic()},e.prototype.doLogic=function(){this._slot.m_n41.addClickListener(this.getRanking,this)},e.prototype.getRanking=function(){t.SlotBtn.Ins.running||model.UserModel.Ins.getRanking(1,function(t){ui.UILayer.Ins.popup(ui.PopUpIds.RANKINGPOP,t)},this)},e}();t.SlotRankBtn=e,__reflect(e.prototype,"view.SlotRankBtn")}(view||(view={}));var view;!function(t){var e=function(){function t(){this._reward=0,this._showResultPopup=0}return Object.defineProperty(t,"Ins",{get:function(){return null==this._ins&&(this._ins=new t),this._ins},enumerable:!0,configurable:!0}),t.prototype.init=function(t){this._slot=t,this.doLogic()},t.prototype.doLogic=function(){game.UIEvent.SLOT_RESULT.add(this.onSlotResult,this),game.UIEvent.SLOT_WHEEL_END.add(this.onSlotWheelEnd,this),this.xixueguiNormalAni()},t.prototype.onSlotResult=function(t,e){if(t){if(this._showResultPopup=-1,t.error+""=="4"){var i={content:game.Tools.lang("活動已結束!")};ui.UILayer.Ins.popup(ui.PopUpIds.NOTIFICATION,i)}}else{var n=model.LocalConfigModel.Ins.getBigWin(),o=model.LocalConfigModel.Ins.getSuperWin();this._reward=e.rewardDiamond,e.rewardDiamond<n?this._showResultPopup=0:e.rewardDiamond<o?this._showResultPopup=1:this._showResultPopup=2,console.log("[SlotResult]","弹窗:",this._showResultPopup,n,o,this._reward)}},t.prototype.xixueguiNormalAni=function(){},t.prototype.xixueguiWinAni=function(){},t.prototype.onSlotWheelEnd=function(){var t=this;
if(0==this._showResultPopup||-1==this._showResultPopup)game.UIEvent.SLOT_RESULT_POPUP_END.dispatch();else if(game.UIEvent.SLOT_SHOW_RESULT.dispatch(t._showResultPopup),1==t._showResultPopup)t._numberScroller||(t._numberScroller=new ui.SlotNumberScroller("font1")),t._numberScroller.x=fairygui.GRoot.inst.width/2,t._numberScroller.y=fairygui.GRoot.inst.height/2,t._slot.displayListContainer.addChild(t._numberScroller),t._numberScroller.target=t._reward,game.GameEvent.COLLECT_COMPLETE_ANIMATION.dispatch(),game.Animation.get("laohujinew004","mc_laohujinew001xxg_win05").attach(t._slot.m_chushuzi01).fitScale().play().onStop(!0,function(){t._numberScroller.parent&&t._numberScroller.parent.removeChild(t._numberScroller),game.UIEvent.SLOT_RESULT_POPUP_END.dispatch()},t),t.xixueguiWinAni();else{var e=ui.UILayer.Ins.popup(ui.PopUpIds.SUPER_WIN,this._reward);e.onClose(function(){game.UIEvent.SLOT_RESULT_POPUP_END.dispatch()},this)}},t}();t.SlotResult=e,__reflect(e.prototype,"view.SlotResult")}(view||(view={}));var view;!function(t){var e=function(){function e(){}return Object.defineProperty(e,"Ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.init=function(t){this._slot=t,this.doLogic()},e.prototype.doLogic=function(){this._slot.m_n104.addClickListener(this.slotRule,this)},e.prototype.slotRule=function(){t.SlotBtn.Ins.running||ui.UILayer.Ins.popup(ui.PopUpIds.SLOT)},e}();t.SlotRule=e,__reflect(e.prototype,"view.SlotRule")}(view||(view={}));var view;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return ui.slots.slotsBinder.bindAll(),ui.UIUtils.lifeTime(t,t.onAdded,t.onRemoved),t}return __extends(i,e),i.getUnitTexture=function(t){if(i.textureCache[t])return i.textureCache[t];var e=fairygui.UIPackage.createObject("slots",t),n=e&&e.texture?e.texture:null;return e.dispose(),i.textureCache[t]=n,n},i.prototype.onAdded=function(){this._slot=ui.slots.UI_slots.createInstance(),this._slot.setSize(fairygui.GRoot.inst.width,fairygui.GRoot.inst.height),this.addChild(this._slot),game.SlotLogic.Ins.init();var e=new components.core.UIReplacementInitializer;e.add((new components.hud.SlotHud).setParams(this._slot.m_hud_hud,t.delegate.SlotHudLogic)).on(function(t){console.log("[SlowViewMain]","initialized components")},this),t.SlotBackgroundEffect.Ins.init(this._slot),t.SlotResult.Ins.init(this._slot),t.SlotWheel.Ins.init(this._slot),t.SlotRankBtn.Ins.init(this._slot),t.SlotCost.Ins.init(this._slot),t.SlotCollect.Ins.init(this._slot),t.CollectEffect.Ins.init(this._slot),t.SlotLine.Ins.init(this._slot),t.SlotBet.Ins.init(this._slot),t.SlotBtn.Ins.init(this._slot),t.SlotRule.Ins.init(this._slot),t.RateBar.Ins.init(this._slot),t.RateScreenEffect.Ins.init(this._slot),t.SlotHorseRaceLamp.Ins.init(this._slot),WindowMsg.Ins.posMessage({key:"getMusic"})},i.prototype.onRemoved=function(){},i}(fairygui.GComponent);e.UNIT_NAMES={unit001:"王冠",unit002:"发卡",unit003:"帽子",unit004:"药水",unit005:"蝙蝠",unit006:"蝴蝶刀",unit007:"黑猫",unit008:"蝙蝠1",unit009:"蝴蝶刀1",unit010:"黑猫1"},e.textureCache={},t.SlotViewMain=e,__reflect(e.prototype,"view.SlotViewMain")}(view||(view={}));var view;!function(t){var e=function(){function e(){this._resultError=!1,this._runIndex=-1,this._resultIndex=-1,this._stopNum=0,this._allStarted=!1,this._wheelResultSetted=!1,this._showReward=!1,this._lineIndex=0,this._isSlotResult=!0,this._mode=0,this._scrollerConf=[],this._scrollerPostion=[],this._splashNum=0}return Object.defineProperty(e,"Ins",{get:function(){return null==this._ins&&(this._ins=new e),this._ins},enumerable:!0,configurable:!0}),e.prototype.init=function(t){this._slot=t,this.doLogic()},e.prototype.doLogic=function(){game.UIEvent.SLOT.add(this.onSlot,this),game.UIEvent.SLOT_RESULT.add(this.onSlotResult,this),game.UIEvent.SLOT_RESULT_POPUP_END.add(this.onSlotResultPopup,this),game.UIEvent.SLOT_CHANGE_SCROLLER.add(this.onChangeScroller,this);for(var e=model.LocalConfigModel.Ins.getUnitRowsR(),i=[],n=0;n<e.length;n++){var o=e[n],s=[];i.push(s);for(var r=0;r<o.length;r++){var a=o[r],l={id:a,name:t.SlotViewMain.UNIT_NAMES[a],bitmap:t.SlotViewMain.getUnitTexture(a),bitmap_blur:t.SlotViewMain.getUnitTexture(a+"_blur")};s.push(l)}}this._scrollerConf.push(i);for(var h=model.LocalConfigModel.Ins.getUnitRowsS(),u=[],n=0;n<h.length;n++){var o=h[n],s=[];u.push(s);for(var r=0;r<o.length;r++){var a=o[r],l={id:a,name:t.SlotViewMain.UNIT_NAMES[a],bitmap:t.SlotViewMain.getUnitTexture(a),bitmap_blur:t.SlotViewMain.getUnitTexture(a+"_blur")};s.push(l)}}if(this._scrollerConf.push(u),4==model.UserModel.Ins.numOfGetReward){var c=u;this.setScroller(c),this._mode=1}else{var c=i;this.setScroller(c),this._mode=0}this._rewardLine=new ui.SlotRewardLine,this._slot.displayListContainer.addChild(this._rewardLine),this._rewardNumScroller=new ui.SlotNumberScroller("font1",.4),this._rewardNumScroller.x=this._slot.width/2,this._rewardNumScroller.y=this._slot.height/2,this._rewardNumScroller.scalable=!1,this._slot.displayListContainer.addChildAt(this._rewardNumScroller,this._slot.displayListContainer.getChildIndex(this._rewardLine)+1)},e.prototype.setScroller=function(t){this._scroller=[],this._scroller.push(new ui.SlotScroller(t[0],this._slot.m_guang1.width,this._slot.m_guang1.height,3)),this._slot.m_guang1.setNativeObject(this._scroller[0]),this._scroller.push(new ui.SlotScroller(t[1],this._slot.m_guang2.width,this._slot.m_guang2.height,3)),this._slot.m_guang2.setNativeObject(this._scroller[1]),this._scroller.push(new ui.SlotScroller(t[2],this._slot.m_guang3.width,this._slot.m_guang3.height,3)),this._slot.m_guang3.setNativeObject(this._scroller[2]),this._scroller.push(new ui.SlotScroller(t[3],this._slot.m_guang4.width,this._slot.m_guang4.height,3)),this._slot.m_guang4.setNativeObject(this._scroller[3]),this._scroller.push(new ui.SlotScroller(t[4],this._slot.m_guang5.width,this._slot.m_guang5.height,3)),this._slot.m_guang5.setNativeObject(this._scroller[4])},e.prototype.onChangeScroller=function(t){this._mode!=t&&(this.stopScroll(),0==t?this.setScroller(this._scrollerConf[0]):1==t&&this.setScroller(this._scrollerConf[1]),this._mode=t)},e.prototype.getMode=function(){return this._mode},e.prototype.changeScrollerDone=function(){game.GameEvent.SHOW_CHANGE_SCROLLER_END.dispatch()},e.prototype.stopScroll=function(){for(var t=0;t<this._scroller.length;t++){var e=this._scroller[t];e.stop()}},e.prototype.setScrollerPostion=function(){for(var t=0;t<this._scroller.length;t++){var e=this._scroller[t];e.setPostion(this._scrollerPostion[t])}},e.prototype.getScrollerPostion=function(){this._scrollerPostion=[];for(var t=0;t<this._scroller.length;t++){var e=this._scroller[t],i=e.getEndIndex();this._scrollerPostion.push(i)}},e.prototype.onSlot=function(){console.log("[SlotWheel]","Wheeeeeeeeeel!"),this._runIndex=-1,this._resultIndex=-1,this._stopNum=0,this._allStarted=!1,this._isSlotResult=!0,this.run()},e.prototype.run=function(){if(this._runIndex++,this._scroller.length>=this._runIndex+1){var t=this._scroller[this._runIndex];t.start(this.onEnd,this);var e=this,i=setTimeout(function(){clearTimeout(i),e.run()},200)}else this._allStarted=!0,this.setResult()},e.prototype.onSlotResult=function(t,i){t?(this._resultError=!0,this._wheelResult=e.NO_REWARD,this._wheelResultSetted=!0,this.setResult()):(this._resultError=!1,this._wheelResult=i.slotResult.rowIndex,this._rewardResult=i.slotResult.rowArray,this._rewardDetail=i.slotResult.rewardDetails,this._showReward=i.rewardDiamond>0,this._wheelResultSetted=!0,this._isSlotResult?this.setResult():this.onSlot())},e.prototype.setResult=function(){this._allStarted&&this._wheelResultSetted&&this._wheelResult&&(this._wheelResultSetted=!1,this.loopResult())},e.prototype.loopResult=function(){if(this._resultIndex++,this._scroller.length>=this._resultIndex+1){var t=this._scroller[this._resultIndex];t.setResult(this._wheelResult[this._resultIndex]);var e=this;setTimeout(function(){e.loopResult()},200)}},e.prototype.onSlotResultPopup=function(){this._lineIndex=0,this.showLine()},e.prototype.onEnd=function(t){this._allStarted&&(this._stopNum++,this._stopNum==e.MAX_SCROLLER&&(this._allStarted=!1,this._isSlotResult=!1,this._resultError?game.UIEvent.SLOT_COMPLETE.dispatch():game.UIEvent.SLOT_WHEEL_END.dispatch()))},e.prototype.showLine=function(){if(this._lineIndex<e.MAX_LINE){this._lineIndex++;var t=this._rewardResult[this._lineIndex];if(t>0){this._splashNum=t;var i=[],n=0,o=0;for(n=0;n<e.MAX_SCROLLER;n++)o=e.LINES[this._lineIndex-1][n],t>n&&this._scroller[n].splash(o,this.onSplashComplete,this),i.push(this._scroller[n].getSlotGlobalRect(o));this._rewardLine.draw(t,i,e.LINES[this._lineIndex-1]),this._rewardNumScroller.target=this._rewardDetail[this._lineIndex]}else this.showLine()}else game.UIEvent.SLOT_LINE_REWARD_END.dispatch()},e.prototype.onSplashComplete=function(){this._rewardLine.clear(),this._rewardNumScroller.stop(),this._rewardNumScroller.current=0,this._splashNum>0&&this._splashNum--,this._splashNum<=0&&this.showLine()},e.prototype.getUnitIndex=function(t){for(var i=e.LINES.slice(0,game.SlotLogic.Ins.line),n=[],o=0;o<e.MAX_SCROLLER;o++){var s=this._scroller[o].getVisibleUnits();n.push(s)}var r=[];for(o=0;o<i.length;o++)for(var a=i[o],l=0;l<a.length;l++)if(n[l][a[l]]==t){var h=5*a[l]+l+1;r.push(h)}return r},e}();e.LINE1=[1,1,1,1,1],e.LINE2=[0,0,0,0,0],e.LINE3=[2,2,2,2,2],e.LINE4=[0,1,2,1,0],e.LINE5=[2,1,0,1,2],e.LINE6=[0,2,0,2,0],e.LINE7=[2,0,2,0,2],e.LINE8=[1,2,1,0,1],e.LINE9=[1,0,1,2,1],e.LINES=[e.LINE1,e.LINE2,e.LINE3,e.LINE4,e.LINE5,e.LINE6,e.LINE7,e.LINE8,e.LINE9],e.NO_REWARD=[10,17,1,26,15],e.MAX_SCROLLER=5,e.MAX_LINE=e.LINES.length,t.SlotWheel=e,__reflect(e.prototype,"view.SlotWheel")}(view||(view={}));var model;!function(t){var e=function(){function e(){}return e.getServerTime=function(){return e.hackedServerTime?e.hackedServerTime+egret.getTimer():e.serverTime+egret.getTimer()-e.lasetServerTimeUpdateTime},e.req=function(n,o,s,r,a,l){void 0===a&&(a=!1),void 0===l&&(l=!1),l||(o||(o={}),o.id||(o.id=t.UserModel.Ins.userId)),r?r+=n:r=PPGame.ENV.BASE_URL+n;var h=new i(s,l);game.Request.Post(r,function(i){if(l){var n=t.UpSDKModel.Ins.getProtoParser(),o=n.Result.decode(i);console.log("proto result:",o),1!=o.code?h.onFail(o,o.code):h.onSuccess(o.data.value)}else i.error?h.onFail(i,i.error):(i.hackServerTime&&(e.hackedServerTime=i.hackServerTime),i.serverTime&&(e.serverTime=i.serverTime,e.lasetServerTimeUpdateTime=egret.getTimer(),game.GameEvent.SERVER_TIME_UPDATE.dispatch(e.getServerTime())),h.onSuccess(i))},this,o,a,l)},e.reqReportClientError=function(t){},e}();e.serverTime=0,e.lasetServerTimeUpdateTime=0,e.hackedServerTime=0,t.GeneralServerRequest=e,__reflect(e.prototype,"model.GeneralServerRequest");var i=function(){function t(t,e){this.isProtobuf=!1,this.method=t,this.isProtobuf=e}return t.prototype.onSuccess=function(t){this.method.onSuccess.apply(this.method.context,[t]),game.Request.next()},t.prototype.onFail=function(t,e){var i=this,n=function(n){i.method.onFail.apply(i.method.context,[t,e])};this.isProtobuf?o.notifyProtoError(t.code,t.msg,n):o.notifyError(t.error,n)},t}();t.RequestResultHandler=i,__reflect(i.prototype,"model.RequestResultHandler");var n=function(){function t(){}return t}();n.INTERNAL_SERVER_ERROR=1,n.INVALID_REQUEST_PARAMS=2,n.ACTIVITY_NOT_OPEN=3,n.ACTIVITY_END=4,n.IO_ERROR=7,n.JSON_PARSE_ERROR=8,t.ErrorCode=n,__reflect(n.prototype,"model.ErrorCode");var o=function(){function t(){}return t.initActionMap=function(){var e={};e[n.INTERNAL_SERVER_ERROR]={msg:game.Tools.lang("內部伺服器錯誤"),onConfirm:null,onCancel:null},e[n.INVALID_REQUEST_PARAMS]={msg:game.Tools.lang("非法參數"),onConfirm:null,onCancel:null},e[n.IO_ERROR]={msg:game.Tools.lang("網路異常，請點擊確定按鈕重試"),onConfirm:t.retry,onCancel:t.clearQueue},e[n.ACTIVITY_END]={msg:game.Tools.lang("活動已結束!"),onConfirm:t.activityEnd,onCancel:null},t.ActionMap=e},t.reload=function(){PPGame.Ins.reload()},t.retry=function(){game.Request.retry()},t.clearQueue=function(){game.Request.clearQueue()},t.activityEnd=function(){},t.notifyError=function(e,i){var n=this,o=t.ActionMap[e];if(!o)return i(!1);var s=function(){return o.onConfirm&&o.onConfirm(),i(!0)},r=function(){return o.onCancel&&o.onCancel(),i(!0)};ui.UILayer.Ins.popup(ui.PopUpIds.NOTIFICATION,{content:o.msg,confirmCallback:s,confirmCallbackObj:n,cancelCallback:r,cancelCallbackObj:n})},t.notifyProtoError=function(t,e,i){var n=this,o=function(){return i(!0)};ui.UILayer.Ins.popup(ui.PopUpIds.NOTIFICATION,{content:t+":"+e,confirmCallback:o,confirmCallbackObj:n,cancelCallback:o,cancelCallbackObj:n})},t}();t.ErrorAction=o,__reflect(o.prototype,"model.ErrorAction")}(model||(model={}));var game;!function(t){var e=function(){function t(){}return Object.defineProperty(t,"Ins",{get:function(){return null==this.ins&&(this.ins=new t),this.ins},enumerable:!0,configurable:!0}),t.prototype.getInstance=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!egret.hasDefinition(t))return null;var n=egret.getDefinitionByName(t),o=new n(e);return o},t}();t.InstanceLoader=e,__reflect(e.prototype,"game.InstanceLoader")}(game||(game={}));var game;!function(t){var e=function(){function e(){}return e.timeLeftToTimeFormat=function(t,e,i){void 0===e&&(e="{hh}:{mm}:{ss}"),void 0===i&&(i=":");var n=e.split(i),o=[];if(n&&n.length)for(var s;n.length;)if(s=n.shift(),s.match("{h}")||s.match("{hh}")){var r=Math.floor(t/36e5);s=s.replace("{h}",r+""),s=s.replace("{hh}",10>r?"0"+r:r+""),o.push(s)}else if(s.match("{m}")||s.match("{mm}")){var a=Math.floor(t%36e5/6e4);s=s.replace("{m}",a+""),s=s.replace("{mm}",10>a?"0"+a:a+""),o.push(s)}else if(s.match("{s}")||s.match("{ss}")){var l=Math.floor(t%36e5%6e4/1e3);s=s.replace("{s}",l+""),s=s.replace("{ss}",10>l?"0"+l:l+""),o.push(s)}else if(s.match("{ms}")||s.match("{ms}")){var h=Math.floor(t%1e3);s=s.replace("{ms}",h+""),o.push(s)}return o.join(i)},e.timeToDate=function(t,i,n){void 0===i&&(i="{yyyy}-{mm}-{dd}"),void 0===n&&(n="-"),e._date.update(t);for(var o,s=[],r=i.split(n);r.length;)if(o=r.shift(),o.match("{yyyy}")||o.match("{yy}")){var a=e._date.getYear()+"",l=o.match("{yy}")?a.substr(a.length-2):a;s.push(l)}else if(o.match("{mm}")){var h=e._date.getMonthOfYear()+"",u=h.length<2?"0"+h:h;s.push(u)}else if(o.match("{dd}")){var c=e._date.getDayOfMonth()+"",_=c.length<2?"0"+c:c;s.push(_)}return s.join(n)},e.compareDate=function(t,i,n){void 0===n&&(n="date");var o=t.getYear()-i.getYear();if(0!=o)return o>0?1:-1;if(n==e.YEAR)return 0;var s=t.getMonthOfYear()-i.getMonthOfYear();if(0!=s)return s>0?1:-1;if(n==e.MONTH)return 0;var r=t.getDayOfMonth()-i.getDayOfMonth();if(0!=r)return r>0?1:-1;if(n==e.DATE)return 0;var a=t.getHour()-i.getHour();if(0!=a)return a>0?1:-1;if(n==e.HOUR)return 0;var l=t.getMinute()-i.getMinute();if(0!=l)return l>0?1:-1;if(n==e.MINUTE)return 0;var h=t.getSecond()-i.getSecond();if(0!=h)return h>0?1:-1;if(n==e.SECOND)return 0;var u=t.getMiliSec()-i.getMiliSec();return 0!=u?u>0?1:-1:(n==e.MILISEC,0)},e.compareMisliSec=function(t,e){var i=t.getMiliSec(),n=e.getMiliSec();return i==n?0:n>i?-1:1},e.getDate=function(e){var i=t.DateStruct.createFromPool();return i.update(e),i},e.getServerDate=function(){return this.getDate(model.GeneralServerRequest.getServerTime())},e}();e.MILI_SEC_OF_SEC=1e3,e.MILI_SEC_OF_MINUTE=60*e.MILI_SEC_OF_SEC,e.MILI_SEC_OF_HOUR=60*e.MILI_SEC_OF_MINUTE,e.MILI_SEC_OF_DAY=24*e.MILI_SEC_OF_HOUR,e._date=t.DateStruct.createFromPool(),e.YEAR="year",e.MONTH="month",e.DATE="date",e.HOUR="hour",e.MINUTE="minute",e.SECOND="second",e.MILISEC="milisec",t.TimeUtil=e,__reflect(e.prototype,"game.TimeUtil")}(game||(game={}));var game;!function(t){var e=function(){function e(){}return e.strHasChineseChar=function(t){return t&&t.length>0?t!=t.replace(/^[\u4E00-\u9FA5]/g,""):!1},e.isStrNumber=function(t){return t&&t.length>0?t==parseInt(t)+"":!1},e.isStrAlphabetic=function(t){return t&&t.length>0?t!=t.replace(/[a-zA-Z]/g,""):!1},e.getTextCharLength=function(t){var e=0;if(!t)return e;for(var i=0;i<t.length;i++)e+=t.charCodeAt(i)>127||94==t.charCodeAt(i)?2:1;return e},e.stripTextToLength=function(t,i,n){void 0===n&&(n=!1);for(var o=n?e.getTextCharLength(t):t.length;o>i;)t=t.substring(0,t.length-1),o=n?e.getTextCharLength(t):t.length;return t},e.GetDistance=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},e.getAngle=function(t,e){var i=e.y-t.y,n=e.x-t.x;if(0==i)return 0>n?270:n>0?90:0;if(0==n){if(i>=0)return 0;if(0>i)return 180}return 180*Math.atan2(n,i)/3.1415926},e.getDir=function(t,e){var i=e.y-t.y,n=e.x-t.x;if(0==i)return 0>n?"left":n>0?"right":"top";if(0==n){if(i>=0)return"top";if(0>i)return"bottom"}if(i>0){if(e.x>t.x)return"topRight";if(e.x<t.x)return"topLeft"}if(0>i){if(e.x>t.x)return"bottomRight";if(e.x<t.x)return"bottomLeft"}return"top"},e.randInt=function(t,e){return t+Math.floor(Math.random()*(e-t))},e.loadGameConfig=function(){var e=RES.getRes("game_config_json"),i=e.config,n=/[\u4E00-\u9FA5\uF900-\uFA2D]+/g,o={},s=egret.getTimer();for(var r in i){o[r]={all:[],map:{}};for(var a=e[r],l=i[r][0],h=i[r][1],u=0,c=a.length;c>u;u++){for(var _ in a[u])n.test(a[u][_])&&(a[u][_]=t.Tools.lang(a[u][_]));if(o[r].all.push(a[u]),l){var p=a[u][l];o[r].map[p]=o[r].map[p]||{},h?(o[r].map[p][h]=o[r].map[p][h]||{},o[r].map[p][h][a[u][h]]=a[u]):o[r].map[p]=a[u]}}}return console.log("parse config:",egret.getTimer()-s,"ms"),o},e.removeCarriageReturn=function(t){return t+="",t.replace(/\\r/g,"\r").replace(/\r/g,"")},e.slashAndReturnParse=function(t,e){return void 0===e&&(e=!1),e?t&&t.length>0?(-1!=t.search(/\\r/)&&(t=t.replace(/\\r/g,"\r")),-1!=t.search(/\\n/)&&(t=t.replace(/\\n/g,"\n")),t):t:t&&t.length>0?(-1!=t.search(/\r/)&&(t=t.replace(/\r/g,"\\r")),-1!=t.search(/\n/)&&(t=t.replace(/\n/g,"\\n")),t):t},e.lang=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=arguments[0],n=model.LocaleModel.Ins.getString(i);if(n&&n.length>0)for(var o=1;o<arguments.length;o++)n=n.replace("%c",arguments[o]);return n},e.getChineseNumber=function(t,i){if(0>t)return"";var n="",o=(t+"").split("."),s=o.shift();o.length?o.shift():null;i&&(s=s.replace(/0+$/g,function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var n="",o=0;o<t.length;o++)n+=" ";return n})),o=s.split("");for(var r,a,l=0;l<o.length;l++)" "!=o[l]&&(r=parseInt(o[l],10),0==r&&l>0&&i&&(a=parseInt(o[l-1],10),a==r)||(n+=e.SYMBOLS[r],0!=r&&i&&(n+=e.UNITS[o.length-l-1])));return n},e.is=function(t,e){var i=typeof t,n=typeof e;if(void 0===t||void 0===i)return!1;if(t===e)return!0;if(i===e)return!0;switch(e){case String:if("string"===i)return!0;break;case Number:if("number"===i)return!0;break;case Boolean:if("boolean"===i)return!0;break;case Array:if("array"===i)return!0}return"function"===n?t instanceof e:i===n},e.timeout=function(e,i,n){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];if(e>0){var r=setTimeout(function(){t.Tools.clearTimeout(r),i&&i.apply(n,o)},e);return r}return-1},e.clearTimeout=function(t){-1!=t&&clearTimeout(t)},e.clone=function(e){var i;if("object"==typeof e)if(null===e)i=null;else if(e instanceof Array){i=[];for(var n=0,o=e.length;o>n;n++)i.push(t.Tools.clone(e[n]))}else{i={};for(var s in e)i[s]=t.Tools.clone(e[s])}else i=e;return i},e.strlen=function(t){for(var e=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);n>=1&&126>=n||n>=65376&&65439>=n?e++:e+=2}return e},e.getFormatText=function(t,i){void 0===i&&(i=10);var n="",o=0;i=i||10;for(var s=0;s<t.length;s++){if(!(i>o)){o+=e.strlen("..."),n+="...";break}o+=e.strlen(t[s]),n+=t[s]}return n},e}();e.SYMBOLS=["零","一","二","三","四","五","六","七","八","九"],e.UNITS=["","十","百","千","万"],t.Tools=e,__reflect(e.prototype,"game.Tools")}(game||(game={}));var init;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.handler_do=function(){ui.UIUtils.lifeTime(Main.Inst,function(){this.onAddedToStage()},null,this,!0)},e.prototype.onAddedToStage=function(){egret.ImageLoader.crossOrigin="Anonymous",game.MusicManager.Ins.initGameSettings(),WindowMsg.Ins.startListen(),egret.Capabilities.runtimeType==egret.RuntimeType.WEB&&RES.registerVersionController(new game.WebVersionController),ui.FGUIExtension.init(),ui.UILayer.Ins.init(Main.Inst.stage),model.ErrorAction.initActionMap(),this.done()},e}(t.BaseInit);t.AddedToStage=e,__reflect(e.prototype,"init.AddedToStage")}(init||(init={}));var model;!function(t){var e=function(){function e(){this._gameConfig=null}return Object.defineProperty(e,"Ins",{get:function(){return this._ins||(this._ins=new t.LocalConfigModel),this._ins},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gameConfig",{get:function(){return this._gameConfig||(this._gameConfig=game.Tools.loadGameConfig()),this._gameConfig},enumerable:!0,configurable:!0}),e.prototype.getUnitRowsR=function(){for(var t=5,e=[],i=0;t>i;i++)e.push([]);for(var n=_.where(this.gameConfig.slotsgameunit.all,{table:1}),i=0;i<n.length;i++)e[0].push(n[i].row1),e[1].push(n[i].row2),e[2].push(n[i].row3),e[3].push(n[i].row4),e[4].push(n[i].row5);return e},e.prototype.getUnitRowsS=function(){for(var t=5,e=[],i=0;t>i;i++)e.push([]);for(var n=_.where(this.gameConfig.slotsgameunit.all,{table:2}),i=0;i<n.length;i++)e[0].push(n[i].row1),e[1].push(n[i].row2),e[2].push(n[i].row3),e[3].push(n[i].row4),e[4].push(n[i].row5);return e},e.prototype.getTaskAllUnit=function(){return this.gameConfig.slotsgameminigame.all},e.prototype.getTaskUnit=function(t){var e=_.where(this.gameConfig.slotsgameminigame.all,{unit:t});return e.length>0?e[0]:null},e.prototype.getTaskUnitPoint=function(t){var e=this.getTaskUnit(t);return e?e.unitPoint:0},e.prototype.getBigWin=function(){return this.gameConfig.slotsgamecontent.all[0].bigwin},e.prototype.getSuperWin=function(){return this.gameConfig.slotsgamecontent.all[0].superwin},e.prototype.slotsgamecontent=function(t){return this.gameConfig.slotsgamecontent.all[0][t]},e.prototype.getPoint001=function(){return this.gameConfig.slotsgameminigame.all[0].pointValue},e.prototype.getPoint002=function(){return this.gameConfig.slotsgameminigame.all[1].pointValue},e.prototype.getCollectDataById=function(t){var e=parseInt(t);return _.where(this.gameConfig.slotsgameminigame.all,{id:e})[0]},e}();t.LocalConfigModel=e,__reflect(e.prototype,"model.LocalConfigModel")}(model||(model={}));var init;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e._catchErrorTotal=0,e._reportCatchErrorSending=!1,e}return __extends(e,t),e.prototype.handler_do=function(){if(window&&window.location&&window.location.href&&-1!=window.location.href.indexOf("localhost"))this.done();else{var t=this;window.onerror=function(e,i,n,o,s){if(e){if(e.indexOf("Script error")>-1)return;if(e.indexOf("Cannot read property 'asCom' of null")>-1)return;if(e.indexOf("Cannot read property 'removeEventListener' of null")>-1)return;if(e.indexOf("Cannot read property 'getItem' of null")>-1)return}if(!(t._catchErrorTotal>50)){t._catchErrorTotal++;var r={Error:e,Script:i,Line:n,Column:o,ErrorObj:s+"",StackTrace:s&&s.stack&&(s.stack+"").split("\n")};t._catchErrorHistory.push(r),t._reportCatchError()}},this.done()}},e.prototype._reportCatchError=function(){var t=this;!t._reportCatchErrorSending&&t._catchErrorHistory.length>0&&(t._reportCatchErrorSending=!0,model.GeneralServerRequest.reqReportClientError(t._catchErrorHistory),t._catchErrorHistory=[],setTimeout(function(){t._reportCatchErrorSending=!1,t._reportCatchError()},1e3))},e}(t.BaseInit);t.CatchError=e,__reflect(e.prototype,"init.CatchError")}(init||(init={}));var init;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.handler_web=function(){var t=new Date,e=egret.getTimer(),i=console.log;console.log=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];t=new Date,t.setTime(t.getTime()+egret.getTimer()-e);var s=t.getHours(),r=t.getMinutes(),a=t.getSeconds(),l="["+(10>s?"0"+s:s)+":"+(10>r?"0"+r:r)+":"+(10>a?"0"+a:a)+"]";n.unshift(l),i.apply(console,n)}},e.prototype.handler_native=function(){var t=console.log;console.log=function(){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i]);t.apply(console,[e.join(" ")])}},e}(t.BaseInit);t.ConsoleHacker=e,__reflect(e.prototype,"init.ConsoleHacker")}(init||(init={}));var init;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.handler_do=function(){this.initSupportLanguages(),PPGame.urlParams&&PPGame.urlParams.locale&&(model.LocaleModel.Ins.locale=PPGame.urlParams.locale);var t=model.LocaleModel.Ins.locale;t?this.done():this.setToDefaultLocale()},e.prototype.done=function(){console.log("determine locale:",model.LocaleModel.Ins.locale),t.prototype.done.call(this)},e.prototype.initSupportLanguages=function(){switch(PPGame.EDITION){case PPEdition.ASIA:model.LocaleModel.SUPPORTED_LANGUAGES=["zh_TW"];break;case PPEdition.MIDDLE_EAST:model.LocaleModel.SUPPORTED_LANGUAGES=["ar"]}},e.prototype.setToDefaultLocale=function(){model.LocaleModel.Ins.locale=model.LocaleModel.SUPPORTED_LANGUAGES[0],this.done()},e}(t.BaseInit);t.DetermineLocale=e,__reflect(e.prototype,"init.DetermineLocale")}(init||(init={}));var init;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.handler_do=function(){var t=ui.LoadingView.create(!1),e=!1,i=model.LocaleModel.Ins.locale,n="locale_"+i;RES.hasRes(n)&&(RES.createGroup(n,[n]),e=!0),e&&t.queue(n,!1,30),t.queue("slots",!0,e?70:100),t.setCallback(this.showLogin,this).load()},e.prototype.showLogin=function(){PPGame.Ins.trackEvent(PPTrackEvent.LOADING,PPLoadingStep.LOADING_VIEW_LOAD),model.LocaleModel.Ins.init(),ui.UILayer.Ins.switchStatus(ui.UIStatusIds.LOGIN),console.log("[LoadAndShowLogin]","ui.UIStatusIds.LOGIN"),this.done()},e}(t.BaseInit);t.LoadAndShowLogin=e,__reflect(e.prototype,"init.LoadAndShowLogin")}(init||(init={}));var init;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.handler_do=function(){this.loadRes(),this.done()},e.prototype.loadRes=function(){var t=[];t.push("laohujinew001_json"),t.push("laohujinew001_swf_json"),t.push("laohujinew002_json"),t.push("laohujinew002_swf_json"),t.push("laohujinew003_json"),t.push("laohujinew003_swf_json"),t.push("beilv_swf_json"),t.push("beilv_json"),game.AssetManager.Ins.loadAssets(t,function(t){console.log("LoadOtherResource  done")},this)},e}(t.BaseInit);t.LoadDynamicResource=e,__reflect(e.prototype,"init.LoadDynamicResource")}(init||(init={}));var init;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.handler_do=function(){for(var t,i=ui.LoadingView.create(!1);e.LOADING_GROUPS.length;)t=e.LOADING_GROUPS.shift(),i.queue(t.group,t.isUI,t.weight);i.setUpdateCallback(function(t){game.GameEvent.PRELOADING_PROGRESS.dispatch(t)},this),i.setCallback(function(){this.onComplete()},this),i.load()},e.prototype.onComplete=function(){PPGame.Ins.trackEvent(PPTrackEvent.LOADING,PPLoadingStep.RES_LOAD),this.done()},e}(t.BaseInit);e.LOADING_GROUPS=[{group:"first_page",isUI:!0,weight:90}],t.LoadGameResource=e,__reflect(e.prototype,"init.LoadGameResource")}(init||(init={}));var init;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.handler_do=function(){RES.addEventListener(RES.ResourceEvent.CONFIG_LOAD_ERROR,this.onConfigLoadError,this),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),PPGame.Ins.trackEvent(PPTrackEvent.LOADING,PPLoadingStep.MANIFEST_LOAD_BEGIN),this.startLoadConfig()},e.prototype.startLoadConfig=function(){var t=model.LocaleModel.Ins.locale,e=t==model.LocaleModel.DEFAULT_LOCALE?"default.res.json":"default.res."+t+".json";RES.loadConfig(RES.getVersionController().getVirtualUrl("resource/"+e),"resource/")},e.prototype.onConfigLoadError=function(t){this.startLoadConfig()},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_LOAD_ERROR,this.onConfigLoadError,this),RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),PPGame.Ins.trackEvent(PPTrackEvent.LOADING,PPLoadingStep.RES_CONFIG_LOAD),this.done()},e}(t.BaseInit);t.LoadResConfig=e,__reflect(e.prototype,"init.LoadResConfig")}(init||(init={}));var init;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.handler_do=function(){var t=this;model.UserModel.Ins.reqLogin(function(){game.GameEvent.PRELOADING_PROGRESS.dispatch(100),PPGame.Ins.trackEvent(PPTrackEvent.LOADING,PPLoadingStep.LOGIN),setTimeout(function(){game.GameEvent.PRELOADING_COMPLETE.dispatch(),t.done()},500)},t)},e}(t.BaseInit);t.PlatformLogin=e,__reflect(e.prototype,"init.PlatformLogin")}(init||(init={}));var Main=function(t){function e(){var i=t.call(this)||this;return e.Inst=i,i.init(),i}return __extends(e,t),e.prototype.init=function(){this._initSequence=init.BaseInit.sequence,this._initSequence.add(new init.ConsoleHacker).add(new init.DetermineLocale).add(new init.AddedToStage).add(new init.LoadResConfig).add(new init.LoadAndShowLogin).add(new init.LoadGameResource).add(new init.PlatformLogin).add(new init.LoadDynamicResource).done(this.determinScene,this)["do"]()},e.prototype.determinScene=function(){console.log("[Main]","Done"),model.UserModel.Ins.getIsClosed()?model.UserModel.Ins.getRanking(1,function(t){ui.UILayer.Ins.popup(ui.PopUpIds.RANKING,t)},this):ui.UILayer.Ins.switchStatus(ui.UIStatusIds.MAIN),WindowMsg.Ins.posMessage({key:"loadComplete"})},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var PPEdition=function(){function t(){}return t}();PPEdition.ASIA="asia",PPEdition.MIDDLE_EAST="me",__reflect(PPEdition.prototype,"PPEdition");var PPGame=function(){function t(){}return Object.defineProperty(t,"Ins",{get:function(){return null==t._ins&&(t._ins=new t),t._ins},enumerable:!0,configurable:!0}),t.prototype.run=function(){window._||(window._=window.require("underscore")),t.urlParams=this.parseQueryString(window.location.search);var e=(window&&window.location&&window.location.href)+"";e&&(-1!=e.indexOf("http://localhost")||-1!=e.indexOf("http://10.1.40.254")?(t.isLocalhost=!0,t.urlParams.env=t.urlParams.env||"local"):-1!=e.indexOf("http://tactics.")?(t.isLocalhost=!0,t.urlParams.env=t.urlParams.env||"dev"):-1!=e.indexOf("http://52.198.135.13")&&(t.isLocalhost=!0,t.urlParams.env="prodstage")),this.pageLoadTracker=window.PageLoadTracker||{},this.tdapp=window.TDAPP||null,this.trackEvent(PPTrackEvent.LOADING,PPLoadingStep.PAGE_LOAD),this.initEnv(),this.modifyURL(this.getRefreshURL()),0==t.urlParams.webgl?egret.runEgret({renderMode:"canvas"}):egret.runEgret({renderMode:"webgl"})},t.prototype.initEnv=function(){var e=t.urlParams.env||"prod";("prod"==e||"prodstage"==e)&&(e+="_"+t.EDITION),t.ENV=t.ENV_DEFINE[e],t.ENV||alert("invalid env"),-1!=e.indexOf("prod_")?(t.isLocalhost=!1,this.disableLog()):t.ENV==t.ENV_DEFINE.stage&&(t.isLocalhost=!1)},t.prototype.reload=function(){window.location&&(window.location.href=this.getRefreshURL())},t.prototype.getRefreshURL=function(){var e=location.search,i=location.href,n=i.indexOf(e);return n>0&&(i=i.substring(0,n)),i+="?v="+t.VERSION,t.isLocalhost&&t.urlParams.env&&(i+="&env="+t.urlParams.env),i},t.prototype.trackEvent=function(t,e,i){if(t==PPTrackEvent.LOADING)switch(e){case PPLoadingStep.MANIFEST_LOAD:this.pageLoadTracker.manifestLoaded=!0;break;case PPLoadingStep.RES_CONFIG_LOAD:this.pageLoadTracker.resConfigLoaded=!0;break;case PPLoadingStep.LOADING_VIEW_LOAD:this.pageLoadTracker.loadingViewLoaded=!0}this.tdapp&&(console.log("trackEvent",t,e),e&&i?this.tdapp.onEvent(t,e,i):e?this.tdapp.onEvent(t,e):this.tdapp.onEvent(t))},t.prototype.parseQueryString=function(t){for(var e,i,n,o=/(([^?&=]+)(?:=([^?&=]*))*)/g,s={};e=o.exec(t);)i=e[2],n=e[3]||"",s[i]=decodeURIComponent(n);return s},t.prototype.modifyURL=function(t,e,i){if(window.history){var n={},t=t||location.href,e=e||document.title;i?window.history.pushState(n,e,t):window.history.replaceState(n,e,t)}},t.prototype.disableLog=function(){this.logger={log:console.log,error:console.error},console.log=console.error=function(){}
},t}();PPGame.ENV_DEFINE={local:{BASE_URL:"http://tactics.xingyunzhi.cn/5332/",LOBBY_URL:"http://tactics.xingyunzhi.cn/5400/",RES_URL:""},dev:{BASE_URL:"http://tactics.xingyunzhi.cn/5332/",LOBBY_URL:"http://tactics.xingyunzhi.cn/5400/",RES_URL:""},stage:{BASE_URL:"http://tactics.xingyunzhi.cn/5332/",LOBBY_URL:"http://tactics.xingyunzhi.cn/5400/",RES_URL:""},prodstage_asia:{BASE_URL:"http://52.198.135.13:5332/",LOBBY_URL:"http://52.198.135.13:5400/",RES_URL:""},prod_asia:{BASE_URL:"http://upgame.upliveapps.com/up_casino_slot_party_asia_api/",LOBBY_URL:"http://upgame.upliveapps.com/up_casino_lobby_asia_api/",RES_URL:"http://g.cdn.upliveapp.com/up_casino_slot_party_asia/"},prodstage_me:{BASE_URL:"",LOBBY_URL:"",RES_URL:""},prod_me:{BASE_URL:"",LOBBY_URL:"",RES_URL:""}},PPGame.urlParams={},PPGame.isLocalhost=!1,PPGame.EDITION=PPEdition.ASIA,__reflect(PPGame.prototype,"PPGame");var PPTrackEvent=function(){function t(){}return t}();PPTrackEvent.LOADING="loading",PPTrackEvent.PAY="pay",__reflect(PPTrackEvent.prototype,"PPTrackEvent");var PPLoadingStep=function(){function t(){}return t}();PPLoadingStep.PAGE_LOAD="page_load",PPLoadingStep.MANIFEST_LOAD_BEGIN="manifest_load_begin",PPLoadingStep.MANIFEST_LOAD="manifest_load",PPLoadingStep.MANIFEST_PARSE_FAIL="manifest_parse_fail",PPLoadingStep.RES_CONFIG_LOAD="res_config_load",PPLoadingStep.LOADING_VIEW_LOAD="loading_view_load",PPLoadingStep.RES_LOAD="res_load",PPLoadingStep.LOGIN="login",__reflect(PPLoadingStep.prototype,"PPLoadingStep");var PPPayStep=function(){function t(){}return t}();PPPayStep.REQUEST_PAY="request_pay",PPPayStep.SUCESS_PAY="sucess_pay",__reflect(PPPayStep.prototype,"PPPayStep");var components;!function(t){var e;!function(t){var e=function(){function t(){this._queue=[],this._logics=[],this._index=0}return t.prototype.add=function(t){return t&&-1==this._queue.indexOf(t)&&this._queue.push(t),this},t.prototype.on=function(t,e){this._callback=t,this._context=e,this.next()},t.prototype.next=function(t){if(t&&-1==this._logics.indexOf(t)&&this._logics.push(t),this._index<this._queue.length){var e=this._queue.shift();e.onComplete(this.next,this),e.init()}else this._callback&&this._callback.apply(this._context,[this._logics])},t}();t.UIReplacementInitializer=e,__reflect(e.prototype,"components.core.UIReplacementInitializer")}(e=t.core||(t.core={}))}(components||(components={}));var ui;!function(t){var e;!function(t){var e=function(){function t(){}return t["do"]=function(t,e,i){var n=t.name,o=n.split("_");if(2==o.length){var s=o[0],r=o[1],a=this.wrap(s,r,t);a&&(t.removeChildren(),t.addChild(a)),e&&e.apply(i,[a])}},t.wrap=function(t,e,i){var n=fairygui.UIPackage.getByName(t);if(n&&i){var o=fairygui.UIPackage.createObject(t,e);if(o)return o.setSize(i.width,i.height),o.addRelation(i,fairygui.RelationType.Width),o.addRelation(i,fairygui.RelationType.Height),o}return null},t}();t.UIReplacementWrapper=e,__reflect(e.prototype,"ui.core.UIReplacementWrapper")}(e=t.core||(t.core={}))}(ui||(ui={}));var components;!function(t){var e;!function(t){var e=function(){function e(){}return e.bindAll=function(){fairygui.UIObjectFactory.setPackageItemExtension(t.UI_hud.URL,t.UI_hud),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component10.URL,t.UI_Component10),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component3.URL,t.UI_Component3),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component5.URL,t.UI_Component5),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component27.URL,t.UI_Component27),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_return.URL,t.UI_return),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component110.URL,t.UI_Component110),fairygui.UIObjectFactory.setPackageItemExtension(t.UI_Component582.URL,t.UI_Component582)},e}();t.hudBinder=e,__reflect(e.prototype,"components.hud.hudBinder")}(e=t.hud||(t.hud={}))}(components||(components={}));var components;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("hud","Component10")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n34=this.getChildAt(0)},e}(fairygui.GComponent);e.URL="ui://hbp5g92rs4j43",t.UI_Component10=e,__reflect(e.prototype,"components.hud.UI_Component10")}(e=t.hud||(t.hud={}))}(components||(components={}));var components;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("hud","Component110")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getControllerAt(0),this.m_n14=this.getChildAt(0),this.m_n22=this.getChildAt(1),this.m_n21=this.getChildAt(2),this.m_n17=this.getChildAt(3),this.m_t1=this.getTransitionAt(0)},e}(fairygui.GButton);e.URL="ui://hbp5g92rs4j4g",t.UI_Component110=e,__reflect(e.prototype,"components.hud.UI_Component110")}(e=t.hud||(t.hud={}))}(components||(components={}));var components;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("hud","Component27")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_button=this.getControllerAt(0),this.m_n73=this.getChildAt(0),this.m_n72=this.getChildAt(1)},e}(fairygui.GButton);e.URL="ui://hbp5g92rs4j4b",t.UI_Component27=e,__reflect(e.prototype,"components.hud.UI_Component27")}(e=t.hud||(t.hud={}))}(components||(components={}));var components;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("hud","Component3")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getControllerAt(0),this.m_n33=this.getChildAt(0),this.m_n34=this.getChildAt(1),this.m_n39=this.getChildAt(2),this.m_n40=this.getChildAt(3),this.m_n41=this.getChildAt(4)},e}(fairygui.GComponent);e.URL="ui://hbp5g92rs4j44",t.UI_Component3=e,__reflect(e.prototype,"components.hud.UI_Component3")}(e=t.hud||(t.hud={}))}(components||(components={}));var components;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("hud","Component5")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n36=this.getChildAt(0)},e}(fairygui.GButton);e.URL="ui://hbp5g92rs4j49",t.UI_Component5=e,__reflect(e.prototype,"components.hud.UI_Component5")}(e=t.hud||(t.hud={}))}(components||(components={}));var components;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("hud","Component582")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n18=this.getChildAt(0),this.m_n19=this.getChildAt(1),this.m_n20=this.getChildAt(2)},e}(fairygui.GComponent);e.URL="ui://hbp5g92rs4j4i",t.UI_Component582=e,__reflect(e.prototype,"components.hud.UI_Component582")}(e=t.hud||(t.hud={}))}(components||(components={}));var components;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("hud","hud")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_c1=this.getControllerAt(0),this.m_n1=this.getChildAt(0),this.m_n34=this.getChildAt(1),this.m_n11=this.getChildAt(2),this.m_n3=this.getChildAt(3),this.m_n4=this.getChildAt(4),this.m_n5=this.getChildAt(5),this.m_002_shuzi=this.getChildAt(6),this.m_n9=this.getChildAt(7),this.m_n7=this.getChildAt(8),this.m_n8=this.getChildAt(9)},e}(fairygui.GComponent);e.URL="ui://hbp5g92rs4j40",t.UI_hud=e,__reflect(e.prototype,"components.hud.UI_hud")}(e=t.hud||(t.hud={}))}(components||(components={}));var components;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.createInstance=function(){return fairygui.UIPackage.createObject("hud","return")},e.prototype.constructFromXML=function(e){t.prototype.constructFromXML.call(this,e),this.m_n16=this.getChildAt(0)},e}(fairygui.GButton);e.URL="ui://hbp5g92rs4j4e",t.UI_return=e,__reflect(e.prototype,"components.hud.UI_return")}(e=t.hud||(t.hud={}))}(components||(components={}));var components;!function(t){var e;!function(e){var i=function(){function e(){t.hud.hudBinder.bindAll()}return e.prototype.setParams=function(t,e){var i=this;return i._replacer=t,i._logicClass=e,i},e.prototype.init=function(){var t=this;if(t._replacer)return ui.core.UIReplacementWrapper["do"](t._replacer,function(e){t._ui=t.wrap(e),t.doLogic()},t),t},e.prototype.onComplete=function(t,e){return this._onCompleteCallback=t,this._onCompleteCallbackContext=e,this},e.prototype.wrap=function(t){var e=t,i={controller:e.m_c1,returnBtn:e.m_n8,headComp:e.m_n34.m_n34,nameText:e.m_n4,diamondGraph:e.m_002_shuzi,diamondText:function(){var t=new egret.TextField;return t.size=24,t.textColor=16777215,t.y=6,t.width=120,t.textAlign=egret.HorizontalAlign.LEFT,t.name="labelTxt",t}(),chargeBtn:e.m_n5,musicBtn:e.m_n7,taskComp:e.m_n9};return i},e.prototype.doLogic=function(){var t=new this._logicClass(this._ui);this._onCompleteCallback&&this._onCompleteCallback.apply(this._onCompleteCallbackContext,[t])},e}();e.SlotHud=i,__reflect(i.prototype,"components.hud.SlotHud",["components.core.IUIReplacement"])}(e=t.hud||(t.hud={}))}(components||(components={}));var starlingswf;!function(t){var e=function(){function t(){}return t.setBlendMode=function(e,i){t.modes[i]&&(e.blendMode=i)},t}();e.modes={normal:!0,add:!0},t.SwfBlendMode=e,__reflect(e.prototype,"starlingswf.SwfBlendMode")}(starlingswf||(starlingswf={}));var starlingswf;!function(t){var e=function(e){function i(t,i,n,o,s){void 0===s&&(s=null);var r=e.call(this)||this;return r._isPlay=!1,r.loop=!0,r._completeFunction=null,r._hasCompleteListener=!1,r._frames=t,r._labels=i,r._displayObjects=n,r._frameEvents=s,r._startFrame=0,r._endFrame=r._frames.length-1,r._ownerSwf=o,r.setCurrentFrame(0),r.play(),r}return __extends(i,e),i.prototype.onAdded=function(t){},i.prototype.onRemoved=function(t){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAdded,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoved,this)},i.prototype.update=function(){if(this._isPlay)if(this._currentFrame>this._endFrame){var t=!1;if(this.loop&&this._startFrame!=this._endFrame||(this._ownerSwf&&this.stop(!1),t=!0),this.hasEventListener(egret.Event.COMPLETE)&&this.dispatchEventWith(egret.Event.COMPLETE),t)return;this.setCurrentFrame(this._startFrame)}else this.setCurrentFrame(this._currentFrame),this._currentFrame+=1},i.prototype.setCurrentFrame=function(e){this.removeChildren(),this._currentFrame=e,this.__frameInfos=this._frames[this._currentFrame];for(var i,n,o,s,r=this.__frameInfos.length,a=0;r>a;a++){switch(i=this.__frameInfos[a],s=i[10],n=this._displayObjects[i[0]][s],n.skewX=i[6],n.skewY=i[7],n.alpha=i[8],n.name=i[9],n.x=i[2],n.y=i[3],i[1]){case t.Swf.dataKey_Scale9:n.width=i[11],n.height=i[12],t.SwfBlendMode.setBlendMode(n,i[13]);break;case t.Swf.dataKey_ShapeImg:n.width=i[11],n.height=i[12],t.SwfBlendMode.setBlendMode(n,i[13]);break;case t.Swf.dataKey_TextField:o=n,o.width=i[11],o.height=i[12],o.fontFamily=i[13],o.textColor=i[14],o.size=i[15],o.textAlign=i[16],i[19]&&"\r"!=i[19]&&""!=i[19]&&(o.text=i[19]),t.SwfBlendMode.setBlendMode(o,i[20]);break;default:n.scaleX=i[4],n.scaleY=i[5],t.SwfBlendMode.setBlendMode(n,i[11])}this.addChild(n),n.$parent=this}null!=this._frameEvents&&null!=this._frameEvents[this._currentFrame]&&this.dispatchEventWith(this._frameEvents[this._currentFrame])},i.prototype.getCurrentFrame=function(){return this._currentFrame},i.prototype.play=function(){this._isPlay=!0,this._ownerSwf.swfUpdateManager.addSwfAnimation(this);var e,i,n;for(e in this._displayObjects)if(0==e.indexOf(t.Swf.dataKey_MovieClip)){i=this._displayObjects[e],n=i.length;for(var o=0;n>o;o++)i[o].play()}},i.prototype.stop=function(e){if(void 0===e&&(e=!0),this._isPlay=!1,this._ownerSwf.swfUpdateManager.removeSwfAnimation(this),e){var i,n,o;for(i in this._displayObjects)if(0==i.indexOf(t.Swf.dataKey_MovieClip)){n=this._displayObjects[i],o=n.length;for(var s=0;o>s;s++)n[s].stop(e)}}},i.prototype.gotoAndStop=function(t,e){void 0===e&&(e=!0),this.goTo(t),this.stop(e)},i.prototype.gotoAndPlay=function(t){this.goTo(t),this.play()},i.prototype.goTo=function(t){if("string"==typeof t){var e=this.getLabelData(t);this._currentLabel=e[0],this._currentFrame=this._startFrame=e[1],this._endFrame=e[2]}else"number"==typeof t&&(this._currentFrame=this._startFrame=t,this._endFrame=this._frames.length-1);this.setCurrentFrame(this._currentFrame)},i.prototype.getLabelData=function(t){for(var e,i=this._labels.length,n=0;i>n;n++)if(e=this._labels[n],e[0]==t)return e;return null},i.prototype.isPlay=function(){return this._isPlay},i.prototype.totalFrames=function(){return this._frames.length},i.prototype.currentLabel=function(){return this._currentLabel},i.prototype.labels=function(){for(var t=this._labels.length,e=[],i=0;t>i;i++)e.push(this._labels[i][0]);return e},i.prototype.hasLabel=function(t){var e=this.labels();return!(-1==e.indexOf(t))},i}(t.SwfSprite);t.SwfMovieClip=e,__reflect(e.prototype,"starlingswf.SwfMovieClip",["starlingswf.ISwfAnimation"])}(starlingswf||(starlingswf={}));var model;!function(t){var e=function(){function t(){}return Object.defineProperty(t,"Ins",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locale",{get:function(){return this._locale},set:function(t){this._locale=t},enumerable:!0,configurable:!0}),t.prototype.isValidLocale=function(e){var i=!1;if(e)for(var n=0;n<t.SUPPORTED_LANGUAGES.length;n++)if(t.SUPPORTED_LANGUAGES[n]==e){i=!0;break}return i},t.prototype.init=function(){if(!this._data){this._loaderMap=i[this.locale];var e=RES.getRes("locale_"+this.locale);e&&(console.log("[Locale]","init success",this.locale),this._data=e,this.locale!=t.zh_TW&&(fairygui.UIPackage._stringsSource=this._data))}},t.prototype.getString=function(t){return this.init(),t=this.customTrim(t),t=game.Tools.removeCarriageReturn(t),this._data&&this._data[t]?this._data[t]:t},t.prototype.customTrim=function(t){return t&&t.length>0&&(" "==t.charAt(0)&&(t=t.substr(1))," "==t.charAt(t.length-1)&&(t=t.substr(0,t.length-1))),t},t.prototype.getLocaleLoaderResource=function(t){if(!this._loaderMap)return t;for(var e in this._loaderMap)if(-1!=t.search(e))return t=t.replace(e,this._loaderMap[e]);return t},t}();e.zh_TW="zh_TW",e.AR="ar",e.SUPPORTED_LANGUAGES=[],e.DEFAULT_LOCALE=e.zh_TW,t.LocaleModel=e,__reflect(e.prototype,"model.LocaleModel");var i=function(){function t(){}return t}();i.zh_CN={"dynamic/baihu.jpg":"dynamic_zh_CN/baihu.jpg"},i.zh_TW={"dynamic/login_ani_bg4.jpg":"dynamic_zh_TW/login_ani_bg4.jpg"},i.en_US={"dynamic/baihu.jpg":"dynamic_en_US/baihu.jpg"},t.LOCALE_LOADER_MAP=i,__reflect(i.prototype,"model.LOCALE_LOADER_MAP")}(model||(model={}));var starlingswf;!function(t){var e=function(){function e(i,n,o){void 0===o&&(o=24),this._swfData=i,this._assetManager=n,this._createDisplayFuns=new Object,this._createDisplayFuns[e.dataKey_Sprite]=this.createSprite,this._createDisplayFuns[e.dataKey_MovieClip]=this.createMovie,this._createDisplayFuns[e.dataKey_Image]=this.createImage,this._createDisplayFuns[e.dataKey_Scale9]=this.createS9Image,this._createDisplayFuns[e.dataKey_ShapeImg]=this.createShapeImage,this._createDisplayFuns[e.dataKey_TextField]=this.createTextField,this.swfUpdateManager=t.SwfUpdateManager.createSwfUpdateManager(o),this.addUpdateEventListener()}return e.prototype.addUpdateEventListener=function(){egret.Ticker.getInstance().register(this.swfUpdateManager.update,this.swfUpdateManager)},e.prototype.removeUpdateEventListener=function(){egret.Ticker.getInstance().unregister(this.swfUpdateManager.update,this.swfUpdateManager)},e.prototype.clearUpdateQueue=function(){this.swfUpdateManager.clearQueue(this.swfUpdateManager)},e.prototype.createSprite=function(i,n,o){void 0===n&&(n=null),void 0===o&&(o=null),null==o&&(o=this._swfData[e.dataKey_Sprite][i]);for(var s,r,a,l=new t.SwfSprite,h=o.length,u=0;h>u;u++)s=o[u],a=this._createDisplayFuns[s[1]],null!=a&&(r=a.apply(this,[s[0],s]),r.name=s[9],r.x=s[2],r.y=s[3],s[1]!=e.dataKey_Scale9&&s[1]!=e.dataKey_ShapeImg&&(r.scaleX=s[4],r.scaleY=s[5]),r.skewX=s[6],r.skewY=s[7],r.alpha=s[8],l.addChild(r));return null!=n&&t.SwfBlendMode.setBlendMode(l,n[11]),l},e.prototype.createMovie=function(i,n){void 0===n&&(n=null);var o,s,r,a,l,h=this._swfData[e.dataKey_MovieClip][i],u=h.objCount,c={};for(l in u){s=u[l][0],r=u[l][1],o=null==c[l]?[]:c[l];for(var _=0;r>_;_++)a=this._createDisplayFuns[s],null!=a&&o.push(a.apply(this,[l,null]));c[l]=o}var p=new t.SwfMovieClip(h.frames,h.labels,c,this,h.frameEvents);return p.loop=h.loop,null!=n&&t.SwfBlendMode.setBlendMode(p,n[11]),p},e.prototype.createImage=function(i,n){void 0===n&&(n=null);var o=this._swfData[e.dataKey_Image][i];if(!o)return null;var s=this._assetManager.createBitmap(i);return s.anchorOffsetX=o[0],s.anchorOffsetY=o[1],null!=n&&t.SwfBlendMode.setBlendMode(s,n[11]),s},e.prototype.createS9Image=function(i,n){void 0===n&&(n=null);var o=this._swfData[e.dataKey_Scale9][i],s=this._assetManager.createBitmap(i);return s.scale9Grid=new egret.Rectangle(o[0],o[1],o[2],o[3]),null!=n&&(s.width=n[10],s.height=n[11],t.SwfBlendMode.setBlendMode(s,n[13])),s},e.prototype.createShapeImage=function(e,i){void 0===i&&(i=null);var n=this._assetManager.createBitmap(e);return n.fillMode=egret.BitmapFillMode.REPEAT,null!=i&&(n.width=i[10],n.height=i[11],t.SwfBlendMode.setBlendMode(n,i[13])),n},e.prototype.createTextField=function(e,i){void 0===i&&(i=null);var n=new egret.TextField;return null!=i&&(n.width=i[10],n.height=i[11],n.fontFamily=i[12],n.textColor=i[13],n.size=i[14],n.textAlign=i[15],n.text=i[18],t.SwfBlendMode.setBlendMode(n,i[20])),n},e}();e.dataKey_Sprite="spr",e.dataKey_Image="img",e.dataKey_MovieClip="mc",e.dataKey_TextField="text",e.dataKey_Button="btn",e.dataKey_Scale9="s9",e.dataKey_ShapeImg="shapeImg",e.dataKey_Component="comp",e.dataKey_Particle="particle",t.Swf=e,__reflect(e.prototype,"starlingswf.Swf")}(starlingswf||(starlingswf={}));var starlingswf;!function(t){var e=function(){function t(){this._sheets={},this._textures={}}return t.prototype.addSpriteSheet=function(t,e){this._sheets[t]=e},t.prototype.addTexture=function(t,e){this._textures[t]=e},t.prototype.createBitmap=function(t){var e,i,n,o;for(o in this._sheets)if(e=this._sheets[o],n=e.getTexture(t),null!=n)break;return null==n&&(n=this._textures[t]),null==n?null:(i=new egret.Bitmap,i.texture=n,i)},t}();t.SwfAssetManager=e,__reflect(e.prototype,"starlingswf.SwfAssetManager")}(starlingswf||(starlingswf={}));var starlingswf;!function(t){var e=function(){function t(){}return t.createSwfUpdateManager=function(e){var i=new t;return i._animations=[],i._addQueue=[],i._removeQueue=[],i._currentTime=0,i.setFps(e),i},t.prototype.clearQueue=function(t){t._animations=[],t._addQueue=[],t._removeQueue=[],t._currentTime=0},t.prototype.setFps=function(t){this._fps=t,this._fpsTime=1e3/t},t.prototype.addSwfAnimation=function(t){this._addQueue.push(t)},t.prototype.removeSwfAnimation=function(t){this._removeQueue.push(t)},t.prototype.updateAdd=function(){for(var t,e,i=this._addQueue.length,n=0;i>n;n++)e=this._addQueue.pop(),t=this._animations.indexOf(e),-1==t&&this._animations.push(e)},t.prototype.updateRemove=function(){for(var t,e,i=this._removeQueue.length,n=0;i>n;n++)e=this._removeQueue.pop(),t=this._animations.indexOf(e),-1!=t&&this._animations.splice(t,1)},t.prototype.update=function(t){if(this._currentTime+=t,!(this._currentTime<this._fpsTime)){this._currentTime-=this._fpsTime,this._currentTime>this._fpsTime&&(this._currentTime=0),this.updateRemove(),this.updateAdd();for(var e=this._animations.length,i=0;e>i;i++)this._animations[i].update()}},t}();t.SwfUpdateManager=e,__reflect(e.prototype,"starlingswf.SwfUpdateManager")}(starlingswf||(starlingswf={}));